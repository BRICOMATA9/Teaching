!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/travel/static-content/versioned_IA97spT9oP/js/",n(n.s=1180)}({1180:function(e,t,n){"use strict";n(854),n(863),n(864),n(866),n(867),n(868),n(869),n(870),n(1181),n(1182),n(871),n(872),n(874),n(873),n(1183),n(1184),n(875),n(876),n(877),n(879),n(878),n(1185),n(1186),n(881),n(880),n(882),n(883),n(885),n(886),n(887),n(888),n(889),n(890),n(900),n(891),n(892),n(893),n(894),n(1187),n(895),n(896),n(897),n(898),n(1188),n(899),n(1189),n(1190),n(865),e.exports=Odigeo},1181:function(e,t){!function(e,t,n){function i(e,t){var i=this,a=n(i);if(i.value==a.attr("placeholder")&&a.hasClass("placeholder"))if(a.data("placeholder-password")){if(a=a.hide().next().show().attr("id",a.removeAttr("id").data("placeholder-id")),!0===e)return a[0].value=t;a.focus()}else i.value="",a.removeClass("placeholder"),i==o()&&i.select()}function a(){var e,t,a,o=this,s=n(o),r=this.id;if(""==o.value){if("password"==o.type){if(!s.data("placeholder-textinput")){try{e=s.clone().attr({type:"text"})}catch(o){e=n("<input>").attr(n.extend((this,t={},a=/^jQuery\d+$/,n.each(this.attributes,function(e,n){n.specified&&!a.test(n.name)&&(t[n.name]=n.value)}),t),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":s,"placeholder-id":r}).bind("focus.placeholder",i),s.data({"placeholder-textinput":e,"placeholder-id":r}).before(e)}s=s.removeAttr("id").hide().prev().attr("id",r).show()}s.addClass("placeholder"),s[0].value=s.attr("placeholder")}else s.removeClass("placeholder")}function o(){try{return t.activeElement}catch(e){}}var s,r,d="placeholder"in t.createElement("input"),l="placeholder"in t.createElement("textarea"),c=n.fn,u=n.valHooks,p=n.propHooks;d&&l?(r=c.placeholder=function(){return this}).input=r.textarea=!0:((r=c.placeholder=function(){return this.filter((d?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":i,"blur.placeholder":a}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=d,r.textarea=l,s={get:function(e){var t=n(e),i=t.data("placeholder-password");return i?i[0].value:t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,t){var s=n(e),r=s.data("placeholder-password");return r?r[0].value=t:s.data("placeholder-enabled")?(""==t?(e.value=t,e!=o()&&a.call(e)):s.hasClass("placeholder")&&i.call(e,!0,t)||(e.value=t),s):e.value=t}},d||(u.input=s,p.value=s),l||(u.textarea=s,p.value=s),n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(i);setTimeout(function(){e.each(a)},10)})}),n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery)},1182:function(e,t){!function(e){function t(){this._disabledInputs=[],this.regional=[],this.regional[""]={dateFormat:"mdy/",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],spinnerTexts:["Today","Previous field","Next field","Increment","Decrement"]},this._defaults={appendText:"",initialField:0,useMouseWheel:!0,defaultDate:null,minDate:null,maxDate:null,spinnerImage:"spinnerDefault.png",spinnerSize:[20,20,8],spinnerBigImage:"",spinnerBigSize:[40,40,16],spinnerIncDecOnly:!1,spinnerRepeat:[500,250],beforeShow:null,altField:null,altFormat:null},e.extend(this._defaults,this.regional[""])}e.extend(t.prototype,{markerClassName:"hasDateEntry",propertyName:"dateEntry",_appendClass:"dateEntry_append",_controlClass:"dateEntry_control",_expandClass:"dateEntry_expand",setDefaults:function(t){return e.extend(this._defaults,t||{}),this},_attachPlugin:function(t,n){var a=e(t);if(!a.hasClass(this.markerClassName)){var o={options:e.extend({},this._defaults,n),input:a,_field:0,_selectedYear:0,_selectedMonth:0,_selectedDay:0};a.data(this.propertyName,o).addClass(this.markerClassName).bind("focus."+this.propertyName,this._doFocus).bind("blur."+this.propertyName,this._doBlur).bind("click."+this.propertyName,this._doClick).bind("keydown."+this.propertyName,this._doKeyDown).bind("keypress."+this.propertyName,this._doKeyPress).bind("paste."+this.propertyName,function(e){setTimeout(function(){i._parseDate(o)},1)}),this._optionPlugin(t,n)}},_optionPlugin:function(t,n,i){var a=(t=e(t)).data(this.propertyName);if(!n||"string"==typeof n&&null==i){var o=n;return(n=(a||{}).options)&&o?n[o]:n}if(t.hasClass(this.markerClassName)){"string"==typeof(n=n||{})&&(o=n,(n={})[o]=i);var s=this._extractDate(t.val(),a);e.extend(a.options,n),a._field=0,s&&this._setDate(a,s),t.next("span."+this._appendClass).remove(),t.parent().find("span."+this._controlClass).remove(),e.fn.mousewheel&&t.unmousewheel();var r=a.options.spinnerImage?e('<span class="'+this._controlClass+'" style="display: inline-block; background: url(\''+a.options.spinnerImage+"') 0 0 no-repeat; width: "+a.options.spinnerSize[0]+"px; height: "+a.options.spinnerSize[1]+'px;"></span>'):null;t.after(a.options.appendText?'<span class="'+this._appendClass+'">'+a.options.appendText+"</span>":"").after(r||""),a.options.useMouseWheel&&e.fn.mousewheel&&t.mousewheel(this._doMouseWheel),r&&r.mousedown(this._handleSpinner).mouseup(this._endSpinner).mouseover(this._expandSpinner).mouseout(this._endSpinner).mousemove(this._describeSpinner)}},_enablePlugin:function(e){this._enableDisable(e,!1)},_disablePlugin:function(e){this._enableDisable(e,!0)},_enableDisable:function(t,n){var a=e.data(t,this.propertyName);a&&(t.disabled=n,t.nextSibling&&"span"==t.nextSibling.nodeName.toLowerCase()&&i._changeSpinner(a,t.nextSibling,n?5:-1),i._disabledInputs=e.map(i._disabledInputs,function(e){return e==t?null:e}),n&&i._disabledInputs.push(t))},_isDisabledPlugin:function(t){return-1<e.inArray(t,this._disabledInputs)},_destroyPlugin:function(t){(t=e(t)).hasClass(this.markerClassName)&&(t.removeClass(this.markerClassName).removeData(this.propertyName).unbind("."+this.propertyName),e.fn.mousewheel&&t.unmousewheel(),this._disabledInputs=e.map(this._disabledInputs,function(e){return e==t[0]?null:e}),t.siblings("."+this._appendClass+",."+this._controlClass).remove())},_setDatePlugin:function(t,n){var i=e.data(t,this.propertyName);i&&(null===n||""===n?i.input.val(""):this._setDate(i,n?"object"==typeof n?new Date(n.getTime()):n:null))},_getDatePlugin:function(t){var n=e.data(t,this.propertyName);return n?this._extractDate(n.input.val(),n):null},_doFocus:function(t){var n=t.nodeName&&"input"==t.nodeName.toLowerCase()?t:this;if(i._lastInput==n||i._isDisabledPlugin(n))i._focussed=!1;else{var a=e.data(n,i.propertyName);i._focussed=!0,i._lastInput=n,i._blurredInput=null,e.extend(a.options,e.isFunction(a.options.beforeShow)?a.options.beforeShow.apply(n,[n]):{}),i._parseDate(a),setTimeout(function(){i._showField(a)},10)}},_doBlur:function(e){i._blurredInput=i._lastInput,i._lastInput=null},_doClick:function(t){var n,a=t.target,o=e.data(a,i.propertyName);if(!i._focussed)if(o._field=0,null!=a.selectionStart)for(var s=0,r=0;r<3&&(s+=i._fieldLength(o,r,o.options.dateFormat)+1,o._field=r,!(a.selectionStart<s));r++);else if(a.createTextRange){var d=e(t.srcElement),l=a.createTextRange(),c=t.clientX+document.documentElement.scrollLeft-(d.offset().left+parseInt({thin:2,medium:4,thick:6}[n=d.css("border-left-width")]||n,10))-l.offsetLeft;for(s=0,r=0;r<3&&(s+=i._fieldLength(o,r,o.options.dateFormat)+1,l.collapse(),l.moveEnd("character",s),o._field=r,!(c<l.boundingWidth));r++);}i._showField(o),i._focussed=!1},_doKeyDown:function(t){if(48<=t.keyCode)return!0;var n=e.data(t.target,i.propertyName);switch(t.keyCode){case 9:return t.shiftKey?i._changeField(n,-1,!0):i._changeField(n,1,!0);case 35:t.ctrlKey?i._setValue(n,""):(n._field=2,i._adjustField(n,0));break;case 36:t.ctrlKey?i._setDate(n):(n._field=0,i._adjustField(n,0));break;case 37:i._changeField(n,-1,!1);break;case 38:i._adjustField(n,1);break;case 39:i._changeField(n,1,!1);break;case 40:i._adjustField(n,-1);break;case 46:i._setValue(n,"");break;default:return!0}return!1},_doKeyPress:function(t){var n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode);if(n<" ")return!0;var a=e.data(t.target,i.propertyName);return i._handleKeyPress(a,n),!1},_doMouseWheel:function(t,n){if(!i._isDisabledPlugin(t.target)){var a=e.data(t.target,i.propertyName);a.input.focus(),a.input.val()||i._parseDate(a),i._adjustField(a,n),t.preventDefault()}},_expandSpinner:function(t){var n=i._getSpinnerTarget(t),a=e.data(i._getInput(n),i.propertyName);if(!i._isDisabledPlugin(a.input[0])&&a.options.spinnerBigImage){a._expanded=!0;var o=e(n).offset(),s=null;e(n).parents().each(function(){var t=e(this);return"relative"!=t.css("position")&&"absolute"!=t.css("position")||(s=t.offset()),!s}),e('<div class="'+i._expandClass+'" style="position: absolute; left: '+(o.left-(a.options.spinnerBigSize[0]-a.options.spinnerSize[0])/2-(s?s.left:0))+"px; top: "+(o.top-(a.options.spinnerBigSize[1]-a.options.spinnerSize[1])/2-(s?s.top:0))+"px; width: "+a.options.spinnerBigSize[0]+"px; height: "+a.options.spinnerBigSize[1]+"px; background: transparent url("+a.options.spinnerBigImage+') no-repeat 0px 0px; z-index: 10;"></div>').mousedown(i._handleSpinner).mouseup(i._endSpinner).mouseout(i._endExpand).mousemove(i._describeSpinner).insertAfter(n)}},_getInput:function(t){return e(t).siblings("."+i.markerClassName)[0]},_describeSpinner:function(t){var n=i._getSpinnerTarget(t),a=e.data(i._getInput(n),i.propertyName);n.title=a.options.spinnerTexts[i._getSpinnerRegion(a,t)]},_handleSpinner:function(t){var n=i._getSpinnerTarget(t),a=i._getInput(n);if(!i._isDisabledPlugin(a)){a==i._blurredInput&&(i._lastInput=a,i._blurredInput=null);var o=e.data(a,i.propertyName);i._doFocus(a);var s=i._getSpinnerRegion(o,t);i._changeSpinner(o,n,s),i._actionSpinner(o,s),i._timer=null,i._handlingSpinner=!0,3<=s&&o.options.spinnerRepeat[0]&&(i._timer=setTimeout(function(){i._repeatSpinner(o,s)},o.options.spinnerRepeat[0]),e(n).one("mouseout",i._releaseSpinner).one("mouseup",i._releaseSpinner))}},_actionSpinner:function(e,t){switch(e.input.val()||i._parseDate(e),t){case 0:this._setDate(e);break;case 1:this._changeField(e,-1,!1);break;case 2:this._changeField(e,1,!1);break;case 3:this._adjustField(e,1);break;case 4:this._adjustField(e,-1)}},_repeatSpinner:function(e,t){i._timer&&(i._lastInput=i._blurredInput,this._actionSpinner(e,t),this._timer=setTimeout(function(){i._repeatSpinner(e,t)},e.options.spinnerRepeat[1]))},_releaseSpinner:function(e){clearTimeout(i._timer),i._timer=null},_endExpand:function(t){i._timer=null;var n=i._getSpinnerTarget(t),a=i._getInput(n),o=e.data(a,i.propertyName);e(n).remove(),o._expanded=!1},_endSpinner:function(t){i._timer=null;var n=i._getSpinnerTarget(t),a=i._getInput(n),o=e.data(a,i.propertyName);i._isDisabledPlugin(a)||i._changeSpinner(o,n,-1),i._handlingSpinner&&(i._lastInput=i._blurredInput),i._lastInput&&i._handlingSpinner&&i._showField(o),i._handlingSpinner=!1},_getSpinnerTarget:function(e){return e.target||e.srcElement},_getSpinnerRegion:function(t,n){var i=this._getSpinnerTarget(n),a=e(i).offset(),o=[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop],s=t.options.spinnerIncDecOnly?99:n.clientX+o[0]-a.left,r=n.clientY+o[1]-a.top,d=t.options[t._expanded?"spinnerBigSize":"spinnerSize"],l=t.options.spinnerIncDecOnly?99:d[0]-1-s,c=d[1]-1-r;if(0<d[2]&&Math.abs(s-l)<=d[2]&&Math.abs(r-c)<=d[2])return 0;var u=Math.min(s,r,l,c);return u==s?1:u==l?2:u==r?3:4},_changeSpinner:function(t,n,i){e(n).css("background-position","-"+(i+1)*t.options[t._expanded?"spinnerBigSize":"spinnerSize"][0]+"px 0px")},_parseDate:function(e){var t=this._extractDate(e.input.val(),e)||this._normaliseDate(this._determineDate(e.options.defaultDate,e)||new Date);e._selectedYear=t.getFullYear(),e._selectedMonth=t.getMonth(),e._selectedDay=t.getDate(),e._lastChr="",e._field=Math.max(0,Math.min(2,e.options.initialField)),""!=e.input.val()&&this._showDate(e)},_extractDate:function(t,n){for(var i=t.split(new RegExp("[\\"+n.options.dateFormat.substring(3).split("").join("\\")+"]")),a=0,o=0,s=0,r=0;r<3;r++){var d=parseInt(i[r],10);d=isNaN(d)?0:d;var l=n.options.dateFormat.charAt(r);switch(l){case"y":a=d;break;case"Y":a=d%100+((new Date).getFullYear()-(new Date).getFullYear()%100);break;case"m":o=d;break;case"n":case"N":o=e.inArray(i[r],n.options["N"==l?"monthNames":"monthNamesShort"])+1;break;case"w":case"W":d=" "==n.options.dateFormat.charAt(3)?(i.splice(r,1),parseInt(i[r],10)):parseInt(i[r].replace(/^.* /,""),10),d=isNaN(d)?0:d;case"d":s=d}}return a&&o&&s?new Date(a,o-1,s,12):null},_showDate:function(e){this._setValue(e,this._formatDate(e,e.options.dateFormat)),this._showField(e)},_formatDate:function(e,t){for(var n="",i=0;i<3;i++){n+=0==i?"":t.charAt(3);var a=t.charAt(i);switch(a){case"y":n+=this._formatNumber(e._selectedYear);break;case"Y":n+=this._formatNumber(e._selectedYear%100);break;case"m":n+=this._formatNumber(e._selectedMonth+1);break;case"n":case"N":n+=e.options["N"==a?"monthNames":"monthNamesShort"][e._selectedMonth];break;case"d":n+=this._formatNumber(e._selectedDay);break;case"w":case"W":n+=e.options["W"==a?"dayNames":"dayNamesShort"][new Date(e._selectedYear,e._selectedMonth,e._selectedDay,12).getDay()]+" "+this._formatNumber(e._selectedDay)}}return n},_showField:function(e){var t=e.input[0];if(!e.input.is(":hidden")&&i._lastInput==t){for(var n=0,a=0;a<e._field;a++)n+=this._fieldLength(e,a,e.options.dateFormat)+1;var o=n+this._fieldLength(e,a,e.options.dateFormat);if(t.setSelectionRange)t.setSelectionRange(n,o);else if(t.createTextRange){var s=t.createTextRange();s.moveStart("character",n),s.moveEnd("character",o-e.input.val().length),s.select()}t.disabled||t.focus()}},_fieldLength:function(e,t,n){switch(t=n.charAt(t)){case"y":return 4;case"n":case"N":return e.options["N"==t?"monthNames":"monthNamesShort"][e._selectedMonth].length;case"w":case"W":return e.options["W"==t?"dayNames":"dayNamesShort"][new Date(e._selectedYear,e._selectedMonth,e._selectedDay,12).getDay()].length+3;default:return 2}},_formatNumber:function(e){return(e<10?"0":"")+e},_setValue:function(t,n){n!=t.input.val()&&(t.options.altField&&e(t.options.altField).val(n?this._formatDate(t,t.options.altFormat||t.options.dateFormat):""),t.input.val(n).trigger("change"))},_changeField:function(e,t,n){var i=""==e.input.val()||e._field==(-1==t?0:2);return i||(e._field+=t),this._showField(e),e._lastChr="",i&&n},_adjustField:function(e,t){""==e.input.val()&&(t=0);var n=e.options.dateFormat.charAt(e._field),i=e._selectedYear+("y"==n||"Y"==n?t:0),a=e._selectedMonth+("m"==n||"n"==n||"N"==n?t:0),o="d"==n||"w"==n||"W"==n?e._selectedDay+t:Math.min(e._selectedDay,this._getDaysInMonth(i,a));this._setDate(e,new Date(i,a,o,12))},_getDaysInMonth:function(e,t){return new Date(e,t+1,0,12).getDate()},_setDate:function(e,t){t=this._normaliseDate(this._determineDate(t||e.options.defaultDate,e)||new Date);var n=this._normaliseDate(this._determineDate(e.options.minDate,e)),i=this._normaliseDate(this._determineDate(e.options.maxDate,e));t=n&&t<n?n:i&&i<t?i:t,e._selectedYear=t.getFullYear(),e._selectedMonth=t.getMonth(),e._selectedDay=t.getDate(),this._showDate(e)},_determineDate:function(e,t){var n,a;return e?"string"==typeof e?function(e){var n=i._extractDate(e,t);if(n)return n;e=e.toLowerCase();for(var a=(n=i._normaliseDate(new Date)).getFullYear(),o=n.getMonth(),s=n.getDate(),r=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,d=r.exec(e);d;){switch(d[2]||"d"){case"d":s+=parseInt(d[1],10);break;case"w":s+=7*parseInt(d[1],10);break;case"m":o+=parseInt(d[1],10);break;case"y":a+=parseInt(d[1],10)}d=r.exec(e)}return new Date(a,o,s,12)}(e):"number"==typeof e?(n=e,(a=i._normaliseDate(new Date)).setDate(a.getDate()+n),a):e:null},_normaliseDate:function(e){return e&&e.setHours(12,0,0,0),e},_handleKeyPress:function(e,t){if(-1<e.options.dateFormat.substring(3).indexOf(t))this._changeField(e,1,!1);else if("0"<=t&&t<="9"){var n=e.options.dateFormat.charAt(e._field),i=parseInt(t,10),a=parseInt((e._lastChr||"")+t,10),o="y"!=n&&"Y"!=n?e._selectedYear:a,s="m"!=n&&"n"!=n&&"N"!=n?e._selectedMonth+1:1<=a&&a<=12?a:0<i?i:e._selectedMonth+1,r="d"!=n&&"w"!=n&&"W"!=n?e._selectedDay:1<=a&&a<=this._getDaysInMonth(o,s-1)?a:0<i?i:e._selectedDay;this._setDate(e,new Date(o,s-1,r,12)),e._lastChr=("y"!=n?"":e._lastChr.substr(Math.max(0,e._lastChr.length-2)))+t}else if("n"==(n=e.options.dateFormat.charAt(e._field))||"N"==n){e._lastChr+=t.toLowerCase();var d=e.options["n"==n?"monthNamesShort":"monthNames"],l=function(){for(var t=0;t<d.length;t++)if(d[t].toLowerCase().substring(0,e._lastChr.length)==e._lastChr)return t;return-1};-1==(s=l())&&(e._lastChr=t.toLowerCase(),s=l()),-1==s?e._lastChr="":(o=e._selectedYear,r=Math.min(e._selectedDay,this._getDaysInMonth(o,s)),this._setDate(e,new Date(o,s,r,12)))}}});var n=["getDate","isDisabled"];e.fn.dateEntry=function(t){var a,o,s=Array.prototype.slice.call(arguments,1);return o=s,"option"==(a=t)&&(0==o.length||1==o.length&&"string"==typeof o[0])||-1<e.inArray(a,n)?i["_"+t+"Plugin"].apply(i,[this[0]].concat(s)):this.each(function(){if("string"==typeof t){if(!i["_"+t+"Plugin"])throw"Unknown command: "+t;i["_"+t+"Plugin"].apply(i,[this].concat(s))}else{var n=e.fn.metadata?e(this).metadata():{};i._attachPlugin(this,e.extend({},n,t||{}))}})};var i=e.dateEntry=new t}(jQuery)},1183:function(e,t,n){"use strict";Odigeo.UIElements.enhanceLinkOpenNewTabBackground=function(e){var t,n=e instanceof $?e:$(e),i=n.data("url");if("true"!==n.attr("data-skip-enhance"))return n.attr({"data-skip-enhance":!0}),t=function(){var e,t;Odigeo.Device.navigator.isChrome?((e=document.createElement("a")).target="_blank",e.href=i,(t=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!0,!1,!1,!0,0,null),e.dispatchEvent(t)):window.open(i,"ads","menubar=1,resizable=1,width=600,height=800,scrollbars=yes")},n.on(Odigeo.Events.tap,t),n}},1184:function(e,t,n){"use strict";Odigeo.UIElements.enhanceBubbleNotification=function(e,t){var n,i,a,o,s,r=e instanceof $?e:$(e),d=_.extend({showBubbleWhenZero:!1},t);if("true"!==r.attr("data-skip-enhance"))return r.attr({"data-skip-enhance":!0}),s=$("<div>",{class:"od-bubble-notification-number-wrapper"}),n=$("<div>",{class:"bubble_value od-bubble-notification-number"}),s.append(n),r.append(s),i=function(e,t){n.html(t),r.toggleClass("hidden",!d.showBubbleWhenZero&&0===t)},o=function(){r.removeClass("hidden")},a=function(){r.addClass("hidden")},r.on("updateCount",i),r.on("showBubble",o),r.on("hideBubble",a),r}},1185:function(e,t,n){"use strict";Odigeo.UIElements.enhanceConditionsPopup=function(e,t,n,i){var a,o,s,r,d,l,c,u,p,g,h,f,m,v,b,y,w=e instanceof $?e:$(e),C=n||{},E={linkFontSizeModifierClass:"",wrapperModifierClass:"",popupIntroModifierClass:"",popupDualContractContainerModifierClass:"",popupContentTitleModifierClass:"",popupExclusionsModifierClass:""};if(E=$.extend(!0,E,i),"true"!==w.attr("data-skip-enhance")&&!_.isEmpty(t))return w.attr({"data-skip-enhance":!0}),w.addClass("od-modals-popup-media"),y=function(e){!_.isEmpty(C)&&_.isFunction(C.clickConditions)&&C.clickConditions(e)},f=function(){var e,n,i,a,o;e=$("<div>",{class:"od-modal-popupinfo "+E.popupDualContractContainerModifierClass}),o=$("<div>"),a=$("<span>",{html:t.dualcontract.title}),n=$("<span>",{class:"odf-link "+E.linkFontSizeModifierClass,html:t.dualcontract.opener}),i=$("<div>",{class:"odf-hidden od-insurance-policy-text-extra",html:t.dualcontract.text}),o.append(a,n),e.append(o,i),n.one(Odigeo.Events.tap,function(e){e.stopPropagation(),n.addClass("odf-hidden"),i.removeClass("odf-hidden"),y("more")}),s.append(e)},w.addClass("odf-box odf-box-layer odf-popup odf-popup-lg "+E.wrapperModifierClass),a=$("<div>",{class:"odf-box-layer-header",html:t.translations.title}),o=$("<span>",{class:"odf-box-layer-close ficon hint_close",html:"r"}),a.append(o),s=$("<div>",{class:"odf-box-content od-modals-popup-scrollcontent"}),t.translations.summaryTitle&&(r=$("<div>",{class:"popup_summary_title odf-bold odf-text-lg od-modal-popupinfo "+E.popupContentTitleModifierClass,html:t.translations.summaryTitle})),d=$("<div>",{class:"popup_intro od-modal-popupinfo "+E.popupIntroModifierClass,html:t.translations.summary}),m=t.links.summary,v=t.links.extended,b=t.links.disclosure,l=$("<div>",{class:"od-modal-popupinfo"}),_.isEmpty(_.get(m,"link"))||_.isEmpty(_.get(m,"text"))||((c=$("<div>").append($("<a>",{class:"odf-link "+E.linkFontSizeModifierClass,href:m.link,target:"_blank",html:m.text}))).on(Odigeo.Events.tap,function(e){e.stopPropagation(),y("short")}),l.append(c)),_.isEmpty(_.get(v,"link"))||_.isEmpty(_.get(v,"text"))||((u=$("<div>").append($("<a>",{class:"odf-link "+E.linkFontSizeModifierClass,href:v.link,target:"_blank",html:v.text}))).on(Odigeo.Events.tap,function(e){e.stopPropagation(),y("long")}),l.append(u)),_.isEmpty(_.get(b,"link"))||_.isEmpty(_.get(b,"text"))||((p=$("<div>").append($("<a>",{class:"odf-link "+E.linkFontSizeModifierClass,href:b.link,target:"_blank",html:b.text}))).on(Odigeo.Events.tap,function(e){e.stopPropagation(),y("disclosure")}),l.append(p)),g=$("<div>",{class:"od-modal-popupinfo "+E.popupExclusionsModifierClass,html:t.translations.exclusions}),r?s.append(r,d,l,g):s.append(d,l,g),t.dualcontract.enabled&&f(),h=$("<div>",{class:"od-modals-popup-bottom-opacitylayer"}),s.append(h),w.append(a,s),w}},1186:function(e,t,n){"use strict";Odigeo.UIElements.createCoSearch=function(){var e=$(".od-flightsManager-main #compare_site"),t={coSearchMaxItems:4},n=0;e.on("change",".comparesite_checkbox",function(){this.checked?n--:n++});var i=function(e,n){t[e]=n},a=function(){_.isUndefined(t.departureLocationIata0)||_.isEmpty(t.arrivalLocationIata0)||"multipleTrip"===t.tripType||t.multipleDestinationCities?e.addClass("hidden"):(o("render"),n=0)},o=function(n){var i,a=t.departureLocationIata0,o=t.arrivalLocationIata0,s=t.departureDate,r=t.returnDate,d="roundTrip"===t.tripType;if(_.isUndefined(s))return!1;i=function(){0===e.find(".comparesite_item").length?e.addClass("hidden"):e.removeClass("hidden")},a&&o&&s&&!t.multipleDestinationCities?window.comparesite.push([n,{fromLocation:a,toLocation:o,departure:s,arrival:r,adults:parseInt(t.numAdults,10),children:parseInt(t.numChilds,10),infants:parseInt(t.numInfants,10),maxItems:t.coSearchMaxItems,roundTrip:d},i]):e.addClass("hidden")},s=function(){return e.find(".cosearch_container .comparesite_checkbox:checked").length};return{updateField:function(e,t){i(e,t)},render:function(){a()},update:function(e){var t;t=e,_.isUndefined(t.searchSegments[0].departure)||i("departureLocationIata0",t.searchSegments[0].departure.iata),_.isUndefined(t.searchSegments[0].destination)||i("arrivalLocationIata0",t.searchSegments[0].destination.iata),i("departureDate",new Date(Date.parse(t.searchSegments[0].dateStr))),i("returnDate",1<t.searchSegments.length?new Date(Date.parse(t.searchSegments[1].dateStr)):""),i("numAdults",t.numAdults),i("numChilds",t.numChildren),i("numInfants",t.numInfants),i("tripType",t.type),i("multipleDestinationCities",!_.isUndefined(t.multipleDestinationCities)&&t.multipleDestinationCities)},open:function(){"multipleTrip"===t.tripType||t.multipleDestinationCities||o("open")},init:function(){window.comparesite=window.comparesite||[],window.comparesite.push(["init",{target:"#compare_site .cosearch_container",submitElem:$("#flights").find(".search_flight_button")[0]}]),function(){var e,n=$("#departure-autocomplete0").find(".airportselector_input"),s=$("#destination-autocomplete0").find(".airportselector_input"),r=$("#coSearchOptions");Odigeo.Device.navigator.isChrome||Odigeo.Device.navigator.isIE?r.addClass("hidden"):r.find("a").on(Odigeo.Events.tap,function(t){e="coSearchSelectAll"===$(t.target).attr("id")?"checkAll":"uncheckAll",o(e)}),i("tripType",$(".switcher_tab.active").data("value")),i("numAdults",$("#adults").val()),i("numChilds",$("#kids").val()),i("numInfants",$("#infants").val()),_.isEmpty(n.val())||_.isEmpty(s.val())||"multipleTrip"===t.tripType||a()}()},isCoSearchEnabled:function(){return!e.hasClass("hidden")},isCoSearchSelected:function(){return 0<s()},triggerAnalyticsEvent:function(){!function(){var t=e.find(".cosearch_container .comparesite_checkbox").length,i=s(),a=i+n,o=t-i;Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:"home",action:"cosearch",label:"search_load:"+a+"_check:"+i+"_uncheck:"+o}})}()}}}},1187:function(e,t,n){"use strict";Odigeo.UIElements.enhanceRadioGroup=function(e){return"true"===e.attr("data-skip-enhance")||(e.attr({"data-skip-enhance":!0}),e.on("setValue",function(t,n){e.find("input[value="+n+"]").prop("checked",!0).trigger("change")})),e}},1188:function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Odigeo.UIElements.enhanceTextRotator=function(e,t,n,a){var o,s,r,d,l,c,u=null,p=e.find("li"),g=0;return t=t||!1,n=n||100,a=a||1e3,"object"===i(this.instance)?t&&this.instance.play():(d=function(){c().fadeIn(),o()},l=function(){c().fadeOut(),g++,u=setTimeout(d,n)},c=function(){return p.eq(g%p.length)},s=function(){clearTimeout(u),u=null},o=function(){u=setTimeout(l,n+a)},r=function(){s(),p.removeAttr("style")},this.instance=new function(){return{play:o,pause:s,destroy:r}},t&&o()),this.instance}},1189:function(e,t,n){"use strict";Odigeo.UIElements.shake={},Odigeo.UIElements.shake.enhance=function(e,t){var n,i,a=e instanceof $?e:$(e),o={delay:.01,initHidden:!0};return 0!==a.length&&("true"===a.attr("data-skip-enhance")||(a.attr({"data-skip-enhance":!0}),(o=_.extend(o,t)).initHidden&&a.addClass("odf-hidden"),n=function(){a.removeClass("odf-hidden open odf-shake"),_.delay(function(){a.addClass("open odf-shake")},1e3*o.delay)},i=function(){a.removeClass("open odf-shake")},a.on("showShakeElement",n).on("hideShakeElement",i)),a)},Odigeo.UIElements.shake.unbind=function(e){return e.off("showShakeElement hideShakeElement"),e}},1190:function(e,t,n){"use strict";var i,a,o,s,r;i={min_duration:0,age_children:"",hotel_rating:0,guest_rating:0,min_cust_reviews:0,room_type:0,hotel_transfer:"",rental_car:"",beach:"",wellness:"",min_price_per_person:"",max_price_per_person:"",board_basis:0,with_sport:"",dist_sea:0,dist_ski:0,aid:"",target_group:""},a=function(e,t){var n=_.head(t).dateStr,i=_.last(t).dateStr;return{one_way:"oneWay"===e.type?1:0,non_stop:e.directFlightsOnly?1:0,cabin_class:e.cabinClass,earliest_departure_date:n,latest_return_date:i,max_duration:Odigeo.Utils.getDifferenceInDays(n,i),num_adults:e.numAdults,num_children:e.numChildren,num_infants:e.numInfants}},o=function(){var e,t,n,i,o=Odigeo.Utils.parseJson(Odigeo.Storage.get("lastSearchDynpack")),s=o.searchSegments,r=(e=o.rooms,"childrenAges",_.map(e,function(e){return e.childrenAges}));return _.extend({},a(o,s),{product:"2,5",level:1,departure:(i=s,_.map(i,function(e){return e.departure.iata})).join(","),destination:(n=s,_.map(n,function(e){return e.destination.country})).join(","),age_children:(t=r,_.filter(_.flattenDeep(t),function(e){return 0!==e})).join(",")})},s=function(e){return _.extend({},e.style,Odigeo.Utils.parseJson(Odigeo.Session.get("searchParameters"))?(n=(t=Odigeo.Utils.parseJson(Odigeo.Session.get("searchParameters"))).searchSegments,_.extend({},a(t,n),{product:"5",departure:_.head(n).departure.iata,destination:_.head(n).destination.iata})):{},e.flights);var t,n},r=function(e,t){var n,a,r="dp"===Odigeo.SessionScope.flowProduct,d=(n=r?(a=t,_.extend({},i,a.style,Odigeo.Utils.parseJson(Odigeo.Storage.get("lastSearchDynpack"))?o():{},a.dp)):s(t),_.omit(n,_.filter(_.keys(n),function(e){var t=n[e];return!t||""===t})));window.travelaudience.requestPlacements(e,d)},Odigeo.Utils.Advertisement={TravelAudience:{setAdsOn:function(e,t){Odigeo.require(["travelaudience"],function(){r(e,t)})}}}},854:function(e,t,n){"use strict";window.bowser=n(855),function(e,t,i,a,o){var s=e.Odigeo=e.Odigeo||{},r=n(857),d=n(858),l=n(862);s.start=function(n){n=n||{},s.Storage=new s.StorageClass("local"),s.Session=new s.StorageClass("session"),s.PageStorage=new s.StorageClass("page"),s.Templates=d,s.Settings.bulkSet(n.settings),n.router=n.router||{},c(n.router.routes,n.router.routeMatches,n.router.handlers,n.router.appChangePages),u(),f();var i=n.root;i||(i=t("body")),_.has(n,"onBeforeWidgetLoading")&&_.isFunction(n.onBeforeWidgetLoading)&&n.onBeforeWidgetLoading(),s.Templates.init(),p(i),_.has(n,"onStart")&&_.isFunction(n.onStart)&&n.onStart(),_.isFunction(e[a])&&e[a](),r.startScrollListener(),s.Device.navigator.isTouchable()&&e.addEventListener("blur",function(){s.Session.set("disableGrafana",!0)}),e.onoffline=function(){s.Session.set("disableGrafana",!0)}};var c=function(e,t,n,i){e=e||{},t=t||{},(n=n||{}).error=n.error||function(){},i=i||{},s.Router=new s.RouterClass({routes:e,routeMatches:t,handlers:n,appChangePages:i})},u=function(){t("body").on(s.Events.tap,"[data-href]",function(){s.Router.navigate(t(this).attr("data-href"))})},p=function(e){var n=t(e).find("[data-widget][data-cache=true],[data-widget]:visible").filter("[data-js!=false]"),i=t(e).find("[data-js=false][data-loaded!=true]");n.each(function(e,n){var i=t(n),a=i.attr("data-id"),o=i.attr("data-widget");g(a,o,!0)}),i.each(function(e,n){var i=t(n),a=i.attr("data-id"),o=i.attr("data-viewwidget");s.requireWidget(a,o)})},g=function(e,t,n,i){y(e,t,function(a,o){var s,r,d,l=!!v[e];l||null!==a?(l||(r=o,d=new a(t,s=e),(v[s]=d).construct(r)),_.isFunction(n)&&n.call(this,v[e])):function(e,t){if(!_.isFunction(t))throw new Error(e);t(e)}("No widget definition for "+t+". Did you forget to call Odigeo.defineWidget?",i)})},h=function(e,t){this.templates=_.get(t,"templates",{}),this.keys=_.get(t,"keys",{}),e&&this.templates.main&&this.setTemplate.call(this,this.$el,"main"),function(){if(!_.isEmpty(this.widget.options.staticTemplates)){var e=_.isArray(this.widget.options.staticTemplates)?this.widget.options.staticTemplates:[this.widget.options.staticTemplates];s.Templates.getGenericTemplates(e).then(_.bind(function(e){_.isObject(e)&&(this.staticTemplates=e)},this))}}.call(this)},f=function(){t("[data-widget]").on("show",function(e){if(e.currentTarget===e.target){var n=t(this).attr("data-id");if(!v[n]){var i=t(this).attr("data-widget"),a=[],o=[];t(this).find("[data-widget][data-cache=true],[data-widget]").filter("[data-loaded=true]").sort(function(e,n){return t(n).parents().length-t(e).parents().length}).each(function(e,n){a.push(t(n).attr("data-id")),o.push(t(n).attr("data-widget"))}),a.push(n),o.push(i),t.each(a,function(e){s.requireWidget(a[e],o[e])})}}})},m=function(e,n,i){var a=t("[data-id="+e+"]"),o=C(e,n);t.ajax({url:o,dataType:"html",complete:function(){},success:function(e){a.html(e).attr("data-loaded","true"),"function"==typeof i&&i(e)},error:function(){throw new Error("loadWidget cannot get widget html by URL: "+o)}})},v={},b={},y=function(e,n,i){var a=b[n],o=t("[data-id="+e+"]");a||(a=s.registerWidget(n)),a.loaded&&"true"===o.attr("data-loaded")?i(a.widgetDef):(a.loading=!0,"true"===o.attr("data-template")?s.Templates.getWidgetTemplate(n).then(function(t){if(!_.isObject(t))throw new Error("loadWidget template cannot get widget id: "+e);o.attr("data-loaded","true"),i(a.widgetDef,t)}):m(e,n))},w=function(){return _.map(b,function(e,t){return t})};s.getRegisteredWidgets=w,s.getRegisteredWidgetsByName=function(){return _.groupBy(v,function(e){return e.name})};var C=function(e,n){var i=t("[data-id="+e+"]"),a=i.attr("data-js"),o=i.attr("data-params");return o=o?"&"+o:"",a=a?"&js="+a:"",s.Settings.property("widgetUrlFormatter")(e,n)+a+o+"&exclude="+w().join(",")};s.getWidgetByID=function(e){return!!v[e]&&v[e]},s.registerWidget=function(e,t){return b[e]||(b[e]=new D(t),b[e])},s.defineWidget=function(e,t){b[e]||(b[e]=new D),b[e].loading=!1,b[e].loaded=!0,b[e].widgetDef=t},s.requireWidget=function(e,t,n,i){g(e,t,n,i)},s.autoloadWidgets=function(e){return _.reduce(e,function(e,t,n){return e[n]=function(){var i=!1,a=_.toArray(arguments),o=t[0].replace(/\$\{(\d+)\}/g,function(e,t){return a[t]}),r=n+"("+a.join(",")+")";return s.requireWidget(o,t[1],function(t){i=!0,e[r]=function(){return t}}),i?e[r]():{execute:function(){},get:function(){}}},e},{})},s.autoloadWidgetsAsync=function(e){return _.reduce(e,function(e,n,i){return e[i]=function(){var e=t.Deferred(),i=e.promise();s.requireWidget(n[0],n[1],e.resolve,e.reject);var a=function(e,t){return i.then(function(n){return n[e].apply(n,t)})};return{execute:function(){return a("execute",arguments)},get:function(){return a("get",arguments)}}},e},{})},s.requireWidgets=function(){var e,t,n=_.toArray(arguments),i=n.length%2?n.pop():Function,a=[];for(i&&(i=_.wrap(i,function(e){e.apply(this,_.map(a,function(e){return v[e]}))}));2<n.length;)t=n.pop(),e=n.pop(),a.unshift(e),i=_.wrap(i,_.partial(g,e,t,i));a.unshift(n[0]),e=n.shift(),g(e,n.shift(),i)},s.addScrollListener=function(e){r.addScrollListener(e)},s.removeScrollListener=function(e){r.removeScrollListener(e)},s.getRelativeScreenPosition=function(e){return r.getRelativeScreenPosition(e)},s.calculateScroll=function(){return r.calculateScroll()};var E={};s.parseOptions=function(e){return _.chain(e).map(function(e,t){var n=Array(t);try{n.push(JSON.parse(e))}catch(t){n.push(e)}return n}).object().value()},s.setOptionsByID=function(e,t){E[e]=E[e]||{},_.extend(E[e],t)},s.reConstructWidget=function(e,t){var n=new b[t].widgetDef(t,e);(v[e]=n).construct()};var x=function(){return"ontouchstart"in e||navigator.maxTouchPoints};s.Events=i.Events,_.extend(s.Events,{click:"click",tap:"tap",touchmove:x()?"touchmove":"move",pointerdown:e.PointerEvent&&x()?"pointerdown":"movestart",pointermove:e.PointerEvent&&x()?"pointermove":"move",pointerup:e.PointerEvent&&x()?"pointerup":"moveend",input:"textchange",focus:"focus",blur:"blur",keyup:"keyup",keydown:"keydown",swipe:"swipe",swipeRight:"swiperight",swipeLeft:"swipeleft",swipeUp:"swipeup",swipeDown:"swipedown",change:"change",mouseover:"mouseover",mouseout:"mouseout",mousedown:"mousedown",mousewheel:"mousewheel",mouseLeave:"mouseleave",mouseEnter:"mouseenter",transitionEnd:"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",animationEnd:"animationend animationend webkitAnimationEnd oanimationend MSAnimationEnd",scroll:"scroll",paste:"paste",keys:{KEY_BACKSPACE:8,KEY_TAB:9,KEY_RETURN:13,KEY_ESC:27,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_DELETE:46,KEY_HOME:36,KEY_END:35,KEY_PAGEUP:33,KEY_PAGEDOWN:34,KEY_INSERT:45}}),s.Events.fake=_.extend({},i.Events),s.Events.EventControllerClass=function(){this.globalEvents={},this.viewEvents={},this.eventHandlers={},this.previousViewEvents={},this.execute=function(){return _.each(this.previousViewEvents,function(e,t){s.off(t)}),this.previousViewEvents={},_.each(["global","view"],function(e){_.each(this[e+"Events"],function(t,n){if(s.off(n),!_.isFunction(this.eventHandlers[t]))throw new Error("Handler <"+t+"> for "+e+' event "'+n+'" is not defined.');s.on(n,this.eventHandlers[t],this.eventHandlers),"view"===e&&(this.previousViewEvents[n]=t)},this)},this),this},this.reset=function(){this.globalEvents={},this.viewEvents={},this.eventHandlers={}}},s.Enum=function(e){_.isArray(e)&&_.forEach(e,_.bind(function(e){this[e]=e},this))},s.HistoryClass=i.History.extend({start:function(e){e=e||{},this._hashChange=!1!==e.hashChange,this._pushState=!!e.pushState,i.History.prototype.start.call(this,e)},navigate:function(e,t,n){var a=_.defaults({},n,{trigger:!0}),o=this.isPushState()?t+e:e;i.History.prototype.navigate.call(this,o,a)},isPushState:function(){return this._pushState},isHashChange:function(){return this._hashChange},getPageNameFromFragment:function(e){var t=e||this.getFragment()||"",n=new RegExp(/.*#\/?/),i=new RegExp(/([^\/]*(?:\/[^\/]*)*)\//),a=new RegExp(/^\/?(?:travel\/)?(?:(?:dp|secure|flights)\/)?/),o=t.match(n),s=t.replace(o?n:a,"").match(i),r=s?s[1].replace(/\/$/,""):"home";return o||(r=r.match(/(?:departure\d|destination\d|passengers|dates|edit)$/)?"flights/"+r.replace(/flights\//,""):r),r}}),s.History=s.History||new s.HistoryClass,s.Settings={},_.extend(s.Settings,{options:{pathNames:{homeflights:"/",dp:"/dp/",flights:"/flights/",secure:"/secure/",cms:"/s/"},serviceUrlPrefix:"/service/flow/",serviceOptionsUrlPrefix:"/service/serviceoptions/",ancillariesUrlPrefix:"/service/ancillaries/",geoServiceUrlPrefix:"/service/geo/",coreServiceUrlPrefix:"/service/coredata/",serviceUsersPrefix:"/service/users/",serviceDestinationsPrefix:"/service/",dataSearchServiceUrlPrefix:"/service/datasearch/",collectionMethodPrefix:"/service/collectionmethod/",inspirationalServiceUrlPrefix:"/service/inspirational/",postBookingServiceUrlPrefix:"/service/postbooking/",trackingToolService:"/service/trackingsystem/",templatesUrlPrefix:"/service/templates/",translationsUrlPrefix:"/service/translations/",trackingServiceUrlPrefix:"/service/tracking/",travelAudiencePrefix:"/service/advertisement/travelaudience/",metricServiceUrlPrefix:"/service/metrics/",searchServiceUrlPrefix:"/service/",suggestionServiceUrlPrefix:"/service/suggestions/",membershipServicePrefix:"/service/membership/",emailServiceUrlPrefix:"/service/emails/",urlSearchServiceUrlPrefix:"/service/urlsearch/",carsServiceUrlPrefix:"/service/cars/",countryLinksServiceUrlPrefix:"/service/countrylinks/",hotelsServiceUrlPrefix:"/service/hotelswidget/",tagManagementUrlPrefix:"/service/tms/",fareTrendsUrlPrefix:"/service/faretrends/",serviceUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("serviceUrlPrefix")+e},serviceOptionsUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("serviceOptionsUrlPrefix")+e},ancillariesUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("ancillariesUrlPrefix")+e},geoServiceUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("geoServiceUrlPrefix")+e},coreUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("coreServiceUrlPrefix")+e},serviceUsersFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("serviceUsersPrefix")+e},serviceDestinationsFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("serviceDestinationsPrefix")+e},membershipServiceFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("membershipServicePrefix")+e},carsServiceFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("carsServiceUrlPrefix")+e},countryLinksServiceUrlFormatter:function(){return s.Settings.property("appContext")+s.Settings.property("countryLinksServiceUrlPrefix")},hotelsServiceFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("hotelsServiceUrlPrefix")+e},dataSearchServiceUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("dataSearchServiceUrlPrefix")+e},inspirationalServiceUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("inspirationalServiceUrlPrefix")+e},postBookingServiceUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("postBookingServiceUrlPrefix")+e},serviceCollectionMethodFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("collectionMethodPrefix")+e},trackingToolServiceFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("trackingToolService")+e},templatesMethodFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("templatesUrlPrefix")+e},trackingServiceUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("trackingServiceUrlPrefix")+e},metricServiceUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("metricServiceUrlPrefix")+e},searchServiceUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("searchServiceUrlPrefix")+e},suggestionServiceUrlFormmater:function(e){return s.Settings.property("appContext")+s.Settings.property("suggestionServiceUrlPrefix")+e},emailServiceUrlFormmater:function(e){return s.Settings.property("appContext")+s.Settings.property("emailServiceUrlPrefix")+e},urlSearchServiceUrlFormater:function(e){return s.Settings.property("appContext")+s.Settings.property("urlSearchServiceUrlPrefix")+e},tagManagementUrlFormatter:function(e){return s.Settings.property("appContext")+s.Settings.property("tagManagementUrlPrefix")+e},fareTrendsServiceUrlFormater:function(e){return s.Settings.property("appContext")+s.Settings.property("fareTrendsUrlPrefix")+e},widgetUrlPrefix:"/widget/",widgetUrlPostfix:"",widgetUrlFormatter:function(e,t){return s.Settings.property("appContext")+s.Settings.property("widgetUrlPrefix")+s.Settings.property("widgetUrlPostfix")+t+"?id="+e},widgetPartUrlFormatter:function(e,n,i){var a=t.param(i||{});return _.isEmpty(a)||(a="?"+a),s.Settings.property("appContext")+s.Settings.property("widgetUrlPrefix")+s.Settings.property("widgetUrlPostfix")+e+"/"+n+a},lazyThreshold:0,pathApiSearchplugin:"api/searchplugin"}}),_.extend(s.Settings,{bulkSet:function(e){_.extend(this.options,e)},getProperty:function(e){return this.options[e]},setProperty:function(e,t){this.options[e]=t},property:function(e,t){if(void 0===t)return this.getProperty(e);this.setProperty(e,t)}}),s.Session=null,s.Storage=null,s.StorageClass=function(t){this.storage=null,t=t||"local",this.type=t;try{this.storage=e[t+"Storage"],this.storage.setItem("onetwo","onetwo"),this.storage.removeItem("onetwo")}catch(t){this.storage=(n={},{getItem:function(e){return n[e]||null},setItem:function(e,t){n[e]=String(t)},removeItem:function(e){delete n[e]},clear:function(){n={}},getAllKeys:function(){return _.keys(n)}})}var n},_.extend(s.StorageClass.prototype,{get:function(e){var t=null;try{t=this.storage.getItem(e)}catch(e){t=null}return t},set:function(e,t){var n=!0;try{this.storage.setItem(e,t)}catch(e){"QUOTA_EXCEEDED_ERR"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name&&"QuotaExceededError"!==e.name||s.trigger("fullStorage"),n=!1}return n},remove:function(e){var t=!0;try{this.storage.removeItem(e)}catch(e){t=!1}return t},clear:function(){var e=!0;try{this.storage.clear()}catch(t){e=!1}return e},clearForced:function(e){var t=this.storage;_.each(e,function(e){_.isNull(t.getItem(e))||t.removeItem(e)})},getAllKeys:function(){return _.isFunction(this.storage.getAllKeys)?this.storage.getAllKeys():_.keys(this.storage)},removeAllExcept:function(e){var t=_.difference(this.getAllKeys(),e);_.each(t,_.bind(function(e){this.storage.removeItem(e)},this))}}),s.Router={handlers:{}};var O=/:([\w\d]+)/g,S=/\*([\w\d]+)/g,T=/[-[\]{}()+?.,\\^$|#\s]/g;s.RouterClass=i.Router.extend({appChangePages:{},eventController:null,getCurrentApp:function(){return t("body").data("app")||(/secure/.test(document.location.pathname)?"secure":"home")},getApp:function(e){var t=""===e?"home":e.replace(/\/.*/i,""),n=this.getCurrentApp(),i=this.appChangePages[n]||{};return _.isUndefined(i[t])?n:i[t]},navigate:function(e,t){t=_.defaults(t||{},{params:""});var n=s.Settings.getProperty("pathNames"),i=s.Utils.isWebmasterPage()?"wmp":n[this.getCurrentApp()],a=location.protocol,o=t.preservePath?i:n[this.getApp(e)],r="secure"===o||t.isSecured?"https:":a,d=(_.includes(["","/","home"],e)?"":e+"/")+t.params;if(a===r&&i===o)s.History.navigate(d,o,t);else{var l="true"===s.Session.get("hasToRemoveUtmParameters")?location.search.replace(/((?:&?utm_\w+|&?gclid)=[^&#]*)/g,""):location.search;s.Router.changeLocation(o,d,l,t)}},changeLocation:function(e,t,n,i){i=i||{};var a=e+(s.History.isPushState()?t+n:n+"#"+t),o=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+a;i.replace?location.replace(o):location.href=o},reload:function(){location.reload(!0)},getPageProtocolType:function(e){return"secure"===this.getApp(e)?"https:":location.protocol},route:function(e,t,n){s.History=s.History||new s.HistoryClass,_.isRegExp(e)||(e=this._routeToRegExp(e)),s.History.route(e,_.bind(function(i){var a=this._extractParameters(e,i);n.apply(this,a),this.trigger.apply(this,["route:"+t].concat(a))},this))},_routeToRegExp:function(e){return e=e.replace(T,"\\$&").replace(O,"(.*)").replace(S,"(.*?)"),new RegExp("^"+e+"$")},initialize:function(e){var n=this;this.handlers=e.handlers||{},this.handlerSandboxes={},this.mostRecentCalled=null,this.appChangePages=e.appChangePages||{},this.eventController=new s.Events.EventControllerClass,s.History=s.History||new s.HistoryClass;var i=function(e,t){n.route(e,t,function(){var e,i=n.handlers[t];n.handlerSandboxes[t]=n.handlerSandboxes[t]||{},e={name:t,args:arguments},s.trigger("routeChange",{from:n.mostRecentCalled,to:e}),i&&(n.eventController.reset(),i.apply(n.handlerSandboxes[t],arguments)),n.mostRecentCalled={name:t,args:arguments}})};i(/(.*)/,"error"),_.each(e.routeMatches,function(e,t){_.isRegExp(e)&&i(e,t)}),t.each(this.routes,i)},start:function(){s.History.start({pushState:!1,hashChange:!0}),t(e).scroll(A),s.bind("checkLazyImages",A)},bindAnyRoute:function(e){this.on("all",e),this.mostRecentCalled&&e(this.mostRecentCalled.name)},getRouteByEventName:function(e){return e.replace("route:","")}}),s.Widget=function(e,t){this.name=e||"default_name",this.id=t||"default_id",this.rendered=!1,this.bind("refresh",function e(){this.unbind("refresh",e),this.rendered=!0});var n,i=this.options,a=(n=this.id,E[n]||{});this.options=_.defaults(a,i)},s.Widget.template=null,s.Widget.templateURL=!1,s.Widget.templateLoaded=!0,s.Widget.templateLoading=!1,s.Widget.compiledTemplate=null,_.extend(s.Widget.prototype,s.Events),_.extend(s.Widget.prototype,{options:{},modelClass:s.Model,model:null,viewClass:s.View,view:null,collectionClass:null,collection:null,construct:function(e){var n=t("#"+this.id+"-options");if(0<n.length)try{this.options=t.extend(this.options,JSON.parse(n.attr("data-value").replace(/\\'/g,"'")))}catch(n){}var i=t("#"+this.id+"-settings");if(i&&i.length){var a=JSON.parse(i.html());this.options=_.extend(this.options,a.settings,a.params)}var o=function e(){this.view.unbind("construct",e),this.afterConstructView(),this.init(),this.trigger("init"),this.trigger("construct"),s.trigger(this.id+":constructed")};this.beforeConstructModel(),this.constructModel(),this.model.bind("construct",function t(){this.model.unbind("construct",t),this.afterConstructModel(),this.beforeConstructView(),this.constructView(),this.view.bind("construct",o,this),this.view.construct(e)},this),this.model.construct(),this.collectionClass&&(this.beforeConstructCollection(),this.constructCollection(),this.collection.bind("construct",function e(){this.collection.unbind("construct",e),this.afterConstructCollection(),this.view.collection=this.collection,this.view.afterBindCollection()},this),this.collection.construct()),this.childWidget=[]},setValue:function(){},execute:function(e){var t=[].slice.call(arguments,1);return _.isFunction(this[e])&&this[e].apply(this,t),this},get:function(e){var t=[].slice.call(arguments,1);return this[e]?this[e].apply(this,t):void 0},selector:function(){return"[data-id="+this.id+"]"},beforeConstructView:function(){},constructView:function(){if(!(this.view&&this.view instanceof s.View)){var e={el:this.selector(),model:this.model};this.viewClass?(this.view=new this.viewClass(e),this.view instanceof s.View||(this.view=new s.View(e))):this.view=new s.View(e)}this.view.widget=this},afterConstructView:function(){},beforeConstructModel:function(){},beforeConstructCollection:function(){},constructModel:function(){this.model&&this.model instanceof s.Model||(this.modelClass?(this.model=new this.modelClass,this.model instanceof s.Model||(this.model=new s.Model)):this.model=new s.Model),this.model.widget=this},constructCollection:function(){!this.collectionClass||this.collection&&this.collection instanceof s.Collection||(this.collection=new this.collectionClass,this.collection instanceof s.Collection||(this.collection=new s.Collection),this.collection.widget=this)},afterConstructModel:function(){},afterConstructCollection:function(){},init:function(){this.refresh()},refresh:function(){this.model.bind("refresh",function e(){this.model.unbind("refresh",e),this.view.refresh(),this.trigger("refresh")},this),this.model.refresh()},ready:function(e){this.rendered?e():this.bind("refresh",function t(){this.unbind("refresh",t),e()},this)}}),s.Widget.extend=i.Model.extend;var D=function(){this.widgetDef=null,this.loading=!1,this.loaded=!0,this.callbacks=[]};s.Model=i.Model.extend(),_.extend(s.Model.prototype,s.Events),_.extend(s.Model.prototype,{widget:null,rawData:null,_changed:!1,urlRoot:null,dataRequestSettings:{timeout:9e4},isEmptyData:!0,isStaticData:!1,isStringData:!1,autoUpdateInterval:0,updateInBackground:!1,updateOnShow:!1,requestAttributesSchema:null,getAll:function(e){var t=_.clone(this.attributes);return e?_.pick(t,e):t},validate:function(e){return _.isUndefined(e)},construct:function(){if(this.init(),this.trigger("init"),0<this.autoUpdateInterval){var e=_.bind(function(){t(this.widget.selector()).is(":visible")?this.refresh():this.updateInBackground&&this.refresh()},this);setInterval(e,this.autoUpdateInterval)}this.updateOnShow&&t(this.widget.selector()).bind("show",_.bind(this.refresh,this)),this.trigger("construct")},init:function(){},refresh:function(){this.bind("dataLoaded",function e(t){this.unbind("dataLoaded",e),this.afterLoadData(t),this.trigger("refresh")}),this.isEmptyData||this.beforeLoadData(),this.loadData()},save:function(){var e=Backbone.Model.prototype.save.apply(this,arguments);return e&&_.isFunction(e.complete)&&e.complete(_.bind(this.afterLoadData,this)),e},url:function(){if(!this.urlRoot){if(!this.widget)throw new Error('Odigeo.Model "widget" linkage lost');this.urlRoot=s.Settings.property("widgetUrlFormatter")(this.widget.id,this.widget.name)}return this.urlRoot},getDataRequestSettings:function(){return this.dataRequestSettings||{}},beforeLoadData:function(){},loadData:function(){if(this.isEmptyData||this.rawData&&this.isStaticData&&!(0<this.autoUpdate))this.trigger("dataLoaded");else{var e=this,n=this.url();t.ajax(_.extend(this.getDataRequestSettings(),{url:n,complete:function(t,n){if(s.trigger("session:refreshed"),!e.widget)throw new Error('Odigeo.Model "widget" linkage lost');"success"===n?(e.isStringData,e.rawData=t.responseText):e.isStringData?e.rawData={}:e.rawData="",e.trigger("dataLoaded",t)}}))}},afterLoadData:function(){}},{}),s.Model.extend=i.Model.extend;var k=_.template("");s.View=i.View.extend({widget:null,$widget:null,ignoreModelUpdate:!0,updateOnShow:!1,isDomBinded:!1,$cachedSelectors:null,templates:{},getTemplateBuilder:function(e){return _.get(this.templates,e)},getStaticTemplateBuilder:function(e,t){var n=_.get(this.staticTemplates,e);return _.get(n,t)},beforeInsertTemplate:function(e){return e},setTemplate:function(e,t,n){n=_.isObject(n)?n:{},e.html(this.getParsedTemplateContent(t,n)),this.updateDomSelectorsToCache(),this.bindViewEvents()},appendTemplate:function(e,t,n){n=_.isObject(n)?n:{},e.append(this.getParsedTemplateContent(t,n)),this.updateDomSelectorsToCache(),this.bindViewEvents()},getParsedTemplateContent:function(e,t){var n=this.getTemplateBuilder(e)||k,i=this.beforeInsertTemplate(t)||{};return n?n(_.extend({},i,{insertTemplate:_.bind(this.getParsedTemplateContent,this),keys:this.keys,pluralizeAll:s.Utils.pluralizeAll,replaceCmsKeyArgs:s.Utils.replaceCmsKeyArgs,options:s.parseOptions(this.widget.options)})):""},construct:function(e){e&&h.call(this,!0,e),this.init(),this.trigger("init"),this.ignoreModelUpdate||this.widget.model.bind("change",this.refresh,this),this.trigger("construct")},initTemplates:function(){return s.Templates?s.Templates.getWidgetTemplate(this.widget.name).then(_.bind(h,this,!1)):t.Deferred().resolve().promise()},init:function(){},initialize:function(e){this.$el=this.$widget=t(e.el),this.el=this.$el[0],this.templates={},this.keys={},this.staticTemplates={},this.bindViewEvents(),this.addDomSelectorsToCache()},refresh:function(){this.preRender(),this.render(),this.postRender(),this.trigger("refresh")},preRender:function(){},postRender:function(){},addSelectorToCache:function(e,t){var n={};if(this.$cachedSelectors&&(n=this.$cachedSelectors),n[e])return!1;n[e]=t,this.$cachedSelectors=n},removeSelectorFromCache:function(e){if(!this.$cachedSelectors)return!1;var t=this.$cachedSelectors;if(!t[e])return!1;delete t[e]},cacheDomSelectors:function(){},bindToDom:function(){},unbindFromDom:function(){},addDomSelectorsToCache:function(){_.each(this.selectors,function(e,t){this.addSelectorToCache(t,this.$widget.find(e))},this)},updateDomSelectorsToCache:function(){_.each(this.selectors,function(e,t){this.removeSelectorFromCache(t),this.addSelectorToCache(t,this.$widget.find(e))},this)},bindViewEvents:function(){var e=this.selectors||!1;_.each(this.events,function(t,n,i){var a=n.match(/^(\S+)\s*(.*)$/),o=a[1],r=a[2];if("@"===r.charAt(0)&&e&&(r=e[r.slice(1)]),s.Events.hasOwnProperty(o)){delete i[n];var d=s.Events[o].trim().split(" ");_.each(d,function(e){i[e+" "+r]=t})}else i[n]=t})}}),s.CollectionView=s.View.extend({childViewClass:s.View,_selectors:{childViewContainer:".child_view_container"},initialize:function(){return this._childViews=[],s.View.prototype.initialize.apply(this,arguments)},childsLength:function(){return this._childViews.length},afterBindCollection:function(){return this.listenTo(this.collection,"add",this.addChild),this.listenTo(this.collection,"remove",this.destroyChildren),this},getIndex:function(e){return e instanceof i.Model?this.collection.indexOf(e):this.indexOf(e)},addChild:function(e){this.addChildView(this.childViewClass,this.childViewOptions(e),e)},addChildView:function(e,t,n){var i=new e(t);i.widget instanceof s.Widget&&i.initTemplates();var a=this.collection.indexOf(n);return(i.collectionView=this)._childViews[a]=i,this.trigger("before:add:child",i),this.renderChildView(i),this.trigger("add:child",i),this},renderChildView:function(e){return e.refresh(),this.$(this._selectors.childViewContainer).append(e.$el),this},getChildView:function(e){var t=e instanceof i.Model?this.collection.indexOf(e):e;return this._childViews[t]instanceof i.View&&this._childViews[t]},getNextChildView:function(e){var t=this.getIndex(e);return!(t<0||t>=this._childViews.length)&&this._childViews[++t]},getPrevChildView:function(e){var t=this.getIndex(e);return!(t<=0)&&this._childViews[--t]},childViewOptions:function(e){return{model:e}},destroyChildren:function(e,t,n){return this._childViews[n.index]instanceof i.View&&(this.stopListening(e),this.stopListening(this._childViews[n.index]),this._childViews[n.index].remove(),this._childViews.splice(n.index,1)),this}}),_.each(["forEach","each","map","find","filter","every","all","some","any","contains","first","last","without","indexOf","lastIndexOf"],function(e){s.CollectionView.prototype[e]=function(){var t=[].slice.call(arguments);return t.unshift(this._childViews),_[e].apply(_,t)}});var $=function(e,t,n){_.isObject(e)&&_.isFunction(t)&&_.bind(t,n)(e)};s.Collection=i.Collection.extend({construct:function(){this.init(),this.trigger("init"),this.trigger("construct")},init:function(){},safeAt:function(e,t,n){var i=this.at(e);return $(i,t,n||this),this},safeGet:function(e,t,n){var i=this.get(e);return $(i,t,n||this),this}}),s.RootComponentInstance=null,s.RootComponent=s.Widget.extend({beforeStart:function(){},start:function(){s.Router.start(),s.ViewSwitcher.start()},afterStart:function(){},constructor:function(){if(s.RootComponentInstance)throw new Error("Odigeo.RootComponent can be only ONE!");(s.RootComponentInstance=this).ready(function(){s.RootComponentInstance.beforeStart(),s.RootComponentInstance.start(),s.RootComponentInstance.afterStart()}),s.Widget.apply(this,arguments)}}),s.viewControllerCustomOptions={},s.ViewSwitcher={},_.extend(s.ViewSwitcher,{viewClass:"od_page",activeViewClass:"active",animationName:"fade",viewportTransitioningClass:"od-viewport-transitioning",activePage:null,animationDuration:280,easing:"swing",start:function(){var e=t("#page").data("is-https-permitted");s.PageStorage.set("isHttpsPermitted",e),l.removeFromStorage("Storage","paymentData"),l.setOneFrontVersionInLocalStorage();var n=t(s.RootComponentInstance.selector()+" ."+this.viewClass);if(s.Router.bindAnyRoute(this.routeHandler),n.length){var i=n.filter("."+this.activeViewClass);i.length?this.activePage=i:this.switchToView(n.first())}},routeHandler:function(e){var n=s.Router.getRouteByEventName(e),i=t("."+s.ViewSwitcher.viewClass+"#"+n);i.length&&s.ViewSwitcher.switchToView(i)},switchToView:function(n){var i=this,a=this.activePage,o=n,r=s.Device.getViewport(),d=t.Deferred();s.trigger("page:beforeSwitch",o,a),d.then(function(){a&&r.addClass("od-viewport-transitioning")}).then(function(){a&&a.css({display:"none"}).removeClass(i.activeViewClass),e.scrollTo(0,0),o.addClass(i.activeViewClass).css({opacity:0,display:"block"})}).then(function(){o.attr("style",""),a&&r.removeClass("od-viewport-transitioning"),i.activePage=o,s.trigger("page:afterSwitch",o,a),i.viewController.call(i.activePage[0]),p(i.activePage[0]),s.trigger("checkLazyImages")}),d.resolve()},viewController:function(){var e,n,i;if(this.isLoaded)t(".main_layout").removeClass("error"),this.refresh();else{this.attr={isLoaded:!0,isPageReloaded:!1,allWidgetsCompleted:!1},this.data={},this.resultSchema={},this.childrenWidgets=[],this.controllableWidgets=[],this.pageName=t(this).attr("id"),e=[],n=i=0,this.getChildren=function(){var e,i=this;i.controllableWidgets=[],e=t(this).find("[data-controllable]"),_.each(e,function(e){i.controllableWidgets.push(t(e).attr("id"))}),_.each(t(this).find("[data-widget]"),function(e){i.childrenWidgets.push(t(e).attr("id"))}),n=this.controllableWidgets.length},this.widgetCompleteHandler=function(t){var a,o=t.id;a=_.indexOf(e,o),"success"===t.type?(-1===a&&(i++,e.push(o)),this.widgetSuccessHandler&&this.widgetSuccessHandler.call(this,o,t.data,t),n===i&&(this.attr.allWidgetsCompleted=!0,this.allWidgetsCompleteHandler&&this.allWidgetsCompleteHandler.call(this))):(-1!==a&&(i--,e.splice(a,1)),this.attr.allWidgetsCompleted=!1,this.widgetErrorHandler&&this.widgetErrorHandler.call(this,o))},this.isAllWidgetsComplete=function(){return n===i},this.bindWidgets=function(){var e=this;_.each(this.controllableWidgets,function(t){s.bind("complete:"+t,_.bind(e.widgetCompleteHandler,e))}),_.each(this.childrenWidgets,function(t){for(var n in e.bindings)e.bindings.hasOwnProperty(n)&&s.bind(n+":"+t,_.bind(e.bindings[n],e))})},this.unbindWidgets=function(){var e=this,t=function(e,t){for(var n in e)e.hasOwnProperty(n)&&s.unbind(n+":"+t)};_.each(this.controllableWidgets,function(n){s.unbind("complete:"+n),t(e.bindings,n)}),_.each(this.childrenWidgets,function(n){t(e.bindings,n)})},this.construct=function(){this.beforeInitPage&&this.beforeInitPage(),s.viewControllerCustomOptions[this.pageName]?this.resultSchema=s.viewControllerCustomOptions[this.pageName].resultSchema||{}:this.resultSchema={},this.childrenWidgets=[],p(this),this.getChildren(),this.unbindWidgets(),this.bindWidgets(),this.init&&this.init(),s.UIElements.enhanceLoading(t(".waiting_page")).hideLoading(),this.isPageReloaded=!1},this.refresh=function(){this.isPageReloaded||(this.unbindWidgets(),this.bindWidgets(),_.each(this.childrenWidgets,function(e){s.trigger("refreshView:"+e)}),this.rerender&&this.rerender()),s.viewControllerCustomOptions[this.pageName]?this.resultSchema=s.viewControllerCustomOptions[this.pageName].resultSchema||{}:this.resultSchema={}},this.loadPage=function(){var e;e=t(this).find("[data-page]"),m(e.data("id"),e.data("name"),_.bind(this.construct,this))},this.beforePageLoad=function(){this.isPageReloaded=!0,this.beforePageReloadCallback&&this.beforePageReloadCallback()},this.pageDirectlyLoaded=function(){},this.pageHashLoaded=function(){},_.extend(this,s.viewControllerCustomOptions[this.pageName]);var a=this;s.bind("loadWidgets:"+this.id,_.bind(this.loadPage,this)),s.bind("reloadPage:"+this.id,_.bind(this.beforePageLoad,this)),s.bind("pageshow",function(){s.trigger("pageshow:"+a.id)}),t(".details_container").removeClass("hidden"),this.beforePageLoad(),this.isLoaded=!0,s.PageStorage.get("page")?this.pageHashLoaded():this.pageDirectlyLoaded(),t(".main_layout").removeClass("error")}}}),o.parsedVersion=parseInt(_.get(o,"version","").split(".")[0]),o.parsedOsVersion=parseInt(_.get(o,"osversion","").split(".")[0]),s.Device={viewport:{width:t(e).width(),height:t(e).height()},isTablet:function(){return o.tablet||!1},isIpad:function(){return o.ipad||!1},navigator:{isCurrentBrowserBlacklisted:function(e){return!_.includes(e.toLowerCase(),_.get(o,"name","").toLowerCase())},isBrowserVersion:function(e){return e===o.parsedVersion},isOsVersion:function(e){return e===o.parsedOsVersion},isIOS:o.ios||!1,isIOS7:o.ios&&7===o.parsedOsVersion||!1,isIOS8:o.ios&&8===o.parsedOsVersion||!1,isIOS9:o.ios&&9===o.parsedOsVersion||!1,isIOS10:o.ios&&10===o.parsedOsVersion||!1,isIOS11:o.ios&&11===o.parsedOsVersion||!1,isIOS12:o.ios&&12===o.parsedOsVersion||!1,isCriOS:o.ios&&o.chrome||!1,isSafariiOS:o.ios&&o.safari||!1,isFirefox:o.firefox||!1,isChrome:o.chrome||!1,isOpera:o.opera||!1,isAndroid:o.android||!1,isAndroidICS:o.android&&4<=o.parsedOsVersion||!1,isIE:o.msie||!1,isIE9:o.msie&&9===o.parsedVersion||!1,isEdge:o.msedge||!1,isWinPhone:o.windowsphone||!1,isSafari:o.safari||!1,isIOSWebView:/.*(iPad|iPhone).*Mobile\/[0-9A-Z]+$/i.test((navigator.userAgent||navigator.vendor||e.opera).toLowerCase()),isAndroidWebView:/.*Android( 4\.4.*Version.*Chrome.*Mobile.*|.* wv\) ).*/i.test((navigator.userAgent||navigator.vendor||e.opera).toLowerCase()),isNative:function(){return this.isIOSWebView||this.isAndroidWebView},hasCookies:navigator.cookieEnabled||"cookie"in document&&(0<document.cookie.length||-1<(document.cookie="test").indexOf.call(document.cookie,"test")),isAndroidStockBrowser:function(){var e;return!!this.isAndroid&&(e=parseInt((/WebKit\/([0-9]+)/.exec(navigator.appVersion)||0)[1],10)||0,this.isAndroid&&e<=534)},supportsInput:function(e){var t=document.createElement("input"),n="not-a-date";return t.setAttribute("type",e),t.setAttribute("value",n),t.value!==n},supportsCSSFeature:function(e){var t=document.createElement("div"),n=e.toLowerCase();return t.style[e]||(n=e.charAt(0).toUpperCase()+e.slice(1)),_.some(["Webkit","Moz","ms","O"],function(e){return void 0!==t.style[e+n]})},isTouchable:x},location:{get:function(){var e,n=t.Deferred();return"geolocation"in navigator?(s.Device.navigator.isFirefox&&(e=setTimeout(function(){n.reject(!1)},15e3)),navigator.geolocation.getCurrentPosition(function(t){e&&clearTimeout(e),n.resolve(t)},function(e){n.reject(e)},{timeout:1e4,enableHighAccuracy:!1})):n.reject(!1),n.promise()}}},_.extend(s.Device,{getScreenHeight:function(){return t(e).outerHeight()},getElementOffsetScreen:function(n){return t(e).outerHeight()-(n.offset().top-t(e).scrollTop())},getViewport:function(){var e=t("body").addClass("od-viewport");return e[0]||(e=(e=t(".od_page").eq(0)).length?e.parent():t("body")).addClass("od-viewport"),e.eq(0)}}),s.extendNamespace=function(e,t){var n,i=t.split("."),a=e||{},o=a;n=i.length;for(var s=0;s<n;s++)void 0===o[i[s]]&&(o[i[s]]={}),o=o[i[s]];return a},s.preloadNextWidgetTemplates=function(){return s.Templates.preloadNextWidgetTemplates()},_.extend(s,s.Events),e.Odigeo=s;var A=function(){t(".lazy",".od_page.active, #page").filter(function(){var e=t(this);return!e.is(":hidden")&&s.Utils.elementInViewport(e)}).removeClass("lazy")},U=t.fn.hide,I=t.fn.show,F=t.fn.html,P=t.fn.append,M=t.fn.prepend,N=t.fn.detach;t.fn.hide=function(){var e=U.apply(this,arguments);return t(this).trigger("hide"),e},t.fn.show=function(){var e=I.apply(this,arguments);return t(this).trigger("show"),e},t.fn.html=function(){var e=F.apply(this,arguments);return t(this).trigger("show"),t(this).trigger("html"),e},t.fn.append=function(){var e=P.apply(this,arguments);return t(this).trigger("append"),e},t.fn.prepend=function(){var e=M.apply(this,arguments);return t(this).trigger("prepend"),e},_.isFunction(t.fn.detach)||(t.fn.detach=function(e){return this.remove(e,!0)}),_.isFunction(t.fn.wrapInner)||(t.fn.wrapInner=function(e){return _.isFunction(e)?this.each(function(n){t(this).wrapInner(e.call(this,n))}):this.each(function(){var n=t(this),i=n.contents();i.length?i.wrapAll(e):n.append(e)})}),t.fn.detach=function(){var e=t(this).parent(),n=N.apply(this,arguments);return e.trigger("detach"),n},_.isFunction(t.fn.outerHtml)||(t.fn.outerHtml=function(e){if(e)return this.each(function(){t(this).replaceWith(e)});var n=t("<div>").append(t(this).clone()),i=n.html();return n.remove(),i}),_.isFunction(t.fn.outerWidth)||_.each(["width","height"],function(e){var n=e.replace(/./,function(e){return e[0].toUpperCase()});t.fn["outer"+n]=function(t){var n=this,i=n[e]();return n?(_.each({width:["left","right"],height:["top","bottom"]}[e],function(e){t&&(i+=parseInt(n.css("margin-"+e),10))}),i):null}})}.call(void 0,window,window.$,window.Backbone,"cbOdigeoLoaded",window.bowser)},855:function(e,t,n){var i;i=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&1<n.length&&n[1]||""}function i(e){var n=t.match(e);return n&&1<n.length&&n[2]||""}var a,s=n(/(ipod|iphone|ipad)/i).toLowerCase(),r=!/like android/i.test(t)&&/android/i.test(t),d=/nexus\s*[0-6]\s*/i.test(t),l=!d&&/nexus\s*[0-9]+/i.test(t),c=/CrOS/.test(t),u=/silk/i.test(t),p=/sailfish/i.test(t),g=/tizen/i.test(t),h=/(web|hpw)(o|0)s/i.test(t),f=/windows phone/i.test(t),m=(/SamsungBrowser/i.test(t),!f&&/windows/i.test(t)),v=!s&&!u&&/macintosh/i.test(t),_=!r&&!p&&!g&&!h&&/linux/i.test(t),b=i(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),y=n(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t)&&!/tablet pc/i.test(t),C=!w&&/[^-]mobi/i.test(t),E=/xbox/i.test(t);/opera/i.test(t)?a={name:"Opera",opera:e,version:y||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?a={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||y}:/SamsungBrowser/i.test(t)?a={name:"Samsung Internet for Android",samsungBrowser:e,version:y||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?a={name:"NAVER Whale browser",whale:e,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?a={name:"MZ Browser",mzbrowser:e,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?a={name:"Opera Coast",coast:e,version:y||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?a={name:"Focus",focus:e,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?a={name:"Yandex Browser",yandexbrowser:e,version:y||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?a={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?a={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?a={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?a={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?a={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?a={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:f?(a={name:"Windows Phone",osname:"Windows Phone",windowsphone:e}).version=b?(a.msedge=e,b):(a.msie=e,n(/iemobile\/(\d+(\.\d+)?)/i)):/msie|trident/i.test(t)?a={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?a={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?a={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(t)?a={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||y}:p?a={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?a={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(a={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(a.firefoxos=e,a.osname="Firefox OS")):u?a={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?a={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?a={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?a={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:y||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(a={name:"WebOS",osname:"WebOS",webos:e,version:y||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(a.touchpad=e)):/bada/i.test(t)?a={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:g?a={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||y}:/qupzilla/i.test(t)?a={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||y}:/chromium/i.test(t)?a={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||y}:/chrome|crios|crmo/i.test(t)?a={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:r?a={name:"Android",version:y}:/safari|applewebkit/i.test(t)?(a={name:"Safari",safari:e},y&&(a.version=y)):s?(a={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},y&&(a.version=y)):a=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||y}:{name:n(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)},!a.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(a.name=a.name||"Blink",a.blink=e):(a.name=a.name||"Webkit",a.webkit=e),!a.version&&y&&(a.version=y)):!a.opera&&/gecko\//i.test(t)&&(a.name=a.name||"Gecko",a.gecko=e,a.version=a.version||n(/gecko\/(\d+(\.\d+)?)/i)),a.windowsphone||!r&&!a.silk?!a.windowsphone&&s?(a[s]=e,a.ios=e,a.osname="iOS"):v?(a.mac=e,a.osname="macOS"):E?(a.xbox=e,a.osname="Xbox"):m?(a.windows=e,a.osname="Windows"):_&&(a.linux=e,a.osname="Linux"):(a.android=e,a.osname="Android");var x="";a.windows?x=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):a.windowsphone?x=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):a.mac?x=(x=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):s?x=(x=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):r?x=n(/android[ \/-](\d+(\.\d+)*)/i):a.webos?x=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):a.blackberry?x=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):a.bada?x=n(/bada\/(\d+(\.\d+)*)/i):a.tizen&&(x=n(/tizen[\/\s](\d+(\.\d+)*)/i)),x&&(a.osversion=x);var O=!a.windows&&x.split(".")[0];return w||l||"ipad"==s||r&&(3==O||4<=O&&!C)||a.silk?a.tablet=e:(C||"iphone"==s||"ipod"==s||r||d||a.blackberry||a.webos||a.bada)&&(a.mobile=e),a.msedge||a.msie&&10<=a.version||a.yandexbrowser&&15<=a.version||a.vivaldi&&1<=a.version||a.chrome&&20<=a.version||a.samsungBrowser&&4<=a.version||a.whale&&1===o([a.version,"1.0"])||a.mzbrowser&&1===o([a.version,"6.0"])||a.focus&&1===o([a.version,"1.0"])||a.firefox&&20<=a.version||a.safari&&6<=a.version||a.opera&&10<=a.version||a.ios&&a.osversion&&6<=a.osversion.split(".")[0]||a.blackberry&&10.1<=a.version||a.chromium&&20<=a.version?a.a=e:a.msie&&a.version<10||a.chrome&&a.version<20||a.firefox&&a.version<20||a.safari&&a.version<6||a.opera&&a.version<10||a.ios&&a.osversion&&a.osversion.split(".")[0]<6||a.chromium&&a.version<20?a.c=e:a.x=e,a}var n=t("undefined"!=typeof navigator&&navigator.userAgent||"");function i(e){return e.split(".").length}function a(e,t){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)i.push(t(e[n]));return i}function o(e){for(var t=Math.max(i(e[0]),i(e[1])),n=a(e,function(e){var n=t-i(e);return a((e+=new Array(n+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});0<=--t;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function s(e,i,a){var s=n;"string"==typeof i&&(a=i,i=void 0),void 0===i&&(i=!1),a&&(s=t(a));var r=""+s.version;for(var d in e)if(e.hasOwnProperty(d)&&s[d]){if("string"!=typeof e[d])throw new Error("Browser version in the minVersion map should be a string: "+d+": "+String(e));return o([r,e[d]])<0}return i}return n.test=function(e){for(var t=0;t<e.length;++t){var i=e[t];if("string"==typeof i&&i in n)return!0}return!1},n.isUnsupportedBrowser=s,n.compareVersions=o,n.check=function(e,t,n){return!s(e,t,n)},n._detect=t,n.detect=t,n},e.exports?e.exports=i():n(856)("bowser",i)},856:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},857:function(e,t,n){"use strict";var i={},a=$(window),o=function(e){i[e]&&delete i[e]};e.exports={startScrollListener:function(){Odigeo.on("routeChange",function(e){_.each(i,function(t){e.from.name===t.pageName&&o(t.name)})}),a.on(Odigeo.Events.scroll,_.throttle(function(){var e=a.scrollTop();_.each(i,function(t){e>=t.start&&(!t.end||e<=t.end)&&(t.fn(),t.justOnce&&o(t.name))})},100,!0))},addScrollListener:function(e){!i[e.name]&&e.name&&(i[e.name]=_.extend({pageName:"all",fn:"",start:0,end:0,justOnce:!1},e))},removeScrollListener:o,getRelativeScreenPosition:function(e){return e.offset().top-a.scrollTop()},calculateScroll:function(){var e=$(document).scrollTop(),t=a.height();return e/($(document).height()-t)}}},858:function(e,t,n){"use strict";var i=n(859),a=n(860),o=n(861);e.exports=o({getUrlService:function(){return Odigeo.Settings.property("appContext")+Odigeo.Settings.property("templatesUrlPrefix")},getSessionScope:function(){return Odigeo.SessionScope},widgetsTemplates:i,widgetsPrefetch:a,templatesWithoutVariable:["ancillaries_module","baggage_banner_filter","collapsible_flight_summary","edit_option_meta","get_your_guide","membership_popup_results","nag","results_load_more","shared_legal_disclaimer","share_itinerary","special_baggage","time_budget","time_ranges_filter"]})},859:function(e,t,n){"use strict";e.exports={desktop:{dp:{home:[],dp:["login","simplified_disclaimer","dp_search_summary","dp_automatic_refresh","accommodation_details","accommodation_details_gallery","accommodation_summary","accommodation_details_information","accommodation_reviews","accommodation_details_conditions","accommodation_filter_by_category","app_check_in_desktop","dp_search_no_results"],secure:["app_check_in_desktop","get_your_guide","login","repricing_popup_manager","gt_standalone_banner"]},flights:{secure:["accommodation_summary","account_blocked","account_preferences_manager","app_check_in_desktop","bags_and_seats_offline","collapsible_flight_summary","frequent_passengers_manager","get_your_guide","ip_new_search_tooltip","login","login_expired_manager","membership_account_billing","membership_benefits","membership_billing_information","membership_cancel_account","membership_card_info_manager","membership_customer_service","membership_default_billing","membership_smooth_subscription","membership_subscription_details","membership_subscription_on_top","my_trips","my_trips_login","post_booking_accommodation","post_booking_accommodation_header","post_booking_accommodation_value_prop","register_manager","repricing_popup_manager","reset_password_manager","share_itinerary","gt_standalone_banner","send_to_messenger_button"],home:["ip_new_search_tooltip","login","login_expired_manager"]},upsell:{secure:["repricing_popup_manager","get_your_guide","login","accommodation_details","accommodation_filter_by_category"],home:[]},accommodationPostBooking:{secure:["login","repricing_popup_manager","get_your_guide","accommodation_details","gt_standalone_banner"],home:[]}},mobile:{dp:{home:["app_touchpoint","edit_option_meta","login"],dp:["app_touchpoint","progress_indicator","dp_search_summary","dp_automatic_refresh","accommodation_details_gallery","accommodation_results_manager","accommodation_hotel_card","accommodation_map_manager","accommodation_summary","accommodation_filter_by_category","accommodation_details_conditions","login"],secure:["app_touchpoint","buyer","buyer_widget","login","payment_button","progress_indicator","dp_search_summary","repricing_popup_manager"]},flights:{secure:["accommodation_results_manager","accommodation_hotel_card","accommodation_map_manager","accommodation_summary","account_blocked","account_preferences_manager","app_touchpoint","bags_and_seats_offline","buyer_widget","collapsible_flight_summary","frequent_passengers_manager","edit_option_meta","login","login_expired_manager","membership_account_billing","membership_benefits","membership_billing_information","membership_cancel_account","membership_card_info_manager","membership_customer_service","membership_default_billing","membership_subscription_details","my_trips","my_trips_login","payment_button","post_booking_accommodation","register_manager","repricing_popup_manager","reset_password_manager","xsell_confirmation_eml"],home:["edit_option_meta","app_touchpoint","login"]},upsell:{secure:["payment_button","collapsible_flight_summary","edit_option_meta","login","buyer_widget","repricing_popup_manager","accommodation_filter_by_category"],home:[]}}}},860:function(e,t,n){"use strict";e.exports={desktop:{dp:{details:["ancillaries_module"]},flights:{details:["ancillaries_module"]}},mobile:{dp:{passengersinfo:["ancillaries_module"]},flights:{passengersinfo:["ancillaries_module"]}}}},861:function(e,t,n){"use strict";e.exports=function(e){var t=e.getUrlService,n=e.getSessionScope,i=e.widgetsTemplates,a=e.widgetsPrefetch,o=e.templatesWithoutVariable,s=void 0,r={widgetTemplates:{},templates:{}},d=e.parseTemplateData||function(e){var t=_.includes(o,e.name)?{variable:""}:{},n=_.reduce(e.templates,function(e,n){return e[n.name]=_.template(n.html,Odigeo.Utils.getTmplSettings(t)),e},{});return{keys:_.reduce(e.cmsKeys,function(e,t){return e[t.name]=t.value,e},{}),templates:n}},l=function(e){var t={};return _.reduce(e,function(e,n,i){return e[i]=n.templates,t[i]=n.keys,e},{getStaticTemplatesKeys:function(e){return _.get(t,e,{})}})},c=function(e,n,i){return t()+e+"?"+n+"="+i},u=function(){return $.Deferred().resolve([]).promise()},p=function(){return $.Deferred().resolve({}).promise()},g=function(e){return 0===e.length&&s?u():$.get(c("getListOfWidgetsTemplates","widgetsnames",e.join(","))).then(_.identity,_.constant([]))},h=function(e,t){return _.reduce(e,function(e,n){var i;return e[n]=(i=n,t.then(function(e){var t=$.Deferred(),n=_.find(e,function(e){return i===e.name});return n?t.resolve(d(n)):t.reject(i+" template not found."),t.promise()})),e},{})},f=function(e,t){return _.filter(t,function(t){return _.isUndefined(e[t])})},m=function(e,t){return $.when.apply($,_.map(t,_.propertyOf(e))).then(function(){return e=t,n=_.toArray(arguments),_.reduce(e,function(e,t,i){return e[t]=n[i],e},{});var e,n},p)},v=function(e){return s||(e||(e=g([])),s=e.then(_.property("templates")))};return{init:function(){var e,t,a,o,s=(t=(e=n()).flow,a=e.flowProduct,o=e.entryPoint,_.get(i,[t,a,o],[]));return this.getListOfWidgetsTemplates(s)},getWidgetTemplate:function(e){var t;return 0<f(r.widgetTemplates,[e]).length&&(r.widgetTemplates[e]=(t=e,$.get(c("getWidgetTemplates","widgetname",t))).then(d,p)),r.widgetTemplates[e]},getListOfWidgetsTemplates:function(e){var t=f(r.widgetTemplates,e),n=g(t);if(v(n),0<t.length){var i=n.then(_.property("widgetTemplates")),a=h(t,i);_.extend(r.widgetTemplates,a)}return m(r.widgetTemplates,e)},preloadNextWidgetTemplates:function(){var e=function(e){var t=e.flow,n=e.flowProduct;return _.get(a,[t,n,Odigeo.History.getPageNameFromFragment()],[])}(n());return _.isEmpty(e)?u():this.getListOfWidgetsTemplates(e)},getGenericTemplates:function(e){var t=f(r.templates,e),n=v(),i=h(t,n);return _.extend(r.templates,i),m(r.templates,e).then(l)}}}},862:function(e,t,n){"use strict";e.exports={setOneFrontVersionInLocalStorage:function(){var e=/^(?:.)+\.([0-9]+)(?:.)+$/.exec(Odigeo.SessionScope.oneFrontVersion);Odigeo.Storage.get("one_front_version")||Odigeo.Storage.set("one_front_version",_.isArray(e)&&0<e.length?e[1]:Odigeo.SessionScope.oneFrontVersion)},removeFromStorage:function(e,t){Odigeo[e].remove(t)}}},863:function(e,t,n){"use strict";var i,a,o,s,r,d,l,c,u,p,g;!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),a=window.setTimeout(function(){t(n+i)},i);return e=n+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e){e.console||(e.console={});for(var t,n,i=e.console,a=function(){},o=["memory"],s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)i[t]||(i[t]={});for(;n=s.pop();)i[n]||(i[n]=a)}("undefined"==typeof window?void 0:window),i=jQuery,o=function(e){var t,n=/^Mac/.test(navigator.platform)?"metaKey":"ctrlKey",i=["startContainer","startOffset","endContainer","endOffset"];function a(e){var t=e.getSelection();return t.rangeCount?t.getRangeAt(0):null}function o(e,t,n){e.addEventListener(t,n,!0)}function s(e,t,n){e.removeEventListener(t,n,!0)}function r(e){var t=e.keyCode;(65===t&&e[n]&&!e.shiftKey&&!e.altKey||t<=40&&37<=t&&e.shiftKey)&&setTimeout(p.bind(null,e.currentTarget),0)}function d(e){0===e.button&&(o(e.currentTarget,"mousemove",l),setTimeout(p.bind(null,e.currentTarget),0))}function l(e){e.buttons?p(e.currentTarget):s(e.currentTarget,"mousemove",l)}function c(e){0===e.button?setTimeout(p.bind(null,e.currentTarget),0):s(e.currentTarget,"mousemove",l)}function u(){setTimeout(p.bind(null,document),0)}function p(e){var n,o,s=t.get(e),r=a(e);(n=r)===(o=s)||n&&o&&i.every(function(e){return n[e]===o[e]})||(t.set(e,r),setTimeout(e.dispatchEvent.bind(e,new Event("selectionchange")),0))}return{start:function(e){var n=e||document;(t||!function(e){var t=e.onselectionchange;if(void 0!==t)try{return e.onselectionchange=0,null===e.onselectionchange}catch(e){}finally{e.onselectionchange=t}return!1}(n)&&(t="undefined"!=typeof WeakMap?new WeakMap:null))&&(t.has(n)||(t.set(n,a(n)),o(n,"keydown",r),o(n,"mousedown",d),o(n,"mousemove",l),o(n,"mouseup",c),o(n.defaultView,"focus",u)))},stop:function(e){var n=e||document;t&&t.has(n)&&(t.delete(n),s(n,"keydown",r),s(n,"mousedown",d),s(n,"mousemove",l),s(n,"mouseup",c),s(n.defaultView,"focus",u))}}}(),s=(a=/Firefox\/(\d+)/g.exec(navigator.userAgent))&&1<a.length&&parseInt(a[1],10)<10,r="oninput"in document.createElement("input")&&(!("documentMode"in document)||9<document.documentMode),c=l=d=null,u={get:function(){return c.get.call(this)},set:function(e){l=e,c.set.call(this,e)}},p=function(){d&&(s||(delete d.value,d.detachEvent?d.detachEvent("onpropertychange",g):d.removeEventListener&&d.removeEventListener("onpropertychange",g,!0)),c=l=d=null)},g=function(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==l&&(l=t,i(d).trigger("textchange"))}},r?i(document).on("input",function(e){"TEXTAREA"!==e.target.nodeName&&i(e.target).trigger("textchange")}):i(document).on("focusin",function(e){var t,n;"INPUT"!==(n=e.target).nodeName||"text"!==n.type&&"password"!==n.type||(p(),t=e.target,l=(d=t).value,s||(c=Object.getOwnPropertyDescriptor(t.constructor.prototype,"value"),Object.defineProperty(d,"value",u),d.attachEvent("onpropertychange",g)))}).on("focusout",function(){p()}).on("selectionchange keyup keydown",function(){s?d&&i(d).trigger("textchange"):d&&d.value!==l&&(l=d.value,i(d).trigger("textchange"))}),s&&o.start()},864:function(e,t,n){"use strict";!function(){Odigeo.extendNamespace(Odigeo,"Utils");var e,t,n,i,a=Odigeo.Utils;a.formatDate=(e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,t=new RegExp("\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b","g"),n=/[^-+\dA-Z]/g,i=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},function(o,s,r){var d=a.formatDate;if(1!==arguments.length||"[object String]"!==Object.prototype.toString.call(o)||/\d/.test(o)||(s=o,o=void 0),o=o?Odigeo.Utils.createDateFromString(o):new Date,isNaN(o))throw new SyntaxError("invalid date");"UTC:"===(s=String(d.masks[s]||s||d.masks.default)).slice(0,4)&&(s=s.slice(4),r=!0);var l=r?"getUTC":"get",c=o[l+"Date"](),u=o[l+"Day"](),p=o[l+"Month"](),g=o[l+"FullYear"](),h=o[l+"Hours"](),f=o[l+"Minutes"](),m=o[l+"Seconds"](),v=o[l+"Milliseconds"](),_=r?0:o.getTimezoneOffset(),b={d:c,dd:i(c),ddd:d.i18n.dayShortNames[u],dddd:d.i18n.dayNames[u],m:p+1,mm:i(p+1),mmm:d.i18n.monthShortNames[p],mmmm:d.i18n.monthNames[p],yy:String(g).slice(2),yyyy:g,h:h%12||12,hh:i(h%12||12),H:h,HH:i(h),M:f,MM:i(f),s:m,ss:i(m),l:i(v,3),L:i(99<v?Math.round(v/10):v),t:h<12?"a":"p",tt:h<12?"am":"pm",T:h<12?"A":"P",TT:h<12?"AM":"PM",Z:r?"UTC":(String(o).match(t)||[""]).pop().replace(n,""),o:(0<_?"-":"+")+i(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][3<c%10?0:(c%100-c%10!=10)*c%10]};return s.replace(e,function(e){return e in b?b[e]:e.slice(1,e.length-1)})}),a.formatDate.masks={default:"ddd mmm dd yyyy HH:MM:ss",justDay:"dd",justMonth:"mm",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",datepicker:"ddd. d mmmm, yyyy",datepickerExtendedMonth:"ddd. d mmmm, yyyy",dayMonth:"mmm d",dayMonthShort:"dd mmm",extendedDayDayMonth:"ddd, dd mmm",hourMinutes:"HH:MM",yearMonth:"yyyy-mm",dayShortWithTime:"ddd HH:MM",dayShortWithTimeCommaSeparated:"ddd, HH:MM",yearMonthDayHoursMinutes:"yyyy-mm-dd HH:MM",dayMonthTime:"dd mmmm. HH:MM TT"},a.formatDate.i18n={dayNames:null,dayShortNames:null,monthNames:null,monthShortNames:null},a.parseDate=function(e,t){var n;switch(t||(t="yyyy-mm-dd"),t.trim().toLowerCase()){case"yyyy-mm-dd":n=e.split("-");break;case"dd/mm/yyyy":n=e.split("/").reverse();break;case"dd.mm.yyyy":n=e.split(".").reverse();break;default:return new Date(e)}return(n=_.map(n,Number))[1]--,new Date(Date.UTC.apply({},n))},a.getNextDay=function(e){var t=new Date(e);return t.setDate(t.getDate()+1),e?Odigeo.Utils.formatDate(t.toISOString(),"isoDate",!0):""},a.parseJson=function(e){try{return JSON.parse(e)}catch(e){return null}},a.parseNodes=function(e){try{return $(e)}catch(e){return $()}},a.formatDateFromString=function(e,t,n){return a.formatDate(a.parseDate(e,t),n)},a.createDateFromString=function(e){try{if(e)return a.getDateFromInput(e);throw new SyntaxError("Invalid Date")}catch(e){}},a.getDateFromInput=function(e){var t=e,n=/([0-9-]+)[ T]([0-9:]+)\s*(\+[0-9][0-9]):?([0-9][0-9])/i;return _.isString(t)&&t.match(n)&&(t=t.replace(n,"$1T$2$3:$4")),new Date(t)};var o=function(e,t){var n=_.isDate(t)?t:new Date,i=[];return e.forEach(function(e){i.push(n[e].apply(n))},this),Date.UTC.apply(Date,i)};a.getToday=_.partial(o,["getUTCFullYear","getUTCMonth","getUTCDate"]),a.getTodayExactTimeUTC=_.partial(o,["getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes"]),a.getTodayExactTimeLocal=_.partial(o,["getFullYear","getMonth","getDate","getHours","getMinutes"]),a.addMins=function(e,t){return e+60*t*1e3},a.addHours=function(e,t){return this.addMins(e,60*t)},a.addDays=function(e,t){return this.addHours(e,24*t)},a.fromNow=function(e){var t=(new Date).getTime()-e,n=864e5,i=[{key:"aFewSecondsAgo",limit:45e3},{key:"aMinuteAgo",limit:9e4},{key:"xMinutesAgo",limit:27e5,param:6e4},{key:"anHourAgo",limit:54e5},{key:"xHoursAgo",limit:756e5,param:36e5},{key:"aDayAgo",limit:126e6},{key:"xDaysAgo",limit:216e7,param:n},{key:"aMonthAgo",limit:45*n},{key:"xMonthsAgo",limit:320*n,param:2592e6},{key:"aYearAgo",limit:548*n},{key:"xYearsAgo",limit:Number.POSITIVE_INFINITY,param:31104e6}],o=_.find(i,function(e){return t<e.limit}),s=a.fromNow.i18n[o.key],r=o.param&&Math.ceil(t/o.param);return a.replaceCmsKeyArgs(s,r)},a.fromNow.i18n={},a.InterfaceClient={DESKTOP:"ONE_FRONT_DESKTOP",SMARTPHONE:"ONE_FRONT_SMARTPHONE"},a.Partition={A:1,B:2,C:3,D:4},a.roundDateMinutesToQuarterHours=_.partial(function(e,t){var n=parseInt(a.formatDate(t,"MM",!0),10),i=e*Math.round(n/e)-n;return a.addMins(t,i)},15),a.isValidCreditCard=function(e,t){var n,i,a=0,o=0,s=!1,r=_.isString(e)?e.replace(/[\/\s-]/g,""):"",d=6<=r.length?_.parseInt(r.substring(0,6)):NaN;if(/[^0-9-]+/.test(e))return!1;for(i=(e=e.replace(/\D/g,"")).length-1;0<=i;i--)n=e.charAt(i),o=parseInt(n,10),s&&9<(o*=2)&&(o-=9),a+=o,s=!s;if(a%10!=0)return!1;var l=0;return t.mastercard&&(l|=1),t.visa&&(l|=2),t.amex&&(l|=4),t.dinersclub&&(l|=8),t.enroute&&(l|=16),t.discover&&(l|=32),t.jcb&&(l|=64),t.carteblanche&&(l|=128),t.unknown&&(l|=256),t.cartebleuenationale&&(l|=512),t.maestro&&(l|=1024),t.electron&&(l|=2048),t.uatp&&(l|=4096),t.all&&(l=4095),222100<=d&&d<=272099?16===e.length:1&l&&/^(5[12345]|58[19]|601576|426055|451416)/.test(e)?16===e.length:2&l&&/^(4|528392)/.test(e)?16===e.length||13===e.length:4&l&&/^(3[23457])/.test(e)?15===e.length:8&l&&/^(3[0-689]|5[45])/.test(e)?14===e.length||16===e.length:16&l&&/^(2(014|149))/.test(e)?15===e.length:32&l&&/^(6001|601[138]|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|6[54])/.test(e)?16===e.length:64&l&&/^(35|364826)/.test(e)?16===e.length:64&l&&/^(2131|1800)/.test(e)?15===e.length:128&l&&/^(3(0[0-5]|[68]))/.test(e)?14===e.length:512&l&&/^(4)/.test(e)?16===e.length:1024&l&&/^(554|5[60789]|6[0-46-9]|65[15]|0604|774|70[876])/.test(e)?12<=e.length&&e.length<=19:2048&l&&/^(4)/.test(e)?16===e.length:4096&l&&/^(1)/.test(e)?15===e.length:!!(256&l)},a.isValidPostalCode=function(e,t){var n,i,a;if(i={MLT01:["DE","FI","DZ","BA","KH","DO","HR","EG","EE","GT","ID","JO","KE","KW","LA","LT","MY","MV","MX","MA","NP","PK","PS","SA","SN","LK","TH","TR","UA","UY","ZM","CS","YU","IQ","XK","HN","PE","MN","RS"],MLT02:["AU","CH","AT","BE","DK","NO","AZ","BD","BG","CV","CY","GE","HT","HU","LV","LU","MK","MD","NZ","PY","PH","SI","ZA","TN","VE","CK","ET","GW","HM","LR","NE","SJ"],MLT03:["CN","SG","BY","KZ","RO","RU","TJ","TM","UZ","KG","EC"],MLT04:["FO","IS","GN","LS","MG","PG"],MLT05:["SE","CZ","GR","SK"]},a=_.keys(i),n={ES:/^(0[1-9]|5[0-2]|[0-4][0-9])[0-9]{3}$/,IT:/^(0000[1-9])$|^(\d{3}[1-9]\d)$|^(\d{2}[1-9]\d{2})$|^(\d{1}[1-9]\d{3})$|^([1-9]\d{4})$/,SO:/^[A-Z]{2}$/,IN:/^\d{3}[ ]?\d{3}$/,GB:/^GIR[ ]?0AA|((AB|AL|B|BA|BB|BD|BH|BL|BN|BR|BS|BT|CA|CB|CF|CH|CM|CO|CR|CT|CV|CW|DA|DD|DE|DG|DH|DL|DN|DT|DY|E|EC|EH|EN|EX|FK|FY|G|GL|GY|GU|HA|HD|HG|HP|HR|HS|HU|HX|IG|IM|IP|IV|JE|KA|KT|KW|KY|L|LA|LD|LE|LL|LN|LS|LU|M|ME|MK|ML|N|NE|NG|NN|NP|NR|NW|OL|OX|PA|PE|PH|PL|PO|PR|RG|RH|RM|S|SA|SE|SG|SK|SL|SM|SN|SO|SP|SR|SS|ST|SW|SY|TA|TD|TF|TN|TQ|TR|TS|TW|UB|W|WA|WC|WD|WF|WN|WR|WS|WV|YO|ZE)(\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}))|BFPO[ ]?\d{1,4}$/,JE:/^JE\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/,GG:/^GY\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/,IL:/^\d{7}$/,IM:/^IM\d[\dA-Z]?[ ]?\d[ABD-HJLN-UW-Z]{2}$/,US:/^\d{5}([ -]\d{4})?$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][ ]?\d[ABCEGHJ-NPRSTV-Z]\d$/,JP:/^\d{3}-\d{4}$/,FR:/^(0[1-9]\d{3})$|^([1-8][0-9]\d{3})$|^(9[0-5]\d{3})$/,NL:/^\d{4}[ ]?[A-Z]{2}$/,BR:/^\d{5}[-]?\d{3}$/,PT:/^\d{4}([-]\d{3})?$/,AX:/^22\d{3}$/,KR:/^\d{3}[-]\d{3}$/,TW:/^\d{3}(\d{2})?$/,AD:/^AD\d{3}$/,AR:/^([A-HJ-NP-Z])?\d{4}([A-Z]{3})?$/,AM:/^(37)?\d{4}$/,BH:/^((1[0-2]|[2-9])\d{2})?$/,BB:/^(BB\d{5})?$/,BM:/^[A-Z]{2}[ ]?[A-Z0-9]{2}$/,IO:/^BBND 1ZZ$/,BN:/^[A-Z]{2}[ ]?\d{4}$/,CL:/^\d{7}$/,CR:/^\d{4,5}|\d{3}-\d{4}$/,GL:/^39\d{2}$/,LB:/^(\d{4}([ ]?\d{4})?)?$/,LI:/^(948[5-9])|(949[0-7])$/,MT:/^[A-Z]{3}[ ]?\d{2,4}$/,MU:/^(\d{3}[A-Z]{2}\d{3})?$/,MC:/^980\d{2}$/,NI:/^((\d{4}-)?\d{3}-\d{3}(-\d{1})?)?$/,NG:/^(\d{6})?$/,OM:/^(PC )?\d{3}$/,PL:/^\d{2}-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,SM:/^4789\d$/,VA:/^00120$/,AS:/^96799$/,CC:/^6799$/,ME:/^8\d{4}$/,CX:/^6798$/,FK:/^FIQQ 1ZZ$/,NF:/^2899$/,FM:/^(9694[1-4])([ -]\d{4})?$/,GF:/^973([0-8][0-9]|90)$/,GP:/^971([0-8][0-9]|90)$/,GS:/^SIQQ 1ZZ$/,GU:/^969[123]\d([ -]\d{4})?$/,MH:/^969[67]\d([ -]\d{4})?$/,MP:/^9695[012]([ -]\d{4})?$/,MQ:/^9[78]2\d{2}$/,NC:/^988\d{2}$/,VI:/^008(([0-4]\d)|(5[01]))([ -]\d{4})?$/,PF:/^987\d{2}$/,PM:/97500$/,PN:/^PCRN 1ZZ$/,PW:/^96940$/,RE:/^974\d{2}$/,SH:/^(ASCN|STHL) 1ZZ$/,SZ:/^[HLMS]\d{3}$/,TC:/^TKCA 1ZZ$/,WF:/^986\d{2}$/,YT:/^976\d{2}$/,MLT01:/^\d{5}$/,MLT02:/^\d{4}$/,MLT03:/^\d{6}$/,MLT04:/^\d{3}$/,MLT05:/^\d{3}[ ]?\d{2}$/,DEFAULT:/^[- '0-9A-Za-z\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u00c6\u00e6\u00df\u00c8\u00c9\u00ca\u00cb\u00e8\u00e9\u00ea\u00eb\u00cc\u00cd\u00ce\u00cf\u0130\u00ec\u00ed\u00ee\u00ef\u0131\u0152\u0153\u00d2\u00d3\u00d4\u00d5\u00d6\u00d8\u00f8\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u00d9\u00da\u00db\u00dc\u00f9\u00fa\u00fb\u00fc\u0178\u00dd\u00fd\u00ff\u00c7\u00e7\u00d1\u00f1\u00d0\u00fe\u00de\u00b5\u0160\u0161\u015e\u015f\u011e\u011f\u0192]{1,10}$/},_.isUndefined(n[e])){for(var o in a)if(-1<_.indexOf(i[a[o]],e))return n[a[o]].test(t);return n.DEFAULT.test(t)}return n[e].test(t)},a.isValidRegex=function(e,t){return!!e.match(t)},a.isValidPassword=function(e,t){var n=!0===t?/^(?=.*\d)(?=.*[a-zA-Z])(?!.*\s).{7,}$/:/^.*(?=.{7,})(?=.*\d)(?=.*[a-zA-Z]).*$/;return a.isValidRegex(e,n)},a.isValidEmail=function(e){return a.isValidRegex(e,/^[_A-Za-z0-9-]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9]+([-]*[A-Za-z0-9])*(\.[A-Za-z0-9]+([-]*[A-Za-z0-9])*)*(\.[A-Za-z]{2,})$/)},a.isValidCif=function(e){var t,n,i,a,o,s=0,r=!!_.isString(e)&&e.match(/^([ABCDEFGHJKLMNPQRSUVWabcdefghjklmnpqrsuvw])(\d{7})([0-9A-Ja-j])$/);if(_.isArray(r)&&3<=r.length){t=r[2],n=_.isNaN(_.parseInt(r[3]))?r[3].toUpperCase():_.parseInt(r[3]);for(var d=0;d<t.length;d++)o=_.parseInt(t[d]),s+=(o=d%2==0?2*o:o)<10?o:o-9;a=(10-s.toString().substr(-1))%10,i="JABCDEFGHI".substr(a,1)}return!_.isUndefined(n)&&(n===a||n===i)},a.isValidNif=function(e){var t,n,i=!1;return _.isString(e)&&(t=e.substr(0,e.length-1),n=e.substr(e.length-1,1).toUpperCase(),i="TRWAGMYFPDXBNJZSQVHLCKE".charAt(t%23)===n),i},a.isValidBookingRef=function(e){return a.isValidRegex(e,/^[0-9]{2,18}$/)},a.isValid=function(e){return!!e&&a["isValid"+e.replace(/^[a-z]/,function(e){return e.toUpperCase()})].apply(this,Array.prototype.slice.call(arguments,1))},a.isDateInRange=function(e,t){var n,i,o,s=_.partial(a.formatDate,_,a.formatDate.masks.isoDate),r=!1;return e=_.compact(e),2===_.size(e)&&t&&(n=_.isDate(e[0])?e[0]:s(e[0]),i=_.isDate(e[1])?e[1]:s(e[1]),t=_.isDate(t)?t:s(t),(o=new Date(i.getTime())).setDate(o.getDate()+1),r=n<=t&&t<o),r},a.equalDates=function(e,t){return _.isDate(e)&&_.isDate(t)&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()&&e.getUTCFullYear()===t.getUTCFullYear()},a.isFutureDate=function(e,t){var n=_.isDate(e)?e:parseInt(e,10);return(t?_.isDate(t)?t.getTime():parseInt(t,10):(new Date).getTime())<n};var s=[/^\s*(1)\s*$/,/^\s*(\d+)\s*$/];a.pluralize=function(e){if(!e)return e;Odigeo.SessionScope=Odigeo.SessionScope||{};var t,n,i=[].concat(Odigeo.SessionScope.pluralRules||s);/^_pl0/.test(e)&&i.unshift(/^\s*(0)\s*$/),n=(t=(e=e.replace(/_pl0?\(([^\]]*)\)/,"$1")).split("|")).shift();for(var a=0;a<i.length;a++)if(RegExp(i[a]).test(n))return(t[a]||"").replace("#",n);return e},a.pluralizeAll=function(e){if(!_.isString(e))return e;var t=_.toArray(arguments);t.shift();for(var n,i,o=/\$\[(_pl0?\([^\]]*\))\]/,s=/%(\d+)\$s/,r=a.pluralize;null!==(i=e.match(s));)e=e.replace(s,t[i[1]-1]);for(;null!==(n=e.match(o));)e=e.replace(o,r(n[1]));return e},a.replaceCmsKeyArgs=function(e){if(_.isString(e)){var t=_.toArray(arguments);t.shift();for(var n=1;n<=t.length;n++)e=e.replace(new RegExp("%"+n+"\\$s","g"),t[n-1])}return e},a.replaceCmsKeyArgsByName=function(e,t){if(_.isString(e)&&_.isPlainObject(t))for(var n in t)t.hasOwnProperty(n)&&(e=e.replace(new RegExp("%"+n+"\\$s","g"),t[n]));return e},a.insertMiddleString=function(e,t,n){return 0!==n?e.substring(0,n)+t+e.substring(n,e.length):t+e},a.replacer=function(e,t){for(var n=a.replaceNonAlphaNumeric(e," ",!0),i=t.exec(n),o=[];i;)o.push([i.index,t.lastIndex]),i=t.exec(n);return _.each(_.sortBy(o,function(e){return-1*e[0]}),function(t){e=a.insertMiddleString(e,"#HLE#",t[1]),e=a.insertMiddleString(e,"#HLS#",t[0])}),e},a.breakTextToMultipleLines=function(e){var t=/#br#/g;return _.map([{regex:/\n|(\.|:)\n/g,replace:"$1#br#"},{regex:/\s+(\.)\s*/g,replace:"$1 "},{regex:/\s*(:)\s*/g,replace:"$1 "}],function(t){e=e.replace(t.regex,t.replace)}),Odigeo.Utils.isValidRegex(e,t)?_.compact(e.split(t)):[e]};var r={placeholder:"value",side:"front"};a.processCmsPlaceholder=function(e,t,n){var i,a,o,s,d,l,c,u;return l=t,c=(n=_.defaults({},n,r)).placeholder,u=new RegExp("%= ?"+c+" ?%","i"),l&&l.match(u)?(i=t,a=n.placeholder,o=e,s=_.template(i,null,{interpolate:/%=(.+?)%/g}),(d={})[a]=o,s(d)):"front"===n.side?e+" "+t:t+" "+e},a.getCurrentPath=function(){return document.location.pathname},a.isWebmasterPage=function(){return!0===$("#page").data("wmp")},a.getRemainingDays=function(e){return a.getDifferenceInDays((new Date).getTime(),e)},a.getRemainingMinutes=function(e){return a.getDifferenceInMinutes((new Date).getTime(),e)},a.getDifferenceInDays=function(e,t){return S(e,t,864e5)},a.getDifferenceInMinutes=function(e,t){return S(e,t,6e4)},a.getDifferenceInSeconds=function(e,t){return S(e,t,1e3)},a.getDifferenceInMilliseconds=function(e,t){return S(e,t,1)};var d,l,c,u,p,g,h,f,m,v,b,y,w,C,E,x,O,S=function(e,t,n){return Math.floor(t/n)-Math.floor(e/n)};a.getImageFromCDN=function(e){for(var t=document.getElementsByTagName("link")||[],n=[],i=0;i<t.length;i++)"dns-prefetch"===t[i].getAttribute("rel")&&n.push(t[i].getAttribute("href")+"/images/");return 0<n.length?n[Math.abs(function(e){var t=0;if(Array.prototype.reduce)return e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0);for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}(e))%n.length]+e:"/images/"+e},a.replaceNonAlphaNumeric=function(e,t,n){return(n?Odigeo.Utils.replaceAccents(e):e).replace(/[-'\/\\`.,\s]/gi,t||"")},a.replaceAccents=(d={A:new RegExp("[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F\\uA732\\u00C6\\u01FC\\u01E2\\uA734\\uA736\\uA738\\uA73A\\uA73C]","g"),B:new RegExp("[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181]","g"),C:new RegExp("[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E]","g"),D:new RegExp("[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779\\u01F1\\u01C4\\u01F2\\u01C5]","g"),E:new RegExp("[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E]","g"),F:new RegExp("[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B]","g"),G:new RegExp("[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E]","g"),H:new RegExp("[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D]","g"),I:new RegExp("[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197]","g"),J:new RegExp("[\\u004A\\u24BF\\uFF2A\\u0134\\u0248]","g"),K:new RegExp("[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2]","g"),L:new RegExp("[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780\\u01C7\\u01C8]","g"),M:new RegExp("[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C]","g"),N:new RegExp("[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4\\u01CA\\u01CB]","g"),O:new RegExp("[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C\\u01A2\\uA74E\\u0222]","g"),P:new RegExp("[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754]","g"),Q:new RegExp("[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A]","g"),R:new RegExp("[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782]","g"),S:new RegExp("[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784]","g"),T:new RegExp("[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786\\uA728]","g"),U:new RegExp("[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244]","g"),V:new RegExp("[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245\\uA760]","g"),W:new RegExp("[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72]","g"),X:new RegExp("[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C]","g"),Y:new RegExp("[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE]","g"),Z:new RegExp("[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762]","g")},l={a:new RegExp("[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250\\uA733\\u00E6\\u01FD\\u01E3\\uA735\\uA737\\uA739\\uA73B\\uA73D]","g"),b:new RegExp("[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253]","g"),c:new RegExp("[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184]","g"),d:new RegExp("[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A\\u01F3\\u01C6]","g"),e:new RegExp("[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD]","g"),f:new RegExp("[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C]","g"),g:new RegExp("[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F]","g"),h:new RegExp("[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265\\u0195]","g"),i:new RegExp("[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131]","g"),j:new RegExp("[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249]","g"),k:new RegExp("[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3]","g"),l:new RegExp("[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747\\u01C9]","g"),m:new RegExp("[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F]","g"),n:new RegExp("[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5\\u01CC]","g"),o:new RegExp("[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275\\u01A3\\u0223\\uA74F]","g"),p:new RegExp("[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755]","g"),q:new RegExp("[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759]","g"),r:new RegExp("[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783]","g"),s:new RegExp("[\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B]","g"),t:new RegExp("[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787\\uA729]","g"),u:new RegExp("[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289]","g"),v:new RegExp("[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C\\uA761]","g"),w:new RegExp("[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73]","g"),x:new RegExp("[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D]","g"),y:new RegExp("[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF]","g"),z:new RegExp("[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763]","g")},function(e,t){return _.each(l,function(t,n){e=e.replace(t,n)}),t||_.each(d,function(t,n){e=e.replace(t,n)}),e}),a.sessionLifeTime=12e5,a.sessionTimer=(c={SESSION_EXPIRED_EVENT:"session:expired",SESSION_ABOUT_TO_EXPIRE_EVENT:"session:abouttoexpire",SESSION_LOGIN_EXPIRATION_EVENT:"session:loginexpiration"},g=p=u=null,h=a.sessionLifeTime,f=null,m=h-h/4,v=!1,b=function(){E(),Odigeo.trigger(c.SESSION_EXPIRED_EVENT)},y=function(){Odigeo.trigger(c.SESSION_ABOUT_TO_EXPIRE_EVENT)},w=function(){Odigeo.trigger(c.SESSION_LOGIN_EXPIRATION_EVENT)},x=function(){E(),C()},{CONST:c,stop:E=function(){v&&(clearTimeout(u),clearTimeout(p),clearTimeout(g),v=!1)},start:C=function(){0<h&&!v&&(v=!0,u=setTimeout(b,f||h),p=setTimeout(y,m),g=setTimeout(w,12e5))},clearAlertTimer:function(){clearTimeout(p)},reset:x,resetTimeoutCounter:function(e){0<(f=e)&&v&&(clearTimeout(u),u=setTimeout(b,f))},setTime:function(e,t){h=1e3*e,m=t&&t<e?1e3*t:h-h/4,x()},isRunning:function(){return v}}),a.Currency={currencySign:"&euro;",currencyPosition:"back",decimalPlaces:2,decimalSeparator:",",thousandSeparator:".",currencySymbolPrefix:"",spaceBetweenSignAndQuantity:!0,signBetweenSymbolAndValue:!1,negationSymbol:"-"},a.startsWith=function(e,t){return!_.isEmpty(e)&&t&&e.substr(0,t.length)===t},a.formatCurrency=function(e,t){var n,i;_.isEmpty(t)&&(t=a.Currency);var o=e<0?t.negationSymbol:"",s=parseInt(e=Math.abs(+e||0).toFixed(t.decimalPlaces),10)+"";return n=(i=3<(i=s.length)?i%3:0)?s.substr(0,i)+t.thousandSeparator:"",n+=s.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+t.thousandSeparator),n+=0<t.decimalPlaces?t.decimalSeparator+Math.abs(e-s).toFixed(t.decimalPlaces).slice(2):"","back"===t.currencyPosition?n=o+n+(t.spaceBetweenSignAndQuantity?" ":"")+t.currencySymbolPrefix+t.currencySign:"front"===t.currencyPosition&&(n=(t.signBetweenSymbolAndValue?"":o)+t.currencySymbolPrefix+t.currencySign+(t.spaceBetweenSignAndQuantity?" ":"")+(t.signBetweenSymbolAndValue?o:"")+n),n},a.splitFormatedCurrency=function(e,t){var n,i,o,s,r={prefix:null,integer:0,decimal:0,sufix:null,quantity:e},d=e<0?"-":"";return t=t||a.Currency,n=parseInt(e=Math.abs(+e||0).toFixed(t.decimalPlaces),10)+"",i=t.spaceBetweenSignAndQuantity?" ":"",s=(o=3<(o=n.length)?o%3:0)?n.substr(0,o)+t.thousandSeparator:"",r.integer=(t.signBetweenSymbolAndValue?"":d)+(s+n.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+t.thousandSeparator)),r.decimal=0<t.decimalPlaces?t.decimalSeparator+Math.abs(e-n).toFixed(t.decimalPlaces).slice(2):"","back"===t.currencyPosition?r.sufix=i+t.currencySymbolPrefix+t.currencySign:"front"===t.currencyPosition&&(r.prefix=t.currencySymbolPrefix+t.currencySign+i),r},a.encodeToHtmlEntity=function(e){var t;return _.isString(e)&&(t=_.startsWith(e.trim(),"&")?e:e.replace(/[\u00A0-\u9999<>&]/gim,function(e){return"&#"+e.charCodeAt(0)+";"})),t},a.Easing=O={linearTween:function(e,t,n,i){return n*e/i+t},easeInQuad:function(e,t,n,i){return n*(e/=i)*e+t},easeOutQuad:function(e,t,n,i){return-n*(e/=i)*(e-2)+t},easeInOutQuad:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,i){return n*(e/=i)*e*e+t},easeOutCubic:function(e,t,n,i){return e/=i,n*(--e*e*e+1)+t},easeInOutCubic:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,i){return n*(e/=i)*e*e*e+t},easeOutQuart:function(e,t,n,i){return e/=i,-n*(--e*e*e*e-1)+t},easeInOutQuart:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},easeOutQuint:function(e,t,n,i){return e/=i,n*(--e*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},easeInOutSine:function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},easeInExpo:function(e,t,n,i){return n*Math.pow(2,10*(e/i-1))+t},easeOutExpo:function(e,t,n,i){return n*(1-Math.pow(2,-10*e/i))+t},easeInOutExpo:function(e,t,n,i){return(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(2-Math.pow(2,-10*e))+t)},easeInCirc:function(e,t,n,i){return e/=i,-n*(Math.sqrt(1-e*e)-1)+t},easeOutCirc:function(e,t,n,i){return e/=i,e--,n*Math.sqrt(1-e*e)+t},easeInOutCirc:function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:(e-=2,n/2*(Math.sqrt(1-e*e)+1)+t)},randomEquation:function(){var e=_.toArray(O).slice(0,-1);return e[Math.floor(Math.random()*e.length)]}},a.getObjRef=function(e,t){var n={};if(_.isArray(t)&&_.isObject(e)){n=e;for(var i=0;i<=t.length-1&&_.isObject(n);i++)i<t.length-1?n=n[t[i]]:_.isUndefined(n[t[i]])&&(n={})}return _.isObject(n)?n:{}},a.getNestedProperty=function(e,t){var n=_.isString(t)?t.split("."):[];return a.getObjRef(e,n)[n[n.length-1]]},a.setNestedProperty=function(e,t,n){var i=_.isString(t)?t.split("."):[],o=a.getObjRef(e,i),s=!!i.length&&!_.isUndefined(o[i[i.length-1]]);return s&&(o[i[i.length-1]]=n),s},a.objectHasPropperty=function(e,t){return _.every(t.split("."),function(t){var n=_.isObject(e)&&e.hasOwnProperty(t);return n&&(e=e[t]),n})};var T=function(e){e.page_url=/(.*)\//.exec(window.location)[0].split(window.location.search).join(""),e.ext_ga_client_id=_.has(window,"ga.getAll")&&!_.isEmpty(window.ga.getAll())?window.ga.getAll()[0].get("clientId"):"not-initialized",window.tmParam=_.extend(window.tmParam||{},e);var t=document.createElement("script"),n=document.getElementsByTagName("script")[0],i=document.getElementsByTagName("body")[0],a=i.getAttribute("data-brand")||"ED",o=("M"===window.tmParam.device?"mobile-":"")+(i.getAttribute("data-env")||"prod");t.async=!0,t.type="text/javascript",t.src="//nexus.ensighten.com/"+{ED:"edreams",GV:"govoyage",OP:"opodo",TL:"travellink"}[a]+"/"+o+"/Bootstrap.js",n.parentNode.insertBefore(t,n)};a.ensighten=function(e,t,n,i){Odigeo.SessionScope.isBookingXSWhiteLabel||((e=e||{}).page_url=/(.*)\//.exec(window.location)[0].split(window.location.search).join(""),t?function e(t,n){var i;window.TAGMAN?(window.tmParam=_.extend(window.tmParam,t),window.TAGMAN.fireEvent(n||_.keys(t)[0]),_.delay(function(){Odigeo.trigger("analytics:tracking",{type:"getUserIdFromBoxever"})},2e3)):(i="delayedEnsightenEvents_"+n,(window[i]=window[i]||0)<5?(window[i]++,_.delay(function(){e(t,n)},500)):Odigeo.Utils.deleteWindowPropertySafely(i))}(e,n):window.tmParam&&window.tmParam.page_url===e.page_url||e.device?e.page_type&&T(e):$.getJSON(Odigeo.Settings.property("serviceUrlFormatter")("tagman"),{page:i||(Odigeo.Utils.isWebmasterPage()?"general":Odigeo.History.getPageNameFromFragment()||"home"),funnel:Odigeo.Utils.getFunnelInGlobalScope()}).done(function(t){T(_.extend(t,e))}))},a.ensighten.updateDatalayer=function(e){_.isEmpty(e)||(window.tmParam=_.extend(window.tmParam,e))},a.logger=function(e,t,n,i,a){var o,s,r,d;return _.reduce([/TestError/,/^tman\.cgi/,/Script error/,/akamaihd/,/cloudfront\.net/,/__gCrWeb/,/DealPly/,/KDMScroller/,/_watcherReady/,/tv-classic-noboot-fg/],function(n,i){return n||i.test(e)||i.test(t)||a&&a.stack&&i.test(a.stack)},!1)||_.isEmpty(e)||(Odigeo.Utils.logger.count=Odigeo.Utils.logger.count?Odigeo.Utils.logger.count+1:1,!(Odigeo.Utils.logger.count<=50))||(r=t,d=window.location.hostname,!(0===r.replace(/[a-zA-Z]+:\/\//,"").indexOf(d)||-1<r.indexOf("odistatic")))||(s=(s=t.split("/"))[s.length-1],o={message:e,fileName:s,lineNumber:n,column:i||0,hash:window.location.hash,stack:a&&a.stack?a.stack:"",queryString:window.location.search.substr(1)},$.ajax({url:(Odigeo.Settings.property("appContext")||"/travel")+"/service/jslogger/log",method:"POST",contentType:"application/json;charset=UTF-8",data:JSON.stringify(o)})),!1},a.getLogger=function(e){return function(){a.logger.apply(null,arguments),_.isFunction(e)&&e.apply(null,e)}},window.onerror=a.getLogger(window.onerror),a.loadCSS=function(e,t,n){var i=window.document.createElement("link"),a=t||window.document.getElementsByTagName("script")[0];return i.rel="stylesheet",i.href=e,i.media="only x",a.parentNode.insertBefore(i,a),setTimeout(function(){i.media=n||"all"}),i},a.parseOptions=Odigeo.parseOptions,a.decodeParams=function(e){var t={},n=decodeURIComponent;return $.each(e.replace(/\+/g," ").split("&"),function(e,i){var a,o,s,r,d=i.split("="),l=t,c=0;try{a=n(d[0])}catch(e){return}if(r=(s=a.split("][")).length-1,r=/\[/.test(s[0])&&/\]$/.test(s[r])?(s[r]=s[r].replace(/\]$/,""),(s=s.shift().split("[").concat(s)).length-1):0,2===d.length){try{o=d[1]?n(d[1]):""}catch(e){o=""}if(r)for(;c<=r;c++)l=l[a=""===s[c]?l.length:s[c]]=c<r?l[a]||(s[c+1]&&isNaN(s[c+1])?{}:[]):o;else $.isArray(t[a])?t[a].push(o):void 0!==t[a]?t[a]=[t[a],o]:t[a]=o}else a&&(t[a]="")}),t},a.encodeParams=function(e){return!1===_.isPlainObject(e)?"":"?"+$.param(e)},a.findLandingPageType=function(e){var t="PASSENGER"===e?"PASSENGER":"RESULT";return"TEST_AB"===e&&(t="PASSENGER"),t},a.createCookie=function(e,t,n){var i;if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),i="; expires="+a.toGMTString()}else i="";document.cookie=e+"="+t+i+"; path=/"},a.readCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var a=n[i];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null},a.parseHashParameters=function(e){var t,n=new RegExp(/(?:;|%3B)/gi);return _.reduce(_.compact(_(e).trimLeft("/").split(n)),function(e,n){return e[(t=n.split("="))[0]]=t[1],e},{})},a.eraseCookie=function(e){a.createCookie(e,"",-1)},a.apply=function(e){_.isFunction(window.atob)&&/holder$/i.test(e.attr("name"))&&"dGhpc2lzYnJva2Vu"===btoa(e.val())&&Odigeo.Utils.enhance()},a.enhance=_.once(function(){$(document).on(Odigeo.Events.tap,function(e){var t=_.random(-5,5);$(e.target).css("transform","rotate("+t+"deg)").addClass("tilt")})}),a.removeBlankSpaces=function(e){return e.replace(/\s+/g,"")},a.trim=function(e){return _.isString(e)?e.trim():null},a.apply=_.once(function(e){/holder$/i.test(e.attr("name"))&&"thisisbroken"===e.val()&&$(document).on(Odigeo.Events.tap,this.enhance)}),a.enhance=function(e){var t=_.random(-5,5);$(e.target).css("transform","rotate("+t+"deg)").addClass("tilt")},a.patchFormsForiOS8=function(e){if(Odigeo.Device.navigator.isIOS8&&Odigeo.Device.navigator.isSafariiOS){var t=e.find("form:not(.ios8_wrapper_form)");t.find("input,select").not('[type="date"],[type="month"]').wrap($("<form>",{class:"ios8_wrapper_form",style:"height: 100%;"}).submit(function(){return!1})).attr("autocorrect","off"),t.each(function(){var e=$(this),t=$("<div>"),n=e.closest("[data-widget]");if(t=e.wrap(function(){var e=$(this).prop("attributes"),n=$(this).data();return _.each(e,function(e){t.attr(e.name,e.value)}),t.data(n),t}).parent(),e.children().unwrap(),n.length){var i=Odigeo.getWidgetByID(n.data("id"));i&&_.each(i.view.$cachedSelectors,function(n){_.each(n,function(n,i,a){$(n).is(e)&&(a[i]=t)})})}})}},a.elementInViewport=function(e){var t=e instanceof $?e:$(e),n=$(window),i=Odigeo.Settings.options.lazyThreshold||0,a=n.scrollTop(),o=a+n.height(),s=t.offset().top;return a-i<=s+t.height()&&s<=o+i},a.pad=function(e,t){for(var n=String(e).split("");n.length<t;)n.unshift(0);return n.join("")},a.getWebProtocol=function(){return location.protocol},a.isHomePage=function(){var e=location.pathname+location.hash;return"home"===Odigeo.History.getPageNameFromFragment(e)},a.isHomePageStrict=function(){return _.includes(["home",""],Odigeo.History.getPageNameFromFragment())},a.getAppInGlobalScope=function(){return a.isHomePage()?Odigeo.SessionScope.entryPoint:Odigeo.SessionScope.flowProduct},a.isRequestApp=function(e){return Odigeo.SessionScope.flowProduct===e},a.goToApplicationHome=function(e,t){window.location="/home/"+(e?"dp/":"")+(t?"#"+t:"")},a.repeatAccommodationPBSearch=function(){var e=Odigeo.Utils.parseJson(Odigeo.Session.get("bookingInfo")),t="trackingId="+btoa(e.buyer.mail)+";bookingId="+e.bookingBasicInfo.id+";product=accommodation";Odigeo.Session.remove("comesFromError"),Odigeo.Router.navigate("post_booking",{params:t})},a.getFunnelScope=function(e){return e[this.getAppInGlobalScope()]},a.getSearchId=function(){var e=Odigeo.Utils.parseJson(Odigeo.Session.get("searchParameters"))||{};return _.isObject(e.externalSelectionRequest)&&e.externalSelectionRequest.searchId?_.parseInt(e.externalSelectionRequest.searchId,10):null},a.getFunnelInGlobalScope=_.partial(a.getFunnelScope,{home:"",flights:"flights",dp:"dynpack",upsell:"dynpack",accommodationPostBooking:"accommodationPostBooking"}),a.getFunnelTrackingLegacy=_.partial(a.getFunnelScope,{home:"/home/",flights:"/vuelos/",dp:"/dynamic/",upsell:"/dynamic/"}),a.capitalize=function(e){return e?e.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()}):e},a.templateLiteral=function(e,t){return e.replace(/\$\{(.+?)\}/g,function(e,n){return _.isUndefined(t[n])?e:t[n]})},a.capitalizeFirstLetter=function(e){return _.isString(e)?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e},a.stringToCamelCase=function(e){return((e?"_":"")+e).replace(/[^a-zA-Z0-9 ]/g," ").replace(/([a-z](?=[A-Z]))/g,"$1 ").replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase().replace(/([ 0-9]+)([a-zA-Z])/g,function(e,t,n){return t.trim()+n.toUpperCase()})},a.deleteWindowPropertySafely=function(e){try{delete window[e]}catch(t){window[e]=void 0}},a.executeInternalMethods=function(e,t,n,i,a){var o;if(a||(a=_.bind(console.warn,console)),_.isObject(t)){var s=t[n];if(_.isString(s)){var r=function(e){var t,n,i=e.split("."),a=this;if(3===i.length)a=this[i[0]][i[1]];else if(2===i.length)a=this[i[0]];else if(1!==i.length)return;return t=(n=_.last(i).split("@"))[0],n=n.slice(1),{context:a,fn:a[t],args:n}}.call(e,s);[].push.apply(r.args,i||[]),_.isFunction(r.fn)&&(o=r.fn.apply(r.context,r.args))}else a(e.id+": command "+n+" was not recognized!");return _.isUndefined(o)||r.context===o?e:o}return this},a.eachObject=function(e,t,n){for(var i,a,o=_.keys(e),s=n?o.length-1:0,r=n?-1:o.length,d=n?-1:1,l=s;i=l,a=r,n?a<i:i<a;l+=d)t(e[o[l]],o[l],e);return e},a.calendarHolidays={countryHolidays:[],regionHolidays:[]},a.millisecsToDays=function(e){var t,n=(new Date).getTime();return 0<=(t=Math.floor((e-n)/864e5))?t:null},a.scrollToElement=function(e,t){var n=e instanceof $?e:$(e),i=!_.isUndefined(t)&&!_.isUndefined(t.container),a=$(i?t.container:window).height(),o={},s=0,r=_.get(t,"avoidDefaultOffset")?0:Math.ceil(a/8),d=i?n.position():n.offset();0<n.length&&(o={centerInWindow:!1,elementHeight:n.height(),elementOffsetTop:d.top,extraTop:0,container:"body, html",animation:!0},s=(o=_.extend(o,t)).elementOffsetTop-r,o.centerInWindow&&(s=o.elementOffsetTop-(Math.ceil(a/2)-Math.ceil(o.elementHeight/2))),s-=o.extraTop,o.animation?$(o.container).animate({scrollTop:s},250):$(o.container).scrollTop(s))},a.getAge=function(e){var t,n=(new Date).getTime();return 0<=(t=Math.floor((n-e)/31536e6))?t:null};var D={evaluate:/\{\{#([\s\S]+?)\}\}/g,interpolate:/\{\{([^#][\s\S]+?)\}\}/g,escape:/\{\{\{([\s\S]+?)\}\}\}/g,variable:"data"};a.getTmplSettings=function(e){return _.extend({},D,e)},a.getTemplates=function(e,t,n){return _.reduce(t,function(t,i,o){var s=e.find(i).html()||"";return t[o]=_.template(s,a.getTmplSettings(n)),t},{})},a.fitStringsCombination=function(e,t,n){var i=["",""],a=function(e){return!_.isNull(e)&&_.isString(e)&&0<_.size(e)};if(!_.isNumber(e)||isNaN(e)||e<0)throw new SyntaxError("maxLength is not a valid number");if(!_.isArray(t)||!_.isArray(n))throw new SyntaxError("array1 and array2 must be arrays");return i[0]=_.find(t,function(t){return i[1]=_.find(n,function(n){return function(t,n){return a(t)&&a(n)&&(i=t,o=n,_.size(i)+_.size(o)<=e);var i,o}(t,n)}),!_.isUndefined(i[1])}),i},a.isMatch=function(e,t){var n=_.keys(t),i=n.length;if(null===e)return!i;for(var a=Object(e),o=0;o<i;o++){var s=n[o];if(t[s]!==a[s]||!(s in a))return!1}return!0},a.convertMinutesToPattern=function(e,t){return e&&_.isNumber(e)&&t&&_.isString(t)?a.replaceCmsKeyArgs(t,parseInt(e/60,10),parseInt(e%60,10)):""},a.getPrevNextList=function(e,t){var n,i=_.zipObject(["previous","next"]);return!_.isArray(e)||_.isEmpty(e)||_.isUndefined(e[t])||(n=e.length,i.previous=e[(t+n-1)%n],i.next=e[(t+1)%n]),i},a.copyToClipboard=function(e){e.get(0).select();try{return document.execCommand("copy")}catch(e){return!1}},a.hideAndShowOnScroll=function(e,t,n){var i="hideAndShowOnScroll_"+e,a=window.pageYOffset;Odigeo.removeScrollListener(i),Odigeo.addScrollListener({name:i,fn:function(){var e=window.pageYOffset;n.toggleClass("od-hide-on-scroll",a<e),a=e},pageName:t})},a.isElementOverflowing=function(e,t){var n,i=_.get(t,"$parentElement"),a=!1,o=!1;return 0<(n=e instanceof jQuery?e:i instanceof jQuery?i.find(e):$(e)).length&&(a=!_.get(t,"ignoreHorizontalOverflow")&&n[0].scrollWidth>n[0].clientWidth,o=!_.get(t,"ignoreVerticalOverflow")&&n[0].scrollHeight>n[0].clientHeight),a||o},a.extractNumberOfChar=function(e,t){return(e=(e=_.isEmpty(e)?"":e.toLowerCase()).length>=t?e.substr(0,t):e).replace(/\s+/g,"").replace(/_/g,"")}}()},865:function(e,t,n){"use strict";Odigeo.Utils.CoSearch={getCoSearchUrl:function(){return Odigeo.Device.navigator.isChrome?Odigeo.AB.isCoSearchInOriginalTab?Odigeo.SessionScope.cosearchLibUrl.test:Odigeo.SessionScope.cosearchLibUrl.none:Odigeo.SessionScope.cosearchLibUrl.old},getNewTabTestEvent:function(e){return"desktop"===e&&Odigeo.Device.navigator.isChrome&&Odigeo.AB.isCoSearchInOriginalTab&&Odigeo.SessionScope.cosearchLibUrl.test?"searchWithNewTabTest":"search"}}},866:function(e,t){!function(e,t){var n=6,i=e.event.add,a=e.event.remove,o=function(t,n,i){e.event.trigger(n,i,t)},s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(function(){e()},25)},r={textarea:!0,input:!0,select:!0,button:!0},d={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},l="touchmove",c="touchend",u="touchend";function p(e){var t=e,n=!1,i=!1;function a(e){n?(t(),s(a),n=!(i=!0)):i=!1}this.kick=function(e){n=!0,i||a()},this.end=function(e){var a=t;e&&(i?(t=n?function(){a(),e()}:e,n=!0):e())}}function g(){return!0}function h(){return!1}function f(e){e.preventDefault()}function m(e){r[e.target.tagName.toLowerCase()]||e.preventDefault()}function v(e,t){var n,i;if(e.identifiedTouch)return e.identifiedTouch(t);for(n=-1,i=e.length;++n<i;)if(e[n].identifier===t)return e[n]}function _(e,t){var n=v(e.changedTouches,t.identifier);if(n&&(n.pageX!==t.pageX||n.pageY!==t.pageY))return n}function b(e){O(e,e.data,e,w)}function y(e){w()}function w(){a(document,d.move,b),a(document,d.cancel,y)}function C(e){var t=e.data,n=_(e,t);n&&O(e,t,n,x)}function E(e){var t=e.data;v(e.changedTouches,t.identifier)&&x(t.identifier)}function x(e){a(document,"."+e,C),a(document,"."+e,E)}function O(e,t,i,a){var s,r,d,l,c,u,p,g,h=i.pageX-t.startX,f=i.pageY-t.startY;h*h+f*f<n*n||(s=e,d=i,l=h,c=f,u=a,(r=t).target,p=s.targetTouches,g=s.timeStamp-r.timeStamp,r.type="movestart",r.distX=l,r.distY=c,r.deltaX=l,r.deltaY=c,r.pageX=d.pageX,r.pageY=d.pageY,r.velocityX=l/g,r.velocityY=c/g,r.targetTouches=p,r.finger=p?p.length:1,r._handled=S,r._preventTouchmoveDefault=function(){s.preventDefault()},o(r.target,r),u(r.identifier))}function S(){return this._handled=g,!1}function T(e){e._handled()}function D(e){var t=e.data.event,n=e.data.timer;U(t,e,e.timeStamp,n)}function k(e){var t=e.data.event,n=e.data.timer;a(document,d.move,D),a(document,d.end,k),I(t,n,function(){setTimeout(function(){a(t.target,"click",h)},0)})}function $(e){var t=e.data.event,n=e.data.timer,i=_(e,t);i&&(e.preventDefault(),t.targetTouches=e.targetTouches,U(t,i,e.timeStamp,n))}function A(e){var t,n=e.data.event,i=e.data.timer;v(e.changedTouches,n.identifier)&&(t=n,a(document,"."+t.identifier,$),a(document,"."+t.identifier,A),I(n,i))}function U(e,t,n,i){var a=n-e.timeStamp;e.type="move",e.distX=t.pageX-e.startX,e.distY=t.pageY-e.startY,e.deltaX=t.pageX-e.pageX,e.deltaY=t.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/a,e.velocityY=.3*e.velocityY+.7*e.deltaY/a,e.pageX=t.pageX,e.pageY=t.pageY,i.kick()}function I(e,t,n){t.end(function(){return e.type="moveend",o(e.target,e),n&&n()})}e.event.special.movestart={setup:function(e,t,n){return i(this,"movestart.move",T),!0},teardown:function(e){return a(this,"dragstart drag",f),a(this,"mousedown touchstart",m),a(this,"movestart",T),!0},add:function(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(i(this,"dragstart."+e.guid+" drag."+e.guid,f,t,e.selector),i(this,"mousedown."+e.guid,m,t,e.selector))},remove:function(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(a(this,"dragstart."+e.guid+" drag."+e.guid),a(this,"mousedown."+e.guid))},_default:function(e){var n,a;e._handled()&&(a={event:n={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},timer:new p(function(t){o(e.target,n)})},e.identifier===t?(i(e.target,"click",h),i(document,d.move,D,a),i(document,d.end,k,a)):(e._preventTouchmoveDefault(),i(document,l+"."+e.identifier,$,a),i(document,u+"."+e.identifier,A,a)))}},e.event.special.move={setup:function(){i(this,"movestart.move",e.noop)},teardown:function(){a(this,"movestart.move",e.noop)}},e.event.special.moveend={setup:function(){i(this,"movestart.moveend",e.noop)},teardown:function(){a(this,"movestart.moveend",e.noop)}},i(document,"mousedown.move",function(e){var t,n;1!==(n=e).which||n.ctrlKey||n.altKey||(t={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp},i(document,d.move,b,t),i(document,d.cancel,y,t))}),i(document,"touchstart.move",function(e){var t,n;r[e.target.tagName.toLowerCase()]||(n={target:(t=e.changedTouches[0]).target,startX:t.pageX,startY:t.pageY,timeStamp:e.timeStamp,identifier:t.identifier},i(document,l+"."+t.identifier,C,n),i(document,c+"."+t.identifier,E,n))}),"function"==typeof Array.prototype.indexOf&&function(e,t){for(var n=["changedTouches","targetTouches"],i=n.length;i--;)-1===e.event.props.indexOf(n[i])&&e.event.props.push(n[i])}(e)}(jQuery)},867:function(e,t){!function(e,t){var n=e.event.add,i=e.event.remove,a=function(t,n,i){e.event.trigger(n,i,t)},o={threshold:.4,sensitivity:6};function s(e){var t,n,i;t=e.target.offsetWidth,n=e.target.offsetHeight,i={distX:e.distX,distY:e.distY,velocityX:e.velocityX,velocityY:e.velocityY,finger:e.finger},e.distX>e.distY?e.distX>-e.distY?(e.distX/t>o.threshold||1<e.velocityX*e.distX/t*o.sensitivity)&&(i.type="swiperight",a(e.currentTarget,i)):(-e.distY/n>o.threshold||1<e.velocityY*e.distY/t*o.sensitivity)&&(i.type="swipeup",a(e.currentTarget,i)):e.distX>-e.distY?(e.distY/n>o.threshold||1<e.velocityY*e.distY/t*o.sensitivity)&&(i.type="swipedown",a(e.currentTarget,i)):(-e.distX/t>o.threshold||1<e.velocityX*e.distX/t*o.sensitivity)&&(i.type="swipeleft",a(e.currentTarget,i))}function r(t){var n=e.data(t,"event_swipe");return n||(n={count:0},e.data(t,"event_swipe",n)),n}e.event.special.swipe=e.event.special.swipeleft=e.event.special.swiperight=e.event.special.swipeup=e.event.special.swipedown={setup:function(e,t,i){if(!(0<r(this).count++))return n(this,"moveend",s),!0},teardown:function(){if(!(0<--r(this).count))return i(this,"moveend",s),!0},settings:o}}(jQuery)},868:function(e,t){!function(e,t){"use strict";var n,i,a,o,s,r,d,l,c,u,p;t.support.touch="ontouchstart"in window||window.DocumentTouch&&e instanceof DocumentTouch,n=0,i=["clientX","clientY","screenX","screenY","pageX","pageY"],(p=(u=function(e,t){void 0!==e&&this.init(e,t)}).prototype).init=function(e,t){return this.$target=e,this.selector=t.selector,this.data=t.data,this.namespace=".__tap-helper"+n++,this.startX=0,this.startY=0,this.isTracking=!1,this.setupHandlers().reset().enable()},p.setupHandlers=function(){return this.onDown=t.proxy(this._onDown,this),this.onMove=t.proxy(this._onMove,this),this.onUp=t.proxy(this._onUp,this),this.onCancel=t.proxy(this._onCancel,this),this},p.enable=function(){return this.$target.on("mousedown"+this.namespace,this.selector,this.onDown),this},p.disable=function(){return this.$target.off("mousedown"+this.namespace,this.selector,this.onDown),this},p.reset=function(){return this.startX=0,this.startY=0,this.isTracking=!1,this},p.destroy=function(){return this.onCancel(),this.disable()},p.getCoordinates=function(e){return[e.clientX,e.clientY]},p._onDown=function(e){if(!this.isTracking){this.isTracking=!0;var t=this.getCoordinates(e);this.startX=t[0],this.startY=t[1],this.$target.on("mousemove"+this.namespace,this.onMove).on("click"+this.namespace,this.selector,this.onUp)}},p._onMove=function(e){var t=this.getCoordinates(e);(10<Math.abs(t[0]-this.startX)||10<Math.abs(t[1]-this.startY))&&this.onCancel()},p._onUp=function(e){e.isTrigger||e.originalEvent.triggeredTap||(e.originalEvent.triggeredTap=!0,e.type="tap",this.$target.trigger(e)),this.onCancel()},p._onCancel=function(e){this.reset(),this.$target.off("mousemove"+this.namespace,this.onMove).off("click"+this.namespace,this.selector,this.onUp)},r=function(e,n){var a,o,s,r;for(a=0,o=i.length,s=e.originalEvent.changedTouches[0],(r=t.Event("tap",e)).type="tap",r.data=n;a<o;a++)r[i[a]]=s[i[a]];return r},(l=(d=function(e,t){void 0!==e&&this.init(e,t)}).prototype=new(s=a=u)).constructor=d,c=s.prototype,l.init=function(e,t){return this.touchStartCount=0,c.init.call(this,e,t)},l.enable=function(){return this.$target.on("touchstart"+this.namespace,this.selector,this.onDown),this},l.disable=function(){return this.$target.off("touchstart"+this.namespace,this.selector,this.onDown),this},l.reset=function(){return this.touchStartCount=0,c.reset.call(this)},l.getCoordinates=function(e){return[e.originalEvent.touches[0].clientX,e.originalEvent.touches[0].clientY]},l._onDown=function(e){this.touchStartCount=e.originalEvent.touches.length,this.isTracking||(this.isTracking=!0,this.startX=e.originalEvent.touches[0].clientX,this.startY=e.originalEvent.touches[0].clientY,this.$target.on("touchmove"+this.namespace,this.selector,this.onMove).on("touchend"+this.namespace,this.selector,this.onUp).on("touchcancel"+this.namespace,this.selector,this.onCancel))},l._onUp=function(e){!this.touchStartCount||0<e.originalEvent.touches.length||1<this.touchStartCount||(e.originalEvent.triggeredTap||(e.originalEvent.triggeredTap=!0,this.$target.trigger(r(e,this.data))),this.onCancel())},l._onCancel=function(e){this.reset(),this.$target.off("touchmove"+this.namespace,this.selector,this.onMove).off("touchend"+this.namespace,this.selector,this.onUp).off("touchcancel"+this.namespace,this.selector,this.onCancel)},o=d,t.event.special.tap={add:function(e){var n=t.support.touch?o:a;e.tap=new n(t(this),e)},remove:function(e){e.tap&&e.tap.destroy&&e.tap.destroy()}}}(document,jQuery)},869:function(e,t,n){!function(e,t,n){function i(t,n,i,a){if("d"!=i&&r(t)){var o=g.exec(n),d="string"==typeof(d="auto"===t.css(i)?0:t.css(i))?s(d):d;"string"==typeof n&&s(n),a=!0===a?0:d;var l=t.is(":hidden"),c=t.translation();return"left"==i&&(a=parseInt(d,10)+c.x),"right"==i&&(a=parseInt(d,10)+c.x),"top"==i&&(a=parseInt(d,10)+c.y),"bottom"==i&&(a=parseInt(d,10)+c.y),o||"show"!=n?o||"hide"!=n||(a=0):(a=1,l&&(elem=t[0],elem.style&&(display=elem.style.display,e._data(elem,"olddisplay")||"none"!==display||(display=elem.style.display=""),""===display&&"none"===e.css(elem,"display")&&e._data(elem,"olddisplay",function(e){var t={LI:"list-item",TR:"table-row",TD:"table-cell",TH:"table-cell",CAPTION:"table-caption",COL:"table-column",COLGROUP:"table-column-group",TFOOT:"table-footer-group",THEAD:"table-header-group",TBODY:"table-row-group"};return"string"==typeof t[e=e.toUpperCase()]?t[e]:"block"}(elem.tagName)),""===display||"none"===display)&&(elem.style.display=e._data(elem,"olddisplay")||""),t.css("opacity",0))),o?(t=parseFloat(o[2]),o[1]&&(t=("-="===o[1]?-1:1)*t+parseInt(a,10)),o[3]&&"px"!=o[3]&&(t+=o[3]),t):a}}function a(t,n,i,a,r,d,l,p){var g=(g=t.data(m))&&!o(g)?g:e.extend(!0,{},f),h=r;if(-1<e.inArray(n,c)){var v=g.meta,_=s(t.css(n))||0,b=n+"_o";h=r-_,v[n]=h,v[b]="auto"==t.css(n)?0+h:_+h||0,g.meta=v,l&&0===h&&(h=0-v[b],v[n]=h,v[b]=0)}return t.data(m,function(e,t,n,i,a,o,s,r,d){var l=!1;s=!0===s&&!0===r,(t=t||{}).original||(t.original={},l=!0),t.properties=t.properties||{},t.secondary=t.secondary||{},r=t.meta;for(var c=t.original,p=t.properties,g=t.secondary,h=u.length-1;0<=h;h--){var f=u[h]+"transition-property",m=u[h]+"transition-duration",v=u[h]+"transition-timing-function";n=s?u[h]+"transform":n,l&&(c[f]=e.css(f)||"",c[m]=e.css(m)||"",c[v]=e.css(v)||"");var _,b=g,y=n;if(s){_=r.left;var E=r.top;_=!0===d||!0===C&&!1!==d&&w?"translate3d("+_+"px, "+E+"px, 0)":"translate("+_+"px,"+E+"px)"}else _=o;b[y]=_,p[f]=(p[f]?p[f]+",":"")+n,p[m]=(p[m]?p[m]+",":"")+i+"ms",p[v]=(p[v]?p[v]+",":"")+a}return t}(t,g,n,i,a,h,d,l,p))}function o(e){for(var t in e)return!1;return!0}function s(e){return parseFloat(e.replace(e.match(/\D+$/),""))}function r(e){var t=!0;return e.each(function(e,n){return t=t&&n.ownerDocument}),t}function d(t,n,i){if(!r(i))return!1;var a=-1<e.inArray(t,l);return"width"!=t&&"height"!=t&&"opacity"!=t||parseFloat(n)!==parseFloat(i.css(t))||(a=!1),a}var l="top right bottom left opacity height width".split(" "),c=["top","right","bottom","left"],u=["-webkit-","-moz-","-o-",""],p=["avoidTransforms","useTranslate3d","leaveTransforms"],g=/^([+-]=)?([\d+-.]+)(.*)$/,h=/([A-Z])/g,f={secondary:{},meta:{top:0,right:0,bottom:0,left:0}},m="jQe",v=null,_=!1,b=(document.body||document.documentElement).style,y=void 0!==b.WebkitTransition||void 0!==b.MozTransition||void 0!==b.OTransition||void 0!==b.transition,w="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,C=w;e.expr&&e.expr.filters&&(v=e.expr.filters.animated,e.expr.filters.animated=function(t){return!(!e(t).data("events")||!e(t).data("events")["webkitTransitionEnd oTransitionEnd transitionend"])||v.call(this,t)}),e.extend({toggle3DByDefault:function(){return C=!C},toggleDisabledByDefault:function(){return _=!_},setDisabledByDefault:function(e){return _=e}}),e.fn.translation=function(){if(!this[0])return null;var e=window.getComputedStyle(this[0],null),t={x:0,y:0};if(e)for(var n=u.length-1;0<=n;n--){var i=e.getPropertyValue(u[n]+"transform");if(i&&/matrix/i.test(i)){e=i.replace(/^matrix\(/i,"").split(/, |\)$/g),t={x:parseInt(e[4],10),y:parseInt(e[5],10)};break}}return t},e.fn.animate=function(n,s,r,l){var g=!(void 0!==(n=n||{}).bottom||void 0!==n.right),h=e.speed(s,r,l),f=0,v=function(){0==--f&&"function"==typeof h.complete&&h.complete.apply(this,arguments)};return!0===(void 0!==n.avoidCSSTransitions?n.avoidCSSTransitions:_)||!y||o(n)||function(e){for(var t in e)if(!("width"!=t&&"height"!=t||"show"!=e[t]&&"hide"!=e[t]&&"toggle"!=e[t]))return!0;return!1}(n)||h.duration<=0||h.step?t.apply(this,arguments):this[!0===h.queue?"queue":"each"](function(){var s,r=e(this),l=e.extend({},h),_=function(t){var i=r.data(m)||{original:{}},a={};if(2==t.eventPhase){if(!0!==n.leaveTransforms){for(t=u.length-1;0<=t;t--)a[u[t]+"transform"]="";if(g&&void 0!==i.meta){t=0;for(var o;o=c[t];++t)a[o]=i.meta[o+"_o"]+"px",e(this).css(o,a[o])}}r.unbind("webkitTransitionEnd oTransitionEnd transitionend").css(i.original).css(a).data(m,null),"hide"===n.opacity&&(elem=r[0],elem.style&&(display=e.css(elem,"display"),"none"===display||e._data(elem,"olddisplay")||e._data(elem,"olddisplay",display),elem.style.display="none"),r.css("opacity","")),v.call(this)}},b={},y=(y={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)"})[l.easing||"swing"]?y[l.easing||"swing"]:l.easing||"swing";for(s in n)if(-1===e.inArray(s,p)){var w=-1<e.inArray(s,c),C=i(r,n[s],s,w&&!0!==n.avoidTransforms);d(s,C,r)?a(r,s,l.duration,y,C,w&&!0!==n.avoidTransforms,g,n.useTranslate3d):b[s]=n[s]}if(r.unbind("webkitTransitionEnd oTransitionEnd transitionend"),!(s=r.data(m))||o(s)||o(s.secondary))l.queue=!1;else{f++,r.css(s.properties);var E=s.secondary;setTimeout(function(){r.bind("webkitTransitionEnd oTransitionEnd transitionend",_).css(E)})}return o(b)||(f++,t.apply(r,[b,{duration:l.duration,easing:e.easing[l.easing]?l.easing:e.easing.swing?"swing":"linear",complete:v,queue:l.queue}])),!0})},e.fn.animate.defaults={},e.fn.stop=function(t,i,a){return y?(t&&this.queue([]),this.each(function(){var s=e(this),r=s.data(m);if(r&&!o(r)){var d,l={};if(i){if(l=r.secondary,!a&&void 0!==typeof r.meta.left_o||void 0!==typeof r.meta.top_o)for(l.left=void 0!==typeof r.meta.left_o?r.meta.left_o:"auto",l.top=void 0!==typeof r.meta.top_o?r.meta.top_o:"auto",d=u.length-1;0<=d;d--)l[u[d]+"transform"]=""}else if(!o(r.secondary)){var c=window.getComputedStyle(s[0],null);if(c)for(var p in r.secondary)if(r.secondary.hasOwnProperty(p)&&(l[p=p.replace(h,"-$1").toLowerCase()]=c.getPropertyValue(p),!a&&/matrix/i.test(l[p])))for(d=l[p].replace(/^matrix\(/i,"").split(/, |\)$/g),l.left=parseFloat(d[4])+parseFloat(s.css("left"))+"px"||!1,l.top=parseFloat(d[5])+parseFloat(s.css("top"))+"px"||!1,d=u.length-1;0<=d;d--)l[u[d]+"transform"]=""}s.unbind("webkitTransitionEnd oTransitionEnd transitionend"),s.css(r.original).css(l).data(m,null)}else n.apply(s,[t,i])}),this):n.apply(this,[t,i])}}(jQuery,jQuery.fn.animate,jQuery.fn.stop)},870:function(e,t){!function(e,t){"use strict";e.fn.animate=function(e,n,i,a){var o=$.Deferred(),s=Array.prototype.slice.call(arguments);s[s.length-1]=function(){a&&o.then(_.bind(a,this,s)),o.resolve()};var r=t.apply(this,s);return r.promise=o.promise,r}}(jQuery,jQuery.fn.animate)},871:function(e,t,n){"use strict";Odigeo.UIElements={},_.extend(Odigeo.UIElements,{enhanceView:function(e){var t=function(e){var t=!1;_.each(Odigeo.UIElements.enhanced,function(e,n,i){i[n]===this&&(t=!0)}),t||"true"===$(this).attr("data-skip-enhance")||(Odigeo.UIElements.enhanced.push(this),Odigeo.UIElements[e.enhanceMethod](this))};if(e instanceof $){if(0===e.length)return}else if(!((e=$(e))instanceof $))return;_.each(Odigeo.UIElements.enhancementList,function(n,i,a){e.not("[data-skip-enhance=true]").is(n.selector)?e.each(function(){_.bind(t,this)(n,a)}):e.find(n.selector).not("[data-skip-enhance=true]").each(function(){_.bind(t,this)(n,a)})})},enhancementList:{scrollable:{selector:"[data-scrollable=true]",enhanceMethod:"enhanceScrollable"},range:{selector:"input[data-type=range]",enhanceMethod:"enhanceRange"}},enhanced:[]})},872:function(e,t,n){"use strict";Odigeo.UIElements.enhanceAdvertisementGpt=function(e,t,n,i){var a=function(e,t,n){var i=String(t);_.isUndefined(t)||_.isEmpty(i)?googletag.pubads().setTargeting(e,"0"):googletag.pubads().setTargeting(e,n?i.toLowerCase():i)};$.getScript("//www.googletagservices.com/tag/js/gpt.js",function(){var o=window.googletag;(window.googletag||o)&&Odigeo.SessionScope.gpt&&o.cmd.push(function(){var s,r,d,l,c,u,p,g,h,f,m,v,b,y,w,C,E,x,O,S,T,D,k,A,U,I,F=Odigeo.SessionScope.gpt.targetings;for(s in F)F.hasOwnProperty(s)&&a(s,F[s]);if(t){var P=Odigeo.History.getPageNameFromFragment();b=P,k=JSON.parse(Odigeo.Session.get("searchParameters")),A=1<Odigeo.SessionScope.gpt.page?"p"+Odigeo.SessionScope.gpt.page:" ",U=Odigeo.SessionScope.tmSettings.intentMedia,I=_.isObject(U)&&_.isObject(U.score)&&U.score.group,!_.isEmpty(k)&&k.searchSegments.length&&(x=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],y=k.searchSegments[0],w="multipleTrip"===k.type?k.searchSegments[1]:k.searchSegments[k.searchSegments.length-1],C=new Date(y.dateStr),E=new Date(w.dateStr),T=_.isUndefined(y.departure.iata)?0:y.departure.iata.toLowerCase(),D=_.isUndefined(y.destination.iata)?0:y.destination.iata.toLowerCase(),S=_.isUndefined(y.departure.cityCode)?T:y.departure.cityCode.toLowerCase(),O=_.isUndefined(y.destination.cityCode)?D:y.destination.cityCode.toLowerCase(),a("pos","wait",!0),a("dep",_.isUndefined(y.departure.iata)?S:y.departure.iata.toLowerCase(),!0),a("depcity",S,!0),a("depcountry",y.departure.countryCode,!0),a("arr",_.isUndefined(y.destination.iata)?O:y.destination.iata.toLowerCase(),!0),a("arrcity",O,!0),a("arrcountry",y.destination.countryCode,!0),a("depweek",x[C.getDay()]),a("depday",C.getDate()),a("depmonth",C.getMonth()+1),a("depyear",C.getYear()+1900),a("arrweek",x[E.getDay()],!0),a("arrday",E.getDate()),a("arrmonth",E.getMonth()+1),a("arryear",E.getYear()+1900),a("nadults",k.numAdults),a("nchildren",k.numChildren),a("ninfants",k.numInfants),a("page",A),"confirmation"!==b&&a("cabclass",k.cabinClass),I&&a("intent",I,!0)),"confirmation"===P&&(d=(r=$("#confirmation_targets")).data("cardType"),l=r.data("cabinClass"),c=r.data("pa"),u=r.data("deppa"),p=r.data("arrpa"),g=r.data("depyear"),h=r.data("arryear"),f=$("#transit"),m=Odigeo.SessionScope.tmSettings.intentMedia,v=_.isObject(m)&&_.isObject(m.score)&&m.score.group,_.isEmpty(l)||a("cabclass",l),_.isEmpty(d)||a("cardtype",d),_.isEmpty(c)?_.some([u,p,g,h],_.isEmpty)||(a("deppa",u),a("arrpa",p),a("depyear",new Date(g).getFullYear()),a("arryear",new Date(h).getFullYear())):a("pa",c),v&&a("intent",v,!0),f.children().each(function(){var e=$(this);a(e.attr("id"),e.data("value"))}))}n&&o.pubads().set("page_url",String(Odigeo.SessionScope.gpt.pageUrl)),i&&o.pubads().enableSingleRequest(),o.pubads().collapseEmptyDivs(),o.pubads().enableAsyncRendering(),o.enableServices(),e.each(function(){var e,t=$(this),n=t.data(),i=n.advProduct,a=n.advZone,s=n.advContPos,r=t.prop("id");_.isUndefined(Odigeo.SessionScope.gpt.slots[r])?(e=_.has(n,"advSize")?n.advSize:[[n.advWidth,n.advHeight]],Odigeo.SessionScope.gpt.slots[r]=o.defineSlot("/4121/"+Odigeo.SessionScope.gpt.domainConfig.siteId+"_sites/"+Odigeo.SessionScope.gpt.domainConfig.domain+"/"+i+"/"+a,e,r).setTargeting("ad_group",function(){var e=Math.random(),t="";switch(!0){case e<.09:t="ad_ex"+Math.floor(100*e);break;case e<.19:t="ad_bc";break;default:t="ad_opt"}return t}()).addService(o.pubads()).setTargeting("pos",s),o.display(r)):o.pubads().refresh([Odigeo.SessionScope.gpt.slots[r]])})})})},Odigeo.UIElements.enhanceAdvertisementGptNonJS=function(e){var t,n,i,a,o,s,r,d,l,c,u,p,g,h,f,m=e instanceof $?e:$(e),v={},b=location.protocol+"//pubads.g.doubleclick.net/gampad/jump?",y=location.protocol+"//pubads.g.doubleclick.net/gampad/ad?",w=JSON.parse(Odigeo.Session.get("searchParameters")),C=function(e){return _.isUndefined(e)||_.isNull(e)};_.isUndefined(Odigeo.SessionScope.gpt)||(g=t=m.data(),h=Odigeo.SessionScope.gpt.domainConfig,f=_.isUndefined(g.advProduct)?"":"/"+g.advProduct,n="iu=/4121/"+h.siteId+"_sites/"+h.domain+f+"/"+g.advZone+"&",!_.isEmpty(w)&&w.searchSegments.length&&(p=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],a=(i=w).searchSegments[0],o="multipleTrip"===i.type?i.searchSegments[1]:i.searchSegments[i.searchSegments.length-1],s=new Date(a.dateStr),r=new Date(o.dateStr),l=C(a.departure.iata)?a.departure.city:a.departure.iata,d=C(a.destination.iata)?a.destination.city:a.destination.iata,c=C(a.departure.cityCode)?l:a.departure.cityCode,u=C(a.destination.cityCode)?d:a.destination.cityCode,v={pos:t.advContPos,dep:C(l)?0:l.toLowerCase(),depcity:C(c)?0:c.toLowerCase(),depcountry:C(a.departure.countryCode)?0:a.departure.countryCode,arr:C(d)?0:d.toLowerCase(),arrcity:C(u)?0:u.toLowerCase(),arrcountry:C(a.destination.countryCode)?0:a.destination.countryCode,depweek:C(p[s.getDay()])?0:p[s.getDay()],depday:C(s.getDate())?0:s.getDate(),depmonth:C(s.getMonth())?0:s.getMonth()+1,depyear:C(s.getYear())?0:s.getYear()+1900,arrweek:C(p[r.getDay()])?0:p[r.getDay()],arrday:C(r.getDate())?0:r.getDate(),arrmonth:C(r.getMonth())?0:r.getMonth()+1,arryear:C(r.getYear())?0:r.getYear()+1900,nadults:C(i.numAdults)?0:i.numAdults,nchildren:C(i.numChildren)?0:i.numChildren,ninfants:C(i.numInfants)?0:i.numInfants,pa:0,palist:0,triptype:0}),function(e,t,n,i,a,o){var s,r={sz:t.advSize,c:(new Date).getTime(),tile:1,t:n,pos:t.advContPos},d=$("<img>",{src:i+a+$.param(r),border:0,alt:"",width:t.advWidth,height:t.advHeight});!1===t.clickable?e.empty().append(d):((s=$("<div>",{"data-url":o+a+$.param(r)})).append(d),e.empty().append(Odigeo.UIElements.enhanceLinkOpenNewTabBackground(s)))}(m,t,v,y,n,b))},Odigeo.UIElements.enhanceAdvertisementAdSense=function(e,t){var n,i,a,o,s,r,d,l,c,u,p,g=[],h=e instanceof $?e:$(e);if(_.reduce(h,function(e,t){var n="true"===$(t).attr("data-skip-enhance");return n&&h.splice(_.indexOf(h,t),1),e&&n},!0,this))return h;h.attr({"data-skip-enhance":!0}),d=window,l=document,d[c="_googCsa"]=d[c]||function(){(d[c].q=d[c].q||[]).push(arguments)},d[c].t=(new Date).getTime(),u=l.createElement("script"),p=l.getElementsByTagName("script")[0],u.async=1,u.src="//www.google.com/adsense/search/async-ads.js",p.parentNode.insertBefore(u,p),(window._googCsa||_googCsa)&&Odigeo.SessionScope.ads&&(Odigeo.trigger("adsense:available"),n=JSON.parse(Odigeo.Session.get("searchParameters")),s=_.isEmpty(t)?(i=Odigeo.SessionScope.ads.pageOptions.query,a=String(Odigeo.SessionScope.ads.pageOptions.channel),String(Odigeo.SessionScope.ads.pageOptions.query)):(i=Odigeo.SessionScope.ads.types["dp-"+t].query,a=String(Odigeo.SessionScope.ads.types["dp-"+t].channel),String(Odigeo.SessionScope.ads.types["dp-"+t].query)),o=!_.isEmpty(n)&&n.searchSegments.length?i+("hotels"===t?"":" "+n.searchSegments[0].departure.city)+" "+n.searchSegments[0].destination.city:i,r={pubId:String(Odigeo.SessionScope.ads.pageOptions.pubId),query:String(o),queryContext:String(s),linkTarget:"_blank",titleBold:Odigeo.SessionScope.ads.pageOptions.titleBold,rolloverLinkUnderline:Odigeo.SessionScope.ads.pageOptions.rolloverLinkUnderline,rolloverLinkColor:String(Odigeo.SessionScope.ads.pageOptions.rolloverLinkColor),hl:String(Odigeo.SessionScope.ads.pageOptions.hl),adLayout:"sellerFirst",channel:String(a)},g.push("ads"),g.push(r),h.each(function(){var e=$(this);if(0!==e.length){var t=e.data("advNumber"),n=e.data("advWidth")+"px",i=e.data("advLines"),a={container:e.prop("id"),number:t,width:n,lines:i,colorTitleLink:String(Odigeo.SessionScope.ads.style.colorTitleLink),colorDomainLink:String(Odigeo.SessionScope.ads.style.colorDomainLink),colorBorder:String(Odigeo.SessionScope.ads.style.colorBorder)};g.push(a)}}),_googCsa.apply(this,g))},Odigeo.UIElements.cmsTrackAdvertisement=function(e){var t,n,i,a=e.data("cmsTrack"),o=e.find(".cms_tracking_img_container"),s="dp flights".match($("body").attr("data-app"))[0]||"home";_.isEmpty(a)||_.isUndefined(Odigeo.SessionScope.gpt)||(n="/4121/"+Odigeo.SessionScope.gpt.domainConfig.siteId+"_sites/"+Odigeo.SessionScope.gpt.domainConfig.domain+"/Pixel/"+s,t=location.protocol+"//pubads.g.doubleclick.net/gampad/ad?",i={iu:n,sz:"1x1",t:$.param({pixel:a}),c:(new Date).getTime()},o.html($("<img>",{src:t+$.param(i)})))},Odigeo.UIElements.advertisementSpotlightConfirmation=function(e){var t=location.protocol+"//pubads.g.doubleclick.net/activity;xsp=435;",n="qty="+e.quantity+";",i="cost="+e.cost+";",a="ord="+e.orderId+"?";$("#confirmation").append($("<img>",{id:"spotlightConfirmationTracking",src:t+n+i+a,height:1,width:1,border:0}))}},873:function(e,t,n){"use strict";var i,a;i={input:".autocomplete_input",item:".autocomplete_item",resultsContainer:".autocomplete_results",closeButton:".autocomplete_close_btn",eventNamespace:".autocompleteEvent",launchEvent:"launch",selectedEvent:"selected",engineAutocompletedEvent:"autocompleted",engineClearEvent:"clear:filtered",focusEvent:"focus",openClass:"open",subTree:"related",minSubTree:2,enableBlur:!0,hasFocusLaunch:!0,tmpl:null,tmplZero:null,zeroMsg:null,zeroDesc:null},a=!!0,Odigeo.UIElements.Autocomplete=function(e,t,n){this.$container=e,this.engine=t,this.opts=_.defaults({},n,i),this.results=[],this.token="",this.resultsMap={index:0,relatedIndex:-1},this.bindEvents()},_.extend(Odigeo.UIElements.Autocomplete.prototype,{bindEvents:function(){this.listenTo(this.engine,this.opts.engineAutocompletedEvent,this.onAutocompleted),this.listenTo(this.engine,this.opts.engineClearEvent,_.partial(this.toggle,a)),this.bindViewEvents()},bindViewEvents:function(){this.listenTo(Odigeo.Events.fake,"fake:blur",this.onBlurInput),_.each(this.getViewEvents(),function(e){var t=(Odigeo.Events[e.name]||e.name)+this.opts.eventNamespace;_.isUndefined(e.selector)?this.$container.on(t,_.bind(this[e.handler],this)):this.$container.on(t,e.selector,_.bind(this[e.handler],this))},this)},getViewEvents:function(){return[{name:"tap",selector:this.opts.item,handler:"onTapItem"},{name:"tap",selector:this.opts.closeButton,handler:"onTapCloseButton"},{name:"focus",selector:this.opts.input,handler:"onFocusInput"},{name:"keyup",selector:this.opts.input,handler:"onKeyupInput"}]},render:function(){var e;return this.hasResults()?(e=this.opts.tmpl({activeIndex:this.resultsMap,results:this.results}),this.$container.removeClass("empty")):(e=this.opts.tmplZero({msg:this.opts.zeroMsg,desc:this.opts.zeroDesc,token:this.token}),this.$container.addClass("empty")),this.$container.find(this.opts.resultsContainer).html(e),this.toggle(!0),this.getOpenContainer().attr("data-search",this.token),this},toggle:function(e){return this.getOpenContainer().toggleClass(this.opts.openClass,e),this},isOpen:function(){return this.getOpenContainer().hasClass(this.opts.openClass)},getOpenContainer:function(){return this.opts.openContainerClass?this.$container.find(this.opts.openContainerClass):this.$container},hasResults:function(){return 0<this.results.length},getActiveMap:function(){return _.omit(this.resultsMap,function(e){return e<0})},selectItem:function(e){return this.hasResults()&&this.trigger(this.opts.selectedEvent,e),this.toggle(a),this},updateIndex:function(e){var t=e===Odigeo.Events.keys.KEY_UP,n=t?-1:1;return _.isObject(this.results[this.resultsMap.index][this.opts.subTree])?(this.resultsMap.relatedIndex+=n,this.checkRelatedIndexIntegrity(t,n)):(this.resultsMap.index+=n,this.checkIndexIntegrity(t)),this.render(),this},checkIndexIntegrity:function(e){var t;_.isUndefined(this.results[this.resultsMap.index])&&(this.resultsMap.index=this.resultsMap.index>=this.results.length?0:this.results.length-1),t=this.results[this.resultsMap.index][this.opts.subTree],e&&_.isObject(t)?this.resultsMap.relatedIndex=t.length-1:this.resultsMap.relatedIndex=-1},checkRelatedIndexIntegrity:function(e,t){var n=this.results[this.resultsMap.index][this.opts.subTree];-1!==this.resultsMap.relatedIndex&&_.isUndefined(n[this.resultsMap.relatedIndex])&&(this.resultsMap.index+=t,this.checkIndexIntegrity(e))},launch:function(e){this.trigger(this.opts.launchEvent,e)},getParsedResults:function(e){return _.reduce(e,function(e,t,n){var i=t[this.opts.subTree],a=_.omit(t,this.opts.subTree);return a.replaced=this.getReplacedResult(t),_.isObject(i)&&i.length>=this.opts.minSubTree&&(a[this.opts.subTree]=_.reduce(i,function(e,t,n){return e[n]=_.clone(t),e[n].replaced=this.getReplacedResult(t),e},[],this)),e[n]=a,e},[],this)},getReplacedResult:function(e){var t=new RegExp(Odigeo.Utils.replaceNonAlphaNumeric(this.token,".?",!0),"igm");return{text:Odigeo.Utils.replacer(e.text,t),country:Odigeo.Utils.replacer(e.country,t),city:Odigeo.Utils.replacer(e.city,t)}},onAutocompleted:function(e,t){this.resultsMap={index:0,relatedIndex:-1},this.token=t,this.results=this.getParsedResults(e),this.render()},onKeyupInput:function(e){switch(e.keyCode){case Odigeo.Events.keys.KEY_RETURN:case Odigeo.Events.keys.KEY_TAB:this.selectItem(this.getActiveMap());break;case Odigeo.Events.keys.KEY_DOWN:case Odigeo.Events.keys.KEY_UP:this.updateIndex(e.keyCode);break;default:this.launch($(e.currentTarget).val())}},onTapItem:function(e){e.preventDefault(),e.stopPropagation(),this.selectItem($(e.currentTarget).data())},onTapCloseButton:function(){this.selectItem(this.getActiveMap()),this.trigger("clickCloseButton")},onFocusInput:function(e){var t=$(e.currentTarget);t.select(),this.opts.hasFocusLaunch&&this.launch(t.val()),this.trigger(this.opts.focusEvent)},onBlurInput:function(e){this.opts.enableBlur&&!this.$container.get(0).contains(e.target)&&this.isOpen()&&this.selectItem(this.getActiveMap())},remove:function(){this.$container.off(this.opts.eventNamespace),this.stopListening()}},Backbone.Events)},874:function(e,t,n){"use strict";Odigeo.UIElements.enhanceAlert=function(e,t){var n,i,a=e instanceof $?e:$(e),o=_.extend({close:!0,visible:!1},t);if("true"===a.attr("data-skip-enhance"))return a;a.attr({"data-skip-enhance":!0}),i=$("<div>",{class:"od-alert-container"}),o.icon&&i.append($("<span>",{class:"od-alert-container-icon ficon"}).append(o.icon)),i.append($("<span>",{class:"od-alert-container-content"}).append(o.message)),o.close&&i.append($("<span>",{class:"od-alert-container-close alert_close ficon"}).append("r")),(n=$("<div>",{class:"od-alert od-alert-"+o.type+" alert_selector"})).append(i),a.append(n);var s=function(e,t){_.delay(function(){a.find(".alert_selector").addClass("show")},t||0)},r=function(){a.find(".alert_selector").removeClass("show")};return!0===o.visible?s():r(),a.off().on("showMessage",_.bind(s,this)).on("hideMessage",_.bind(r,this)).on("deleteMessage",_.bind(function(){a.removeAttr("data-skip-enhance").html("")},this)).on(Odigeo.Events.tap,".alert_close",_.bind(r,this)),a}},875:function(e,t,n){"use strict";Odigeo.UIElements.createButton=function(e){var t=$("<button>",{type:"button"}),n={};return t.html(e.text),_.each(e,function(e,t){"text"!==t&&"handler"!==t&&"style"!==t&&(n["data-"+t]=e)}),e.style&&t.addClass(e.style),_.isFunction(e.handler)&&t.on(Odigeo.Events.tap,e.handler),t.attr(n),t}},876:function(e,t,n){"use strict";Odigeo.UIElements.calendar=null,Odigeo.UIElements.getCalendar=function(e){if(Odigeo.UIElements.calendar)return Odigeo.UIElements.calendar;var t,n,i,a,o,s,r,d,l,c,u,p,g,h,f,m,v={},b={startDay:1,weekends:[0,6],numCals:2,dates:[],index:0,titleFormat:"mmmm yyyy",dayNames:Odigeo.Utils.formatDate.i18n.dayShortNames,countryHolidays:Odigeo.Utils.calendarHolidays.countryHolidays?Odigeo.Utils.calendarHolidays.countryHolidays:[],regionHolidays:Odigeo.Utils.calendarHolidays.regionHolidays?Odigeo.Utils.calendarHolidays.regionHolidays:[],closeText:"",otherDaysSelectable:!1,useMax:!1};return l=function(e,n,i,a){if(t.trigger("setAttributes.remove",{$day:e,attr:"data-uicalendar-segment data-uicalendar-type"}),n.getUTCMonth()!==i.getUTCMonth()){var o=n.getUTCMonth()-i.getUTCMonth()+12*(n.getUTCFullYear()-i.getUTCFullYear());-1===o?e.addClass("prev other"):1===o&&e.addClass("next other")}else Odigeo.Utils.equalDates(n,a)&&e.addClass("today")},r=function(e){var n,i,a,o,s,r,d,p,g,h,f,m=new Date,b=new Date(Date.UTC(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate())),y=parseInt(Odigeo.Utils.formatDate.i18n.startDay,10),w=Odigeo.Utils.formatDate.i18n.dayShortNames.length,C=u(b),E=v.useMax?_.find(_.slice(v.dates,v.index+1)):1/0,x="dual"===v.type,O=v.dates[v.index];for((g=new Date(e)).setUTCDate(1),(n=$("<div>",{class:"od-ui-calendar calendar","data-date":g.getTime()})).append($("<div>",{class:"od-ui-calendar-title",text:Odigeo.Utils.formatDate(e,v.titleFormat,!0)})),g.setUTCDate(g.getUTCDate()-(g.getUTCDay()+(w-y))%w),a=$("<div>",{class:"od-ui-calendar-month"}).appendTo(n),i=$("<div>",{class:"od-ui-calendar-header"}).appendTo(a),h=0;h<w;h++)o=$("<div>",{class:"od-ui-calendar-header-day"}),_.includes(v.weekends,(h+y)%w)&&o.addClass("weekend"),i.append(o.clone().text(v.dayNames[(h+y)%w]));for(s=$("<div>",{class:"od-ui-calendar-week"}),r=$("<div>",{class:"od-ui-calendar-day"}),p=function(n){for(h=0;h<w;h++){if(d=r.clone().text(g.getUTCDate()).attr("data-day",g.getUTCDate()).addClass("calendar_day").addClass("day_"+Odigeo.Utils.formatDate(g,Odigeo.Utils.formatDate.masks.isoDate)).appendTo(n),_.includes(v.weekends,g.getUTCDay())&&d.addClass("weekend"),!_.isEmpty(v.countryHolidays)||!_.isEmpty(v.regionHolidays)){var i=Odigeo.Utils.pad(g.getDate(),2)+"/"+Odigeo.Utils.pad(g.getMonth()+1,2)+"/"+(g.getYear()-100);0<=v.countryHolidays.indexOf(i)?d.append($("<div>",{class:"country-holidays all"})):0<=v.regionHolidays.indexOf(i)&&d.append($("<div>",{class:"country-holidays regions"}))}if(C&&(g<C||E<g))c(d,g,e);else if(l(d,g,e,b),Odigeo.Utils.equalDates(g,O))d.addClass("active").attr("data-range",x&&1===v.index?"end":"start");else if(x)if(2<v.dates.length&&(v.length=2),Odigeo.Utils.equalDates(g,v.dates[0]))d.addClass("active").attr("data-range","start");else if(!_.isNull(v.dates[1])&&Odigeo.Utils.equalDates(g,v.dates[1])){d.addClass("active").attr("data-range","end");var a={$day:d,date:g};t.trigger("setAttributes.addSegment",_.extend(a,{attr:"data-uicalendar-segment"})).trigger("setAttributes.addType",_.extend(a,{attr:"data-uicalendar-type"}))}else if(g>v.dates[0]&&g<v.dates[1]){var o=0<d.prev("[data-range]").addClass("adjacent").length;d.addClass("active"),d.toggleClass("adjacent",o)}g.setUTCDate(g.getUTCDate()+1)}},f=0;f<6&&(_.isUndefined(v.variableHeight)||5!==f||g.getUTCMonth()===e.getUTCMonth());f++)p(s.clone().appendTo(a));return Odigeo.trigger("Odigeo.ui.calendar:renderMonth",{$cal:n,options:v}),n},s=function(){t=$("<div>",{class:"od-ui-calendar-body"}),n=$("<div>",{class:"od-ui-calendar-container"}),i=$("<div>",{class:"arrow","data-direction":"previous"}),a=$("<div>",{class:"arrow","data-direction":"next"}),t.append($("<div>",{class:"od-ui-calendar-arrow calendar_arrow"}).append(i)).append(n).append($("<div>",{class:"od-ui-calendar-arrow calendar_arrow"}).append(a)),o()},o=function(){t.on(Odigeo.Events.tap,".calendar_arrow",d).on(Odigeo.Events.tap,".od-ui-calendar-day",p).on(Odigeo.Events.tap,".calendar_close",f).on(Odigeo.Events.mouseover,".od-ui-calendar-day",g).on(Odigeo.Events.mouseout,".calendar",h),Odigeo.Settings.getProperty("allowSwipeOnCalendars")&&"false"!==e&&t.on(Odigeo.Events.swipeLeft+" "+Odigeo.Events.swipeRight,d)},c=function(e,t,n){if(e.addClass("disabled"),t.getUTCMonth()!==n.getUTCMonth())e.addClass("other");else if(_.includes(["accommodation","separatestay"],v.calendarType)){var i=t.getTime(),a=v.relatedDates[0].getTime(),o=_.last(v.relatedDates).getTime();_.inRange(i,a,o+1)&&e.addClass("od-calendar-day-outlined")}},g=function(e){if(v.hover&&"dual"===v.type){var t,i,a,o=$(e.target),s=n.find(".od-ui-calendar-day");s.removeClass("hover"),0<v.index&&_.isDate(v.dates[v.index-1])&&(t=s.filter('[data-range="start"]').last(),a=s.index(o),i=s.index(t),s.filter(function(e){return i<e&&e<a}).addClass("hover"))}},h=function(e){$(e.target).hasClass("calendar")&&v.hover&&n.find(".od-ui-calendar-day").removeClass("hover")},m=function(e,t){v.permissible&&_.each(v.dates,function(n,i){i<=v.index||v.dates[i]&&v.dates[i]<t&&(v.dates[i]=null,e.push(i))})},p=function(e){var i,a,o,s,d=$(this),l=[];if(e.stopPropagation(),e.preventDefault(),!(d.hasClass("other")&&!v.otherDaysSelectable||d.hasClass("disabled"))){for(i=d.closest(".calendar"),a=new Date(parseInt(i.data("date"),10)),s=new Date(n.children(".calendar:first-child").data("date")),d.hasClass("next")?(a=new Date(a.setUTCMonth(a.getUTCMonth()+1)),s=new Date(s.setUTCMonth(s.getUTCMonth()+1))):d.hasClass("prev")&&(a=new Date(a.setUTCMonth(a.getUTCMonth()-1)),s=new Date(s.setUTCMonth(s.getUTCMonth()-1))),a.setUTCDate(d.data("day")),v.dates&&0<=v.dates[v.index]&&(v.dates[v.index]=a),m(l,a),n.empty(),o=0;o<v.numCals;o++)n.append(r(s)),s.setUTCMonth(s.getUTCMonth()+1);t.trigger("change",{selectedDate:a,dates:v.dates,index:v.index,modified:0<l.length?l:void 0})}},f=function(){t.trigger("close")},d=function(e){var t,o,s=n.children(),d=new Date,l=new Date(Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),1)),c=function(e){e()};e.stopPropagation(),e.type===Odigeo.Events.swipeLeft||"next"===$(this).children(".arrow").data("direction")?(o=new Date(s.last().data("date")))<new Date(Date.UTC(d.getUTCFullYear()+1,d.getUTCMonth(),1))&&((t=new Date(s.last().data("date"))).setUTCMonth(t.getUTCMonth()+1),c(function(){s.first().remove(),n.append(r(t)),a.toggleClass("disabled",l.getUTCMonth()===t.getUTCMonth()),i.removeClass("disabled")})):(o=new Date(s.first().data("date")),l<o&&((t=new Date(s.first().data("date"))).setUTCMonth(t.getUTCMonth()-1),c(function(){s.last().remove(),n.prepend(r(t)),i.toggleClass("disabled",l.getUTCMonth()===t.getUTCMonth()),a.removeClass("disabled")})))},u=function(e){return _.findLast(_.slice(v.dates,0,v.index),function(t){return!!t&&e<t})||e},s(),Odigeo.UIElements.calendar={$cal:t,show:function(e){var t,a,o,s,d,l;if(v=$.extend(v,b,e),a=new Date,o=new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())),0===v.index)t=_.isDate(v.dates[0])?new Date(v.dates[0]):new Date(o);else{for(s=v.index,d=null;null===(d=v.dates[--s])&&0<=s;);d?d&&(v.dates[v.index]?(t=new Date(v.dates[v.index])).getUTCMonth()===d.getUTCMonth()&&t.getUTCFullYear()===d.getUTCFullYear()||t.setUTCMonth(t.getUTCMonth()-v.numCals+1):t=new Date(Date.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()))):t=new Date(o)}if(t)for((l=new Date(o)).setUTCFullYear(o.getUTCFullYear()+1),t.getUTCMonth()===l.getUTCMonth()&&t.getUTCFullYear()===l.getUTCFullYear()&&(t.setUTCMonth(l.getUTCMonth()-v.numCals+1),t.getUTCMonth()===l.getUTCMonth()&&t.setUTCDate(0)),n.empty(),t.setUTCDate(1),i.toggleClass("disabled",o.getUTCMonth()===t.getUTCMonth()),s=0;s<v.numCals;s++)n.append(r(t)),t.setUTCMonth(t.getUTCMonth()+1)},skipMonth:function(){var e=n.children(),t=new Date,o=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),1)),s=new Date(e.last().data("date"));s.setUTCMonth(s.getUTCMonth()+1),e.first().remove(),n.append(r(s)),a.toggleClass("disabled",o.getUTCMonth()===s.getUTCMonth()),i.removeClass("disabled")}},Odigeo.UIElements.calendar}},877:function(e,t,n){"use strict";Odigeo.UIElements.enhanceCarousel=function(e,t){var n,i,a,o,s,r,d,l,c,u,p,g,h,f,m=e,v=0,b=function(){C.isRotationDisabled||(clearInterval(u),u=setInterval(function(){r(!1)},6e3))},y=function(){C.isRotationDisabled||clearInterval(u)},w={indicatorChar:"o",contentType:""},C=t||{};if(e&&(m instanceof $||(m=$(e)),"true"!==m.attr("data-skip-enhance")))return m.attr({"data-skip-enhance":!0}),w=_.extend(w,m.data()),n=m.find(".carousel_slides .carousel_slide"),i=m.find(".carousel_indicators"),n.each(function(){i.append($("<a>",{class:"od-ui-carousel-indicator carousel_goto",text:w.indicatorChar}))}),i=i.find(".carousel_goto"),a=n.length,C.isDraggable&&(f=C.draggableMixin.extend({onStart:function(){this.setInitialPosition()},onEnd:function(){this.currentPosition<this.initialPosition?r():this.currentPosition>this.initialPosition&&s()},onDrag:function(e){return this.currentPosition=this.calcultePosition(e.move),this},setInitialPosition:function(){return this.initialPosition=this.getPosition(),this},getPosition:function(){return this.getTranslateX()},calcultePosition:function(e){return this.initialPosition+e.x}})),o=function(e,t){if(!_.isNaN(e)){var o=m.find(".carousel_slides .carousel_slide.active");if(n.removeClass("active").eq(e).removeClass("not_loaded").addClass("active").find(".carousel_logo_img").attr("src",function(){return $(this).data("src")}),Odigeo.trigger("checkLazyImages"),Odigeo.UIElements.cmsTrackAdvertisement(n.eq(e)),i.eq(v).removeClass("active"),i.eq(e).addClass("active"),v=e,b(),t&&Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:Odigeo.History.getPageNameFromFragment(),action:"carousel",label:"next_"+w.contentType+"_displayed_"+(e+1)}}),C.hasImageCounter&&(m.find(".current_image_index").html(e+1),m.find(".total_images").html(a)),!_.isUndefined(f)){var s=$(n.eq(e));f.stopDraggable(s),0<_.size(o)&&f.stopDraggable(n.eq(o.data("index"))),f.initDraggable(s)}}},s=function(){return o(((v-1)%a+a)%a,!0)},r=function(e){return o((v+1)%a,e)},d=function(e){return Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:Odigeo.History.getPageNameFromFragment(),action:"carousel",label:"next_"+w.contentType+"_displayed_"+($(e.target).index()+1)}}),o($(e.target).index(),!0)},g=function(e){$(e.target).hasClass("carousel_slide_img")&&(C.isFullViewCarousel?(r(),y()):Odigeo.trigger("slideImageTapped",e))},p=function(e){$(e.target).hasClass("carousel_slide")&&C.isFullViewCarousel&&Odigeo.trigger("slideTapped",e)},h=function(e){C.isFullViewCarousel&&Odigeo.trigger("closeButtonClicked",e)},l=function(e){var t=$(e.target).data("url"),n=$(e.target).data("target"),i=$(e.target).data("pos");Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:Odigeo.History.getPageNameFromFragment(),action:"carousel",label:"select_"+w.contentType+"_"+i}}),_.isEmpty(t)||("_blank"===n?Odigeo.trigger("analytics:tracking",{type:"sendToPageBlank",data:{url:t}}):Odigeo.trigger("analytics:tracking",{type:"sendToPageSelf",data:{url:t}}))},c=function(){n.addClass("odf-hidden"),i.addClass("odf-hidden"),m.find(".ficon").addClass("odf-hidden"),y()},m.on(Odigeo.Events.tap,".carousel_prev",_.bind(s,this)).on(Odigeo.Events.tap,".carousel_next",_.bind(r,this,!0)).on(Odigeo.Events.tap,".carousel_goto",_.bind(d,this)).on(Odigeo.Events.tap,"button",_.bind(l,this)).on(Odigeo.Events.tap,".carousel_slide",_.bind(p,this)).on(Odigeo.Events.tap,".carousel_slide_img",_.bind(g,this)).on(Odigeo.Events.tap,".close_carousel_button",_.bind(h,this)).on(Odigeo.Events.mouseover,".carousel_text",y).on("pause",y).on(Odigeo.Events.mouseout,".carousel_text",b).on("start",b).on("hideSlides",c),w.startWithRandom?o(Math.floor(Math.random()*a),!1):o(0,!1),m}},878:function(e,t,n){"use strict";Odigeo.UIElements.collapsive={},Odigeo.UIElements.collapsive.enhance=function(e,t){var n,i,a,o,s,r,d=e instanceof $?e:$(e),l={expandProperty:"padding-top",expandPanelDuration:500,collapsePanelDuration:500,extraHeight:0,initiallyExpanded:!1,googleAnalyticsOnOpen:{type:"",data:{page:"",action:"",label:""}},googleAnalyticsOnClose:{type:"",data:{page:"",action:"",label:""}},googleAnalyticsOnOpenAutomatic:{type:" ",data:{page:"",action:"",label:""}},triggerLauncher:"collapsive-ui",triggerEvents:!1};if(0===d.length)return!1;if("true"===d.attr("data-skip-enhance"))return d;d.addClass("odf-hidden"),d.attr({"data-skip-enhance":!0}),l=_.extend(l,t),a=function(e,t,n){l.triggerEvents&&Odigeo.trigger(l.triggerLauncher+":"+t),""!==e.type&&_.isUndefined(n)&&Odigeo.trigger("analytics:tracking",e)},o=function(e,t){var a,o=!1;_.isObject(t)&&(o=!!t.isOpenedAutomatic,a=t.hasToTrack),o||!d.hasClass("expanded")?n(o,a):i()},s=function(e,t){t?n():i()},n=function(e,t){d.removeClass("odf-hidden hidden");var n=d.find(".collapsible_content").height(),i={},o=_.isObject(e)?!!e.isOpenedAutomatic:e;i[l.expandProperty]=n+l.extraHeight+"px",d.trigger("onExpand"),d.animate(i,{duration:l.expandPanelDuration}).promise().then(function(){var e=o?l.googleAnalyticsOnOpenAutomatic:l.googleAnalyticsOnOpen;a(e,"panelExpanded",t),d.addClass("expanded").trigger("expanded")})},i=function(){var e={};e[l.expandProperty]=0,d.removeClass("expanded").trigger("onCollapse"),d.animate(e,{duration:l.collapsePanelDuration}).promise().then(function(){a(l.googleAnalyticsOnClose,"panelCollapsed"),d.addClass("odf-hidden hidden").trigger("collapsed")})},r=function(){var e=d.find(".collapsible_content").height();d.css("padding-top",e+l.extraHeight+"px")};var c=$("<div>",{class:"od-collapsible-expandable"}).append($("<div>",{class:"od-collapsible-section"}).append($("<div>",{class:"od-collapsible-content collapsible_content"})));if(d.addClass("od-collapsible").wrapInner(c),d.on("collapsePanel",i).on("expandPanel",n).on("togglePanel",o).on("refresh",r).on("togglePanelByParameter",s),l.initiallyExpanded){d.removeClass("odf-hidden");var u=d.find(".collapsible_content").height();d.css("padding-top",u+l.extraHeight+"px").addClass("expanded")}return d}},879:function(e,t,n){"use strict";Odigeo.UIElements.enhanceCheckboxRadio=function(e){var t,n=$(e),i=n.attr("title"),a=n.data("description"),o="switch"===n.attr("data-role"),s=$("<div></div>"),r=s.clone(),d=r.clone(),l=$("<span></span>"),c=l.clone();if(e&&n instanceof $)return"true"===n.attr("data-skip-enhance")?n:(o?(n.replaceWith(s),n.hide().attr({"data-skip-enhance":!0}),s.addClass("od-ui-toggleButton-container toggle_container").append(r.addClass("od-ui-toggleButton-wrapper").append(d.addClass("od-ui-toggleButton"+(n.is(":checked")?" active":"")).append(l.clone().addClass("od-ui-toggleButton-thumb"))).append(n)).append(l.addClass("od-ui-toggleButton-label").text(i)),a&&l.append(c.addClass("od-ui-toggleButton-description").text(a)),t=function(e,t){"setDefault"!==e.type&&(_.isUndefined(t)?d.toggleClass("active"):d.toggleClass("active",t)),s.trigger("change",[d.hasClass("active")]),d.hasClass("active")?n.prop("checked",!0):n.removeAttr("checked")},s.on(Odigeo.Events.tap+" "+Odigeo.Events.swipe+" setValue setDefault",t)):s=n.on("setValue setDefault",function(e,t){e&&(e.stopPropagation(),e.preventDefault()),n.attr("checked",t||"checked"===t).trigger("change")}),s.on("disable",function(){n.attr("disabled","disabled")}).on("enable",function(){n.removeAttr("disabled")}),s)}},880:function(e,t,n){"use strict";!function(){function e(e,i,a,o,s){var r=Number(a.val()),d=0,l=13;r===e.getFullYear()?d=e.getMonth()+1:r===i.getFullYear()&&(l=i.getMonth()+1),n(o,d,l),t(e,i,a,o,s)}function t(e,t,i,a,o){var s=Number(i.val()),r=Number(a.val()),d=0,l=31;s===e.getFullYear()&&r<=e.getMonth()+1?d=e.getDate():s===t.getFullYear()&&r>=t.getMonth()+1&&(l=t.getDate()),n(o,d,l)}function n(e,t,n){var i=e.val();e.html(e.data("originalHTML")),e.find("option").each(function(e,i){var a=$(i),o=a.val();"-1"!==o&&(o<t||n<o)&&a.detach()}),e.val(i),e.val()!==i&&e.val(-1)}Odigeo.UIElements.enhanceDateWithSelects=function(e,t){var n,i,a,o,s,r=Number(t.yearLimit);if(e=e instanceof $?e:$(e),!_.isEmpty(e)&&"true"!==e.attr("data-skip-enhance")&&r&&_.includes(["datePickerWith3Selects","datePickerWith2Selects","datePickerWith2Inputs"],e.attr("data-role"))){if(e.checkInputValues=function(){return"datePickerWith3Selects"===e.attr("data-role")?{year:o.val(),month:a.val(),day:i.val()}:{year:o.val(),month:a.val()}},e.attr("data-skip-enhance",!0),e.addClass("hidden",!0),"datePickerWith3Selects"===e.attr("data-role")){var d="odf-input odf-select odf-mobile-input odf-mobile-select";for(i=$('<select class="'+(t.isMobile?d:"odf-select-xs")+' select_day birth_date_day"></select>').append($("<option></option>").attr({value:-1}).html(t.isMobile?Odigeo.UIElements.translations.datepicker.day:"-")),n=1;n<=31;n++)i.append($("<option></option>").attr({value:n<10?"0"+n:n}).html(n));for(a=$('<select class="'+(t.isMobile?d:"odf-select-m")+' select_month birth_date_month"></select>').append($("<option></option>").attr({value:-1}).html(t.isMobile?Odigeo.UIElements.translations.datepicker.month:"-")),_.each(Odigeo.Utils.months,function(e,t){a.append($("<option></option>").attr({value:t+1<10?"0"+(t+1):t+1}).html(e))}),o=$('<select class="'+(t.isMobile?d:"odf-select-s")+' select_year birth_date_year"></select>').append($("<option></option>").attr({value:-1}).html(t.isMobile?Odigeo.UIElements.translations.datepicker.year:"-")),s=(new Date).getFullYear(),o.append($("<option></option>").attr({value:s}).html(s));s!==r;)s<r?++s:--s,o.append($("<option></option>").attr({value:s}).html(s));var l={year:o,month:a,day:i};if(function(n){for(var i=$('<div class="odf-row odf-select-container od-datepicker-mobile"></div>'),a=e.data("format").split(","),o=a.length-1;0<=o;o--)n[a[o]]&&(t.isMobile?i.append(n[a[a.length-1-o]]):n[a[o]].insertAfter(e));t.isMobile&&i.insertBefore(e)}(l),t.isMobile){var c='<span class="odf-input-icon odf-icon odf-icon-arrow-down od-selector-arrow"></span>';o.wrap('<div class="odf-col odf-col-no-gutter"></div>'),a.wrap('<div class="odf-col odf-col-no-gutter"></div>'),i.wrap('<div class="odf-col odf-col-no-gutter"></div>'),$(c).insertAfter(o),$(c).insertAfter(i),$(c).insertAfter(a);var u=e.data("format").split(",");l[_.first(u)].parent().addClass("od-datepicker-right-padding"),l[_.last(u)].parent().addClass("od-datepicker-left-padding")}else o.wrap('<span class="odf-select-wrapper"></span>'),a.wrap('<span class="odf-select-wrapper od-datepicker-wrapper-margin"></span>'),i.wrap('<span class="odf-select-wrapper od-datepicker-wrapper-margin"></span>');i.add(a).add(o).on("change",function(){"-1"===o.val()||"-1"===a.val()||"-1"===i.val()?e.val(""):e.val(o.val()+"-"+a.val()+"-"+i.val())})}else if("datePickerWith2Selects"===e.attr("data-role")){for(a=$('<select class="odf-select-m select_month"></select>').append($("<option></option>").attr({value:-1}).html("-")),n=1;n<=12;n++)a.append($("<option></option>").attr({value:n<10?"0"+n:n}).html(n));for(o=$('<select class="odf-select-s select_year"></select>').append($("<option></option>").attr({value:-1}).html("-")),s=(new Date).getFullYear(),o.append($("<option></option>").attr({value:s}).html(s));s!==r;)s<r?++s:--s,o.append($("<option></option>").attr({value:s}).html(s));o.insertAfter(e),o.wrap('<span class="od-comboyear-input-wrapper"></span>'),$("<b class='od-comboyear-separator'>&#47;</b>").insertAfter(e),a.insertAfter(e),a.wrap('<span class="od-combomonth-input-wrapper"></span>'),a.add(o).on("change",function(){"-1"===o.val()||"-1"===a.val()?e.val(""):e.val(o.val()+"-"+a.val()+"-01")}),e.on("cleanCombos",function(){a.add(o).val("-1").trigger("change")})}else"datePickerWith2Inputs"===e.attr("data-role")&&(a=$('<input type="text" placeholder="mm" maxlength="2" />'),(o=$('<input type="text" placeholder="aa" maxlength="2" />')).insertAfter(e),o.wrap('<span class="od-comboyear-input-wrapper"></span>'),$("<b class='ob-comboyear-separator'>&#47;</b>").insertAfter(e),a.insertAfter(e),a.wrap('<span class="od-combomonth-input-wrapper"></span>'),a.add(o).on("change",function(){e.val("20"+o.val()+"-"+a.val())}));return _.isUndefined(i)||i.on("blur",function(){e.blur()}),_.isUndefined(a)||a.on("blur",function(){e.blur()}),_.isUndefined(o)||o.on("blur",function(){e.blur()}),e}},Odigeo.UIElements.enhanceDateWithSelects.setDate=function(e,t){if(e=e instanceof $?e:$(e),t=t.split("-"),!_.isEmpty(e)&&"true"===e.attr("data-skip-enhance")&&_.includes(["datePickerWith3Selects","datePickerWith2Selects","datePickerWith2Inputs"],e.attr("data-role"))){var n=Odigeo.AB.isNewDOBPicker&&"mobile"===Odigeo.SessionScope.flow&&"dateOfBirth"===e.attr("data-name");switch(e.attr("data-role")){case"datePickerWith3Selects":n?(e.siblings(".od-datepicker-mobile").find("select.birth_date_day").val(t[2]),e.siblings(".od-datepicker-mobile").find("select.birth_date_month").val(t[1]),e.siblings(".od-datepicker-mobile").find("select.birth_date_year").val(t[0])):(e.nextAll(".odf-select-wrapper").find(".select_day").val(t[2]),e.nextAll(".odf-select-wrapper").find(".select_month").val(t[1]),e.nextAll(".odf-select-wrapper").find(".select_year").val(t[0]));break;case"datePickerWith2Selects":e.nextAll(".od-combomonth-input-wrapper").find(".select_month").val(t[1]),e.nextAll("od-comboyear-input-wrapper").find(".select_year").val(t[0]);break;case"datePickerWith2Inputs":e.nextAll(".od-combomonth-input-wrapper").find("input").val(t[1]),e.nextAll(".od-comboyear-input-wrapper").find("input").val(t[0]);break;default:return}}},Odigeo.UIElements.enhanceDateWithSelects.setRange=function(n,i,a){var o,s,r,d,l,c=(n instanceof $?n:$(n)).parent();s=c.find(".select_year option"),_.forEach(s,function(e,t){"-1"!==(o=e.value)&&(o<a.getFullYear()||o>i.getFullYear())&&s.eq(t).detach()}),r=c.find(".select_year"),d=c.find(".select_month"),l=c.find(".select_day"),d.data("originalHTML",d.html()),l.data("originalHTML",l.html()),r.on("click.enhancedDateRange",_.bind(e,window,a,i,r,d,l)),d.on("click.enhancedDateRange",_.bind(t,window,a,i,r,d,l))}}()},881:function(e,t,n){"use strict";Odigeo.UIElements.enhanceDatepicker=function(e,t){var n,i,a,o,s,r,d,l,c,u,p,g,h,f,m,v,b,y,w,C,E,x,O,S,T,D,k,A,U,I,F,P,M,N,B,R,L,H,W,V=_.extend({},Odigeo.Events),Y="departureAmount",z="returnAmount";return"true"===e.attr("data-skip-enhance")?e:(e.getCalendar=_.once(Odigeo.UIElements.getCalendar),e.attr({"data-skip-enhance":!0}),n={disabled:!1,deactivated:!1,type:"single",numCals:2,closeDelay:300,animate:!1,dates:[null],closeButton:!1,specialToOpen:!1,closeText:"",especialOptions:null,inputClass:"od-ui-datepicker-field wl-bookingcom-input",inputTextClass:"od-ui-datepicker-display",rightButtonClass:"od-ui-datepicker-rightButton",leftButtonClass:"od-ui-datepicker-leftButton",wrapperClass:"od-ui-datepicker-wrapper",containerClass:"od-ui-datepicker-container datepicker",hasCountryHolidays:!_.isEmpty(Odigeo.Utils.calendarHolidays.countryHolidays),hasRegionHolidays:!_.isEmpty(Odigeo.Utils.calendarHolidays.regionHolidays),hasSquareLegend:Odigeo.AB.faresInCalendar===Odigeo.Utils.Partition.B,faresInCalendar:!1,hideFaresInCalendar:!1,hasFaresWithAmount:Odigeo.AB.faresInCalendar===Odigeo.Utils.Partition.D,hasFaresWithAmountMobile:Odigeo.AB.faresInCalendarMobile===Odigeo.Utils.Partition.D,hasFaresInCalendarLegend:!1,hasFaresInCalendarLegendWithAmount:!1,flexible:!1,swipe:"true",tabToggle:!1,skipHide:!1,enableBlur:!0},n=_.extend(n,Odigeo.parseOptions(e.data()),t),i=$("<div>",{class:n.containerClass}),_.has(n,"tabindex")&&i.attr("tabindex",n.tabindex),a=$("<div>",{class:"od-ui-calendar-wrapper"}),(n.closeButton||n.hasCountryHolidays||n.hasRegionHolidays||n.flexible||n.hasFaresInCalendarLegend||n.hasFaresInCalendarLegendWithAmount)&&(c=$("<div>",{class:"od-ui-datepicker-footer datepicker_footer"}),n.closeButton&&((u=$("<div>",{class:"od-footer-options-container"})).append($("<button>",{class:"od-ui-datepicker-close-button",text:n.closeButton})),c.append(u)),(n.hasCountryHolidays||n.hasRegionHolidays)&&n.hasFaresWithAmountMobile&&n.hasFaresInCalendarLegendWithAmount?(s=$("<div>",{class:"odf-box-content odf-box-content-sm"}),W=0===n.index?Y:z,r=$("<div>",{class:"odf-text-md odf-text-mono-color-03 odf-space-outer-bottom-m cheap_fares_legend odf-hidden",text:Odigeo.UIElements.translations.faresInCalendar[W]}),s.append(r),n.hasCountryHolidays&&(d=$("<div>",{class:"odf-text-xs odf-text-mono-color-02 odf-row-inline odf-row-nogutter odf-space-outer-bottom-xs"}).append([$("<div>",{class:"odf-calendar-legend odf-col odf-calendar-day-holiday od-fares-amount-legend-icon"}),$("<span>",{class:"odf-strong odf-text-xs odf-text-mono-color-02 odf-space-outer-left-xs",text:Odigeo.UIElements.translations.holidayLegends.country})]),s.append(d)),n.hasRegionHolidays&&(l=$("<div>",{class:"odf-text-xs odf-text-mono-color-02 odf-row-inline odf-row-nogutter odf-space-outer-bottom-xs"}).append([$("<div>",{class:"odf-calendar-legend odf-col odf-calendar-day-holiday-region od-fares-amount-legend-icon"}),$("<span>",{class:"odf-strong odf-text-xs odf-text-mono-color-02 odf-space-outer-left-xs",text:Odigeo.UIElements.translations.holidayLegends.region})]),s.append(l)),c.prepend(s)):(n.hasCountryHolidays||n.hasRegionHolidays||n.hasFaresInCalendarLegend)&&(s=$("<div>",{class:"od-ui-datepicker-holiday-legend-wrapper"}),o=$("<div>",{class:"od-ui-datepicker-legend-square"}),(n.hasSquareLegend||n.hasFaresWithAmount)&&s.addClass("od-ui-datepicker-legend-square-wrapper"),(n.hasFaresInCalendarLegend||n.hasFaresInCalendarLegendWithAmount)&&(n.hasFaresWithAmount?(W=0===n.index?Y:z,r=$("<div>",{class:"od-fares-amount-legend odf-text-md odf-text-mono-color-03 cheap_fares_legend odf-hidden",text:Odigeo.UIElements.translations.faresInCalendar[W]}),s.append(r)):(s.append($("<div>",{class:"od-ui-datepicker-fares-legend odf-strong odf-space-outer-bottom-xs od-fares-cheaper cheap_fares_legend odf-hidden",text:Odigeo.UIElements.translations.faresInCalendar.cheaper}).prepend(o.clone().append($("<span>",{class:"od-underscore-mark"})))),s.append($("<div>",{class:"od-ui-datepicker-fares-legend odf-strong odf-space-outer-bottom-xs od-fares-expensive expensive_fares_legend odf-hidden",text:Odigeo.UIElements.translations.faresInCalendar.expensive}).prepend(o.clone().append($("<span>",{class:"od-underscore-mark"})))))),n.hasCountryHolidays&&s.append($("<div>",{class:"odf-space-outer-bottom-xs od-ui-datepicker-holiday-legend legend-country",text:Odigeo.UIElements.translations.holidayLegends.country}).prepend(o.clone().append($("<span>",{class:"corner-mark"})))),n.hasRegionHolidays&&s.append($("<div>",{class:"od-ui-datepicker-holiday-legend legend-region",text:Odigeo.UIElements.translations.holidayLegends.region}).prepend(o.clone().append($("<span>",{class:"corner-mark"})))),c.prepend(s)),a.append(c)),(n.hasFaresInCalendarLegend||n.hasFaresInCalendarLegendWithAmount)&&a.addClass("od-fares-enabled"),g=$("<div>",{class:n.inputTextClass,text:n.placeholder}),_.isUndefined(n.title)||(h=$("<div>",{class:"od-ui-datepicker-display-title datepicker_title",text:n.title})),m=$("<span>",{class:"ficon"}),f=$("<div>",{class:n.rightButtonClass}).append(m),p=$("<div>",{class:n.inputClass+" placeholder"}).append($("<div>",{class:n.leftButtonClass}).append($("<span>",{class:"ficon",text:"z"}))).append(h).append(g).append(f),n.disabled&&i.addClass("disabled"),_.isUndefined(n.buttonIcon)||(i.addClass("hasButton"),m.text(n.buttonIcon)),e.replaceWith(i),i.append(n.skipHide?e.addClass("od-ui-datepicker-input"):e.hide()).append($("<div>",{class:n.wrapperClass}).append(p).append(a.removeClass("open").addClass("closed"))),_.isUndefined(n.errorIncomplete)||i.append($("<div>",{class:"od-ui-datepicker-error","data-error":"incomplete",text:n.errorIncomplete})),e.data(n),Odigeo.on("CalendarFaresManager:process",function(e){i.find(".cheap_fares_legend").toggleClass("odf-hidden",!e),i.find(".expensive_fares_legend").toggleClass("odf-hidden",!e)}),M=function(){w()},B=function(e,t){var n=e.format||Odigeo.Utils.masks.datepicker;return(e.dateTitleFocus||"")+Odigeo.Utils.formatDate(t,n,!0)},I=function(t,a,o){var s,r,d={},l=!1,c=null;t&&t.stopPropagation(),_.isNull(a)?(n.index in n.dates&&(n.dates[n.index]=null),s=n.placeholder,l=!0):(_.isDate(a)?(n.dates[n.index]=a,s=B(n,c=a)):_.isObject(a)?(n.dates=T(a.dates),n.index=a.index,r=a.modified,c=_.has(a,"selectedDate")?a.selectedDate:a.dates[a.index],_.isUndefined(c)?l=!0:(n.dates[n.index]=c,s=B(n,c))):(s=n.placeholder,l=!0),!_.isUndefined(n.dates)&&_.isDate(n.dates[n.index])&&e.data("dates",n.dates)),g.html(s),p.toggleClass("placeholder",l),o||(d.dates=n.dates,d.index=n.index,d.selectedDate=c,_.isUndefined(r)||(d.modified=r),i.hasClass("active")?_.delay(function(){e.trigger("blur"),e.trigger("change",d),i.removeAttr("data-error")},n.closeDelay,this):(e.trigger("change",d),i.removeAttr("data-error")),Odigeo.trigger("datepicker:field-action",{changeData:d}))},E=function(t,a){_.extend(n,e.data(),a),e.data(n),a.dates&&!a.dates[n.index]&&e.trigger("invalid"),a.type&&x(a.type),a.size&&O(a.size),_.isUndefined(a.button)||S(a.button),_.isUndefined(a.value)||I(t,a.value,a.silent),a.dates&&(n.dates[n.index]=a.dates[n.index]),a.refresh&&U(a.silent||i.hasClass("disabled")),a.placeholder&&U(!0)},C=function(e){e&&e.stopPropagation(),n.index in n.dates&&(n.dates[n.index]=null),g.html(n.placeholder),p.toggleClass("placeholder",!0)},U=function(e){I(null,n.dates[n.index],e)},S=function(e){_.isString(e)||_.isNumber(e)?(i.addClass("hasButton"),m.text(e)):(m.empty(),i.removeClass("hasButton"))},x=function(t){switch(e.data("type",t),t){case"single":O(1);break;case"dual":case"multiple":O(2)}},O=function(t){var i=e.data("type"),a=e.data("dates");switch(i){case"dual":if(2!==t)throw new Error("Cannot set size for a round trip to other than two");break;case"multiple":if(t<2)throw new Error("Cannot set size for a multi trip to less than two");break;default:if(t<=0)throw new Error("Cannot set a size to less than one")}for(a=a.slice(0,1);a.length<t;)a.push(null);n.dates=a,e.data("dates",a)},b=function(){Odigeo.trigger("datepicker:toggleDatepicker",e.data("key")),i.hasClass("active")&&!n.tabToggle?e.trigger("blur"):i.hasClass("disabled")||e.data("disabled")||e.data("deactivated")||e.triggerHandler("focus")},A=function(t){i.hasClass("disabled")||(n.specialToOpen||t.stopPropagation(),e.trigger("special"))},y=function(){var t=e.data("side"),o=e.getCalendar(n.swipe),s=e.data();s.dates=n.dates,s.faresInCalendar=n.faresInCalendar,o.show(s),i.addClass("active"),i.parent().addClass("active"),"left"===t?a.attr("data-side","left"):"right"===t?a.attr("data-side","right"):a.removeAttr("data-side"),n.closeButton||n.hasCountryHolidays||n.hasRegionHolidays||n.flexible||n.hasFaresInCalendarLegend||n.hasFaresInCalendarLegendWithAmount?(a.find(".datepicker_footer").before(o.$cal),a.removeClass("closed").addClass("open")):a.append(o.$cal).removeClass("closed").addClass("open"),o.$cal.off("change").on("change",_.bind(I,this)).off("close").on("close",_.bind(M,this));var r=a.offset().top+a.height();Odigeo.trigger("openPaneltoCalendar",r)},w=function(){a.removeClass("open").addClass("closed"),i.removeClass("active"),i.parent().removeClass("active"),Odigeo.trigger("closePaneltoCalendar")},D=function(){i.removeClass("disabled"),n.disabled=!1,e.data("disabled",!1)},k=function(){w(),i.addClass("disabled"),e.data("disabled",!0),n.disabled=!0},F=function(t){w(),n.activated=!t,e.data("deactivated",!t),i.off(Odigeo.Events.tap),t&&i.on(Odigeo.Events.tap,"."+n.inputClass.replace(" ","."),_.bind(b,this)).on(Odigeo.Events.tap,"."+n.rightButtonClass.replace(" ","."),_.bind(A,this)).on(Odigeo.Events.tap,".od-ui-datepicker-close-button",_.bind(w,this))},T=function(e){for(var t,n=1;n<e.length;n++)if(t=_.max(_.filter(e.slice(0,n),Number)),e[n]<t){e[n]=null;var i=$("#date_selection"+n);i.find(".date").text(i.data(2<e.length&&1===n?"placeholder2":"placeholder")).addClass("placeholder_date")}return e},P=function(e){_.each(e,function(e){var t=e.dom,n=e.injectionSelector;i.find(n)["prepend"===e.injectionPosition?"prepend":"append"](t),e.action&&$(e.action.selector).on(e.action.evt,function(){Odigeo.trigger(e.action.trigger)})})},N=function(e,t){$(e).toggleClass("odf-hidden",t)},R=function(e,t){i.attr("data-error",t)},L=function(){i.removeAttr("data-error")},v={addSpecialOption:function(e){_.bind(P,this,e)()},hideSpecialOption:function(e){_.bind(N,this,e,!0)()},showSpecialOption:function(e){_.bind(N,this,e,!1)()},clear:_.bind(C,this)},H=function(){e.getCalendar().skipMonth()},V.listenTo(Odigeo.Events.fake,"fake:blur",function(e){!n.enableBlur||i.get(0).contains(e.target)||i.parent().hasClass("calendar-tab")||w()}),e.on("open focus",_.bind(y,this)).on("close blur",_.bind(w,this)).on("enable",_.bind(D,this)).on("disable",_.bind(k,this)).on("activate",_.bind(F,this,!0)).on("deactivate",_.bind(F,this,!1)).on("config",_.bind(E,this)).on("refresh",_.bind(U,this)).on("clear",_.bind(C,this)).on("clearError",_.bind(L,this)).on("error",_.bind(R,this)).on("skipMonth",_.bind(H,this)),F(!n.deactivated),v)}},882:function(e,t,n){"use strict";Odigeo.UIElements.dialogs=[],Odigeo.UIElements.widgetsDialogs=[],Odigeo.UIElements.createDialog=function(e,t,n,i,a,o,s){var r,d,l,c,u=e;_.isObject(e)&&(u=e.headerText,t=e.content,n=e.buttons||[],i=e.dialogClasses,a=e.hasCloseButton,o=e.imageClass,r=e.closeOnTapOuterBox,d=e.closeOnNavigate,c=e.footerText,l=e.hiddenClose,s=e.dialogID);var p=(_.isArray(i)?i.join(" "):i||"")+" dialog-"+s,g=$("<div>").addClass("od-ui-dialog dialog "+p).append($("<div>").addClass("od-ui-dialog-content dialog_content")),h=function(e){return e.stopPropagation(),e.preventDefault(),Odigeo.UIElements.hideDialog(g),!1};this.dialogs.push(g);var f=_.isUndefined(o)?$("<div>").addClass("od-ui-dialog-box-content"):$("<div>").addClass("od-ui-dialog-box-content "+o);f[t instanceof $?"append":"html"](t);var m="dialog_close_hint_icon ficon ficon-close od-ui-dialog-hint-icon"+(l?"odf-hidden":"");g.find(".dialog_content").append($("<div>").addClass("od-ui-dialog-box ui_dialog_box").append(_.isUndefined(o)?"":$("<div>").addClass("od-ui-dialog-image-"+o).append($("<span>").addClass("ficon").append("F"))).append($("<div>").addClass("od-ui-dialog-box-header dialog_box_header").append($("<h3>").addClass("od-ui-dialog-box-title").html(u))).append(a?$("<div>").addClass(m).append($("<span>").addClass("od-ui-dialog-close-hint-icon").append("r")):"").append(f).append($("<div>").addClass("od-ui-dialog-box-footer dialog_footer"))),c&&g.find(".od-ui-dialog-box").append($("<div>").addClass("od-ui-dialog-box-post-footer dialog_post_footer").html(c));var v=g.find(".dialog_footer");g.find(".dialog_dial_up").on(Odigeo.Events.tap,function(){var e="tel:"+this.attributes["attr-tel"].value;window.open(e,"_self")}),a&&g.find(".dialog_close_hint_icon").on(Odigeo.Events.tap,h),r&&(g.find(".ui_dialog_box").on(Odigeo.Events.tap,function(e){return e.stopPropagation(),e.preventDefault(),!1}),g.on(Odigeo.Events.tap,h)),d&&g.on("dialog:closeOnNavigate",h);var b,y=n.length;return _.each(n,function(e){b=e instanceof $?e:Odigeo.UIElements.createButton(e),v.append($("<div>").addClass("od-ui-dialog-btn-"+y).append(b))}),s&&g.data("dialog-id",s),(Odigeo.UIElements.dialog=g).on(Odigeo.Events.touchmove,function(e){e.preventDefault(),e.stopPropagation()})},Odigeo.UIElements.showDialog=function(e,t){$(".od_page.active .focused *").blur(),$(".od_page.active select").each(function(){this.blur()}),"mobile"===Odigeo.SessionScope.flow?(_.delay(function(){$(":focus").blur()},300),_.delay(function(){Odigeo.Device.getViewport().append(e),e.data("detached",!1),t||$(window).scrollTop(0)},500)):(Odigeo.Device.getViewport().append(e),e.data("detached",!1)),Odigeo.trigger("dialogs:shown")},Odigeo.UIElements.toggleHideCloseButtonDialog=function(e,t){e.find(".dialog_close_hint_icon").toggleClass("odf-hidden",t)},Odigeo.UIElements.toggleCloseOutterClick=function(e,t){var n=function(e){return e.stopPropagation(),e.preventDefault(),!1},i=e.find(".ui_dialog_box");i.off(),e.off(),t&&(i.on(Odigeo.Events.tap,n),e.on(Odigeo.Events.tap,function(t){return n(t),Odigeo.UIElements.hideDialog(e),!1}))},Odigeo.UIElements.hideDialog=function(e){$("#page .logo").removeClass("hidden"),e.detach(),e.data("detached")||(Odigeo.trigger("dialogs:hidden",{dialogID:e.data("dialog-id")}),e.data("detached",!0))},Odigeo.UIElements.hideAllDialogs=function(){_.each(this.dialogs,this.hideDialog)},Odigeo.UIElements.toggleWidgetsDialogs=function(e,t){t?this.widgetsDialogs.push(e):this.widgetsDialogs=_.without(this.widgetsDialogs,e)},Odigeo.UIElements.enhanceConfirmationDialog=function(e,t,n){var i,a,o,s,r;return i=e instanceof $?e:$(e),a=function(){Odigeo.UIElements.showDialog(i),i.find(".dialog_close_hint_icon").on(Odigeo.Events.tap,o),i.find(".dialog_btn_save").on(Odigeo.Events.tap,s),i.find(".dialog_btn_discard").on(Odigeo.Events.tap,r)},s=function(){t(),o()},r=function(){n(),o()},{show:a,hide:o=function(){i.find(".dialog_close_hint_icon, .dialog_btn_save, .dialog_btn_discard").off(Odigeo.Events.tap),i.detach()}}},Odigeo.UIElements.show0Error=function(){var e=Odigeo.UIElements.translations.err0,t=Odigeo.History.getPageNameFromFragment(),n=this.createDialog({headerText:e.header,content:'<div class="od-ui-dialog-filter">'+e.content+"</div>",dialogClasses:"no-background dialog_error",buttons:[{text:e.button,style:"od-ui-dialog-button-default",handler:function(){Odigeo.UIElements.hideDialog(n),window.location.href=e.link,Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:t,action:"back_end_errors",label:"0_screen_button_error"}})}}]});Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:t,action:"back_end_errors",label:"0_screen_error"}}),this.hideAllDialogs(),this.showDialog(n)},Odigeo.UIElements.show404Error=function(){var e=Odigeo.UIElements.translations.err404,t=Odigeo.UIElements.createDialog({headerText:e.header,content:'<div class="od-ui-dialog-filter">'+e.content+"</div>",dialogClasses:"no-background dialog_error"});Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:Odigeo.History.getPageNameFromFragment(),action:"back_end_errors",label:"404_screen_error"}}),this.hideAllDialogs(),this.showDialog(t)},Odigeo.UIElements.show500Error=function(e){var t,n,i=Odigeo.UIElements.translations.err500;n=!_.isUndefined(e)&&e?Odigeo.UIElements.createDialog({headerText:"",content:'<div class="od-ui-dialog-image-err500"></div>',dialogClasses:"white-background aligned-top dialog_error",imageClass:"image-padding"}):(t={text:i.button,style:"od-ui-dialog-button-default",handler:function(){Odigeo.UIElements.hideDialog(n),window.location.href=i.link}},Odigeo.UIElements.createDialog({headerText:i.header,content:'<div class="od-ui-dialog-filter">'+i.content+"</div>",buttons:[t],dialogClasses:"no-background dialog_error"})),Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:Odigeo.History.getPageNameFromFragment(),action:"back_end_errors",label:"server_down_screen_error"}}),this.hideAllDialogs(),this.showDialog(n)},Odigeo.UIElements.showBookingAlreadyDone=function(e){var t,n;n=[{text:Odigeo.UIElements.translations.alreadyConfirmed.button,style:"od-ui-dialog-button-default",handler:function(){Odigeo.UIElements.hideDialog(t),Odigeo.Utils.goToApplicationHome(Odigeo.Utils.isRequestApp("dp"))}}],t=Odigeo.UIElements.createDialog("<b>"+Odigeo.UIElements.translations.alreadyConfirmed.title+"</b>",Odigeo.UIElements.translations.alreadyConfirmed.desc,n,"",!1,e),Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:Odigeo.History.getPageNameFromFragment(),action:"back_end_errors",label:"session_expiring_expired",optimize:!0}}),Odigeo.UIElements.showDialog(t)},Odigeo.UIElements.showSessionLoginExpirationError=function(){var e=Odigeo.History.getPageNameFromFragment(),t=Odigeo.Settings.getProperty("sessionLoginExpirePages");_.indexOf(t,e)<0||_.isNull(Odigeo.Utils.readCookie("sso_remember_me"))||Odigeo.Router.navigate("loginexpired")},Odigeo.UIElements.loadingMyTripsDialog=function(){return Odigeo.UIElements.loadingMyTripsDialogByTemplate()},Odigeo.UIElements.loadingMyTripsErrorDialog=function(){return Odigeo.UIElements.loadingMyTripsErrorDialogByTemplate()},Odigeo.UIElements.showSessionExpiredError=function(e,t){_.contains(Odigeo.Settings.getProperty("sessionExpirePages"),Odigeo.History.getPageNameFromFragment())&&(Odigeo.Utils.parseJson(Odigeo.Session.get("isAccommodationPostBooking"))?Odigeo.UIElements.showSessionExpiredErrorAccommodationPB():Odigeo.UIElements.showSessionExpiredErrorByTemplate())},Odigeo.UIElements.showSearchExpiredErrorAccommodationPB=function(){var e,t=Odigeo.UIElements.translations.errBrokenFlowAccommodationPostBooking.button,n=Odigeo.UIElements.translations.errSearchExpired,i=Odigeo.History.getPageNameFromFragment()||"flights",a=Odigeo.Settings.getProperty("searchExpirePages"),o=[{text:$("<p>",{class:"od-dialog-text-main",text:t}),style:"od-ui-dialog-button-default",handler:function(){Odigeo.UIElements.hideAllDialogs(),Odigeo.Utils.repeatAccommodationPBSearch()}}];_.indexOf(a,i)<0||(e=Odigeo.UIElements.createDialog({headerText:n.header,content:n.content,buttons:o,dialogClasses:"dialog_error"}),Odigeo.UIElements.hideAllDialogs(),Odigeo.UIElements.showDialog(e),Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:Odigeo.History.getPageNameFromFragment(),action:"back_end_errors",label:"session_expiring_expired",optimize:!0}}))},Odigeo.UIElements.showSearchExpiredError=function(){var e,t=Odigeo.UIElements.translations.errSearchExpired,n=Odigeo.History.getPageNameFromFragment()||"flights",i=Odigeo.Settings.getProperty("searchExpirePages"),a=[];_.indexOf(i,n)<0||(a[0]={text:$("<p>",{class:"od-dialog-text-main",text:t.buttons[0].title}).add(""===t.buttons[0].subtitle?"":$("<p>",{class:"od-dialog-text-normal",text:t.buttons[0].subtitle})),style:"od-ui-dialog-button-cancel",handler:function(){Odigeo.UIElements.hideAllDialogs(),Odigeo.Utils.goToApplicationHome(Odigeo.Utils.isRequestApp("dp"))}},a[1]={text:$("<p>",{class:"od-dialog-text-main",text:t.buttons[1].title}).add(""===t.buttons[0].subtitle?"":$("<p>",{class:"od-dialog-text-normal",text:t.buttons[1].subtitle})),style:"od-ui-dialog-button-default",handler:function(){Odigeo.UIElements.hideAllDialogs(),Odigeo.trigger("sessionExpireDialog:repeatSearch")}},e=Odigeo.UIElements.createDialog({headerText:t.header,content:t.content,buttons:a,dialogClasses:"dialog_error"}),Odigeo.UIElements.hideAllDialogs(),Odigeo.UIElements.showDialog(e),Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:Odigeo.History.getPageNameFromFragment(),action:"back_end_errors",label:"session_expiring_expired",optimize:!0}}))},Odigeo.UIElements.showSessionAboutToExpireAlert=function(e){_.isEmpty(this.dialogs)&&_.isEmpty(this.widgetsDialogs)&&_.isEmpty(Odigeo.UIElements.lightboxes)&&_.contains(Odigeo.Settings.getProperty("sessionAboutToExpirePages"),Odigeo.History.getPageNameFromFragment())&&Odigeo.UIElements.showSessionAboutToExpireAlertByTemplate(e)},Odigeo.UIElements.showValidationError=function(e){var t,n=Odigeo.UIElements.translations.alertValidationError,i=[],a=Odigeo.History.getPageNameFromFragment(),o=e[0<e.indexOf(a)?e.indexOf(a):0];i[0]={text:$("<p>",{class:"od-dialog-text-main",text:n.button}),style:"od-ui-dialog-button-default",handler:function(){Odigeo.UIElements.hideAllDialogs(),Odigeo.AB.sessionFreeze?Odigeo.Router.reload():Odigeo.Router.navigate(o)}},t=Odigeo.UIElements.createDialog({headerText:n.header,content:n.content,buttons:i,dialogClasses:"dialog_error"}),Odigeo.UIElements.hideAllDialogs(),Odigeo.UIElements.showDialog(t)},Odigeo.UIElements.buildAccommodationPBBrokenFlowErrorPopUp=function(e){var t=Odigeo.UIElements.translations.errBrokenFlowAccommodationPostBooking,n=Odigeo.History.getPageNameFromFragment(),i=[{text:$("<p>",{class:"od-dialog-text-main",text:t.button}),style:"od-ui-dialog-button-default",handler:function(){Odigeo.UIElements.hideAllDialogs(),Odigeo.UIElements.enhanceLoading($(".waiting_page")).hideLoading(),Odigeo.Session.set("comesFromError",!0),"detailsloading"===Odigeo.History.getPageNameFromFragment()?Odigeo.Router.navigate("xsellproductselection"):Odigeo.Utils.repeatAccommodationPBSearch()}}];return Odigeo.UIElements.createDialog({headerText:t.header,content:t.content,buttons:i,dialogClasses:"dialog_error od-dialog-"+n,imageClass:e})},Odigeo.UIElements.buildBrokenFlowErrorPopup=function(e,t){var n=Odigeo.UIElements.translations.errBrokenFlow,i=Odigeo.History.getPageNameFromFragment(),a=[],o=Odigeo.Utils.isRequestApp("dp");return a[0]={text:$("<p>",{class:"od-dialog-text-main",text:n.buttons[0].title}).add(""===n.buttons[0].subtitle?"":$("<p>",{class:"od-dialog-text-normal",text:n.buttons[0].subtitle})),style:"od-ui-dialog-button-cancel",handler:function(){Odigeo.UIElements.hideAllDialogs(),Odigeo.Utils.goToApplicationHome(o)}},a[1]={text:$("<p>",{class:"od-dialog-text-main",text:n.buttons[1].title}).add(""===n.buttons[0].subtitle?"":$("<p>",{class:"od-dialog-text-normal",text:n.buttons[1].subtitle})),style:"od-ui-dialog-button-default",handler:function(){Odigeo.trigger("sessionExpireDialog:repeatSearch",Odigeo.History.getPageNameFromFragment())}},!_.isUndefined(t)&&t&&(a=a.reverse()),Odigeo.UIElements.createDialog({headerText:n.header,content:n.content,buttons:a,dialogClasses:"dialog_error od-dialog-"+i,imageClass:e})},Odigeo.UIElements.showBrokenFlowError=function(e,t){var n;n=Odigeo.Utils.parseJson(Odigeo.Session.get("isAccommodationPostBooking"))?this.buildAccommodationPBBrokenFlowErrorPopUp(e):this.buildBrokenFlowErrorPopup(e,t),Odigeo.UIElements.hideAllDialogs(),Odigeo.UIElements.showDialog(n)},Odigeo.UIElements.showCallUsDialog=function(){var e,t,n,i=Odigeo.UIElements.translations.callUsDialog,a=[];a[0]={text:$("<a>",{class:"od-ui-dialog-button-call-us-link",text:i.content.tel_text,href:"tel:"+i.button}),style:"od-ui-dialog-button-call-us"},n=-1!==i.content.hours.search("li")?$("<ul>",{class:"od-ui-dialog-button-call-us-hours"}).append(i.content.hours):$("<div>",{class:"od-ui-dialog-button-call-us-hours"}).append(i.content.hours),t=$("<div>",{class:"od-ui-dialog-button-call-us-wrapper",text:i.content.hours_title}).append(n).append($("<div>",{class:"od-ui-dialog-button-call-us-cost",text:i.content.price})),e=Odigeo.UIElements.createDialog(i.header,t,a,"",!0),Odigeo.UIElements.hideAllDialogs(),Odigeo.UIElements.showDialog(e)},Odigeo.UIElements.showAgeValidationError=function(e){var t,n,i=Odigeo.UIElements.translations.ageValidationError,a=[];t="baby"===e?i.content_baby:i.content_kid,a[0]={text:$("<p>",{class:"od-dialog-text-main",text:i.button}),style:"od-ui-dialog-button-default",handler:function(){Odigeo.trigger("sessionExpireDialog:repeatSearch")}},n=Odigeo.UIElements.createDialog({headerText:i.header,content:t,buttons:a,dialogClasses:"dialog_error",hasCloseButton:!0}),Odigeo.UIElements.hideAllDialogs(),Odigeo.UIElements.showDialog(n)},Odigeo.UIElements._getCategoryAnalytics=function(e){var t="home";switch(e){case"results":t="flights_results";break;case"details":t="flights_pax_page";break;case"payment":t="flights_pay_page";break;case"confirmation":t="flights_confirmation_page"}return t},Odigeo.UIElements.showNoResultsPopup=function(e){var t={text:$("<p>",{class:"od-dialog-text-main",text:e.resetBtn}),style:"od-ui-dialog-button-default",handler:function(){Odigeo.UIElements.hideDialog(n),Odigeo.trigger("dialog:launchNoResults"),Odigeo.Router.navigate("home",{replace:!0})}},n=Odigeo.UIElements.createDialog({headerText:e.labelops,content:'<div class="od-ui-dialog-filter">'+e.labelnoresults+"</div>",buttons:[t],dialogClasses:"dialog_error",imageClass:"alert"});Odigeo.UIElements.showDialog(n)},Odigeo.UIElements.showLightboxWarning=function(e,t,n,i){var a,o,s=[],r=!_.isFunction(n),d=$("<div>").addClass(e),l=$("<p>",{text:i.headerTitle,class:"odf-h2 odf-text-center odf-strong od-ui-dialog-lightbox-header"}),c=$("<p>",{html:i.description,class:"odf-text-md odf-text-center odf-text-light od-ui-dialog-lightbox-description"});o=$("<div>").append(d).append(l).append(c),s.push({text:$("<p>",{text:i.primaryButton}),style:"odf-btn odf-btn-primary odf-btn-block",handler:function(e){e.stopPropagation(),e.preventDefault(),Odigeo.UIElements.hideDialog(a),_.isFunction(t)&&t()}}),r||s.push({text:$("<a>",{text:i.secondaryButton}),style:"od-ui-dialog-lightbox-secondary-button od-ui-dialog-button-link",handler:function(e){e.stopPropagation(),e.preventDefault(),Odigeo.UIElements.hideDialog(a),_.isFunction(n)&&n(!0)}}),a=Odigeo.UIElements.createDialog({headerText:o,buttons:s,dialogClasses:"lightbox_warning od-ui-dialog-lightbox",hasCloseButton:!r,closeOnTapOuterBox:!1,closeOnNavigate:!0}),r||a.find(".dialog_close_hint_icon").on(Odigeo.Events.tap,n),a.find(".od-ui-dialog-close-hint-icon").toggleClass("odf-hidden",r),Odigeo.UIElements.showDialog(a)},Odigeo.UIElements.showNagPopup=function(e,t,n,i,a,o,s,r,d){var l,c,u=[],p=$("<span>",{class:"od-ui-dialog-box-subtitle-bold",text:t.subtitleBold}),g=$('<p class="od-ui-dialog-box-subtitle">'+t.subtitle+"</p>");_.isUndefined(t.subtitleBold)||g.append(p),c=$("<div>",{class:"od-nag-baggages-dialog-title",text:t.title||""}).append(g),u.push({text:$("<p>",{id:"dialog_btn_1",class:"od-dialog-text-main",text:t.button1||""}),style:"odf-btn-secondary odf-btn od-nagbutton-secondary nag_button_accept",handler:function(e){e.preventDefault(),e.stopPropagation(),Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:Odigeo.History.getPageNameFromFragment(),action:"nags",label:a.add}}),r||Odigeo.UIElements.hideDialog(l),_.isFunction(n)&&n()}}),u.push({text:$("<p>",{class:"od-dialog-text-main",text:t.button2||""}),style:"od-ui-dialog-button-default nag_button_dismiss",handler:function(e){e.preventDefault(),e.stopPropagation(),Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:Odigeo.History.getPageNameFromFragment(),action:"nags",label:a.skip}}),r||Odigeo.UIElements.hideDialog(l),_.isFunction(i)&&i()}}),l=Odigeo.UIElements.createDialog({headerText:c,buttons:u,dialogClasses:"nag_dialog od-nag-dialog "+(e||""),hasCloseButton:d||!1,closeOnTapOuterBox:!1,closeOnNavigate:!0,footerText:o,content:s}),Odigeo.UIElements.showDialog(l,!0),Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:Odigeo.History.getPageNameFromFragment(),action:"nags",label:a.appearances}})},Odigeo.UIElements.showBackToHomeError=function(){var e,t=Odigeo.UIElements.translations.errBrokenFlow,n=[];n.push({text:$("<p>",{class:"od-dialog-text-main",text:t.buttons[0].title}).add(""===t.buttons[0].subtitle?"":$("<p>",{class:"od-dialog-text-normal",text:t.buttons[0].subtitle})),style:"od-ui-dialog-button-cancel",handler:function(){Odigeo.UIElements.hideAllDialogs(),Odigeo.Utils.goToApplicationHome(Odigeo.Utils.isRequestApp("dp"))}}),e=Odigeo.UIElements.createDialog({headerText:t.header,content:t.content,buttons:n,dialogClasses:"dialog_error"}),Odigeo.UIElements.hideAllDialogs(),Odigeo.UIElements.showDialog(e)},Odigeo.UIElements.showUploadingResultsInfo=function(e){var t,n={evaluate:/\{\{#([\s\S]+?)\}\}/g,interpolate:/\{\{[^#\{]([\s\S]+?)[^\}]\}\}/g,escape:/\{\{\{([\s\S]+?)\}\}\}/g};return t=e instanceof $?e:$(e),{uploading:function(){var e=_.template(t.html(),n);Odigeo.Device.getViewport().append(e())},confirm:function(){var e=$(".dialog_update_pax_selection");e.find(".addpax_loading").addClass("fadeout"),e.find(".loading_new_pax_msg").addClass("odf-hidden"),setTimeout(function(){e.find(".uploaded_new_pax_msg").removeClass("odf-hidden"),e.find(".addpax_confirmation").removeClass("odf-hidden"),e.find(".addpax_confirmation_icon_wrapper").addClass("active")},500)}}},Odigeo.UIElements.createGenericDialog=function(e){return Odigeo.UIElements.createGenericDialogByTemplate(e)}},883:function(e,t,n){"use strict";!function(){var e=n(884);Odigeo.UIElements.showSessionExpiredErrorByTemplate=function(){var n={dialogID:"sessionExpireDialog",template:".session_expire_dialog_tmpl",content:t(Odigeo.UIElements.translations.errSessionExpiredCallUs),actions:["back","retry","phone"],dataTracking:{show:{action:"back_end_errors",label:"session_expiring_expired",optimize:!0},back:{action:"back_end_errors",label:"session_expiring_new_search"},retry:{action:"back_end_errors",label:"session_expiring_same_search"},phone:{action:"back_end_errors",label:"session_expiring_call_us"}}};new e(n).tracking({action:"back_end_errors",label:"session_warning_final"})},Odigeo.UIElements.showSessionExpiredErrorAccommodationPB=function(){var n=t(Odigeo.UIElements.translations.errSessionExpiredCallUs),i={dialogID:"sessionExpireDialog",template:".session_expire_dialog_tmpl",content:_.omit(n,"back"),actions:["retryAccommodationPB","phone"],dataTracking:{show:{action:"back_end_errors",label:"session_expiring_expired",optimize:!0},retryAccommodationPB:{action:"back_end_errors",label:"session_expiring_same_search"},phone:{action:"back_end_errors",label:"session_expiring_call_us"}}};new e(i).tracking({action:"back_end_errors",label:"session_warning_final"})},Odigeo.UIElements.showSessionAboutToExpireAlertByTemplate=function(t){var n=i(Odigeo.UIElements.translations.alertSessionAboutToExpire),a={dialogID:"sessionAboutToExpireAlert",template:n.template,content:o(n),removeClass:_.get(t,"removeClass"),actions:["close","phone"],dataTracking:{show:{action:"back_end_errors",label:"session_expiring_warning",optimize:!0},phone:{action:"back_end_errors",label:"session_expiring_warning_call_us"}}};new e(a)},Odigeo.UIElements.loadingMyTripsDialogByTemplate=function(){var t={dialogID:"loadingMyTripsDialog",template:".loadingMyTripsDialog",content:Odigeo.UIElements.translations.loadingMyTripsDialog.content,actions:[],dataTracking:{show:{action:"find_bookings",label:"access_my_trips_automatic_loading"}}};return new e(t)},Odigeo.UIElements.loadingMyTripsErrorDialogByTemplate=function(){var t={dialogID:"loadingMyTripsErrorDialog",template:".loadingMyTripsErrorDialog",content:Odigeo.UIElements.translations.loadingMyTripsErrorDialog.content,actions:["close"],dataTracking:{show:{action:"find_booking_error",label:"access_my_trips_automatic_error"}}};return new e(t)},Odigeo.UIElements.createGenericDialogByTemplate=function(t){var n={dialogID:"genericIconTextDialog",template:".genericIconTextDialog",content:t.data,actions:["close"],dataTracking:t.tracking};return new e(n)};var t=function(e){var t=Odigeo.Utils.parseJson(Odigeo.Session.get("searchParameters")),n=e.dateFormat,i={};if(!_.isUndefined(t)&&t&&t.searchSegments&&t.searchSegments.length){var a="multipleTrip"===t.type,o=t.searchSegments[0],s=t.searchSegments[t.searchSegments.length-1],r={adults:{number:Number(t.numAdults),key:e.adults},children:{number:Number(t.numChildren),key:e.children},infants:{number:Number(t.numInfants),key:e.infants}},d=a?e.headerMulti:Odigeo.Utils.replaceCmsKeyArgs(e.header,o.destination.city),c="oneWayTrip"===t.type?"":g(o.dateStr,n)+" - ";c+=g(s.dateStr,n)+"<br/>"+l(r,e);var f="";a&&_.each(t.searchSegments,function(e){f+='<div class="odf-text-md"><span class="odf-strong">'+e.departure.city+'</span> - <span class="odf-strong">'+e.destination.city+"</span> - "+g(e.dateStr,n)+"</div>"}),i={header:d,title:c,flightInfo:f=_.isEmpty(f)?"":'<div class="od-expire-call-us-flights">'+f+"</div>",accommodationInfo:h(t,e),footer:e.footer,footerInfo:e.subtext,footerCharges:p(e),phone:u(e),back:e.buttons[0].title,retry:e.buttons[1].title}}return i},i=function(e){var t={template:".session_about_to_expire_alert_old_tmpl",translations:d(e.old)};return"dp"===Odigeo.SessionScope.flowProduct&&Odigeo.AB.isTapToCallInAboutToExpiredAlertDP?t={template:".session_about_to_expire_alert_tmpl",translations:a(e.dp)}:(!s()&&Odigeo.AB.isTapToCallInAboutToExpiredAlertDesktop||s()&&Odigeo.AB.isTapToCallInAboutToExpiredAlertMobile)&&(t={template:".session_about_to_expire_alert_tmpl",translations:a(e.flights)}),t},a=function(e){var t=r()?"b":"a";return e.headerToShow=d(e.header[t]),e.contentToShow=e.content[t],e},o=function(e){var t=e.translations;return{header:t.headerToShow,content:t.contentToShow,footer:t.footer,close:t.close,footerInfo:p(t),phone:u(t),seatsInfo:c(t)}},s=function(){return"mobile"===Odigeo.SessionScope.flow},r=function(){return!_.contains(["results","dpresults","roomselection","xsellproductselection"],Odigeo.History.getPageNameFromFragment())},d=function(e){var t="payment"===Odigeo.History.getPageNameFromFragment()?1:2;return Odigeo.Utils.pluralizeAll(e,t)},l=function(e,t){var n=[", "," "+t.and+" "],i=_.chain(e).map(function(e){return 0!==e.number&&Odigeo.Utils.pluralizeAll(e.key,e.number)}).compact().value();return(1<i.length?_.initial(i).join(n[0])+n[1]:"")+_.last(i)},c=function(e){var t=parseInt(e.seatsLeft,10)||0;return r()&&0<t?Odigeo.Utils.pluralizeAll(e.seatsToShow,t):""},u=function(e){return s()?'<a class="dialog_phone_btn" href="tel:'+e.phoneHref+'">'+e.phone+"</a>":e.phone},p=function(e){return e.hours+" "+e.charge},g=function(e,t){return Odigeo.Utils.formatDate(Odigeo.Utils.parseDate(e),t,!0)},h=function(e,t){var n="";return e.checkInDate&&e.checkOutDate&&(e.searchSegments[0].dateStr!==e.checkInDate||e.searchSegments[1].dateStr!==e.checkOutDate)&&(n='<div class="od-expire-call-us-flights odf-text-md"><span class="odf-strong">'+t.hotelTitle+": </span>"+g(e.checkInDate,t.dateFormat)+"-"+g(e.checkOutDate,t.dateFormat)+"</div>"),n}}()},884:function(e,t,n){"use strict";var i={dialogID:"",template:"",translations:{},actions:["close","back","retry","phone"],bindableActions:{close:{selector:".dialog_close_btn",action:"tap",method:"close"},back:{selector:".dialog_back_btn",action:"tap",method:"back"},retry:{selector:".dialog_retry_btn",action:"tap",method:"retry"},retryAccommodationPB:{selector:".dialog_retry_btn",action:"tap",method:"retryAccommodationPB"},phone:{selector:".dialog_phone_btn",action:"tap",method:"phone"}},dataTracking:{}},a=function(e){this.opts=this.getOptions(e),this.init()};a.prototype={init:function(){this.setupSelectors(),this.setupTemplate(),this.bindEvents(),this.show()},getOptions:function(e){return _.extend({},i,this.opts,e)},setupSelectors:function(){this.$page=$("#page"),this.$dialog=$(this.create())},setupTemplate:function(){var e=_.template(this.$page.find(this.opts.template).html(),Odigeo.Utils.getTmplSettings());this.$template=$(e(this.opts.content)),this.$dialog.html(this.$template)},bindEvents:function(){return _.each(this.opts.actions,function(e){var t=this.opts.bindableActions[e];_.isEmpty(t.selector)||this.$dialog.find(t.selector).on(Odigeo.Events[t.action],_.bind(this[t.method],this))},this),"sessionAboutToExpireAlert"===this.opts.dialogID&&Odigeo.AB.isNewWarningPopup&&this.$dialog.on("dialog:closeOnNavigate",_.bind(this.remove,this)),this},create:function(){return'<div id="'+this.opts.dialogID+'" class="ui_dialog_box ui_dialog_content odf-lightbox-bg open opened'+(Odigeo.AB.isNewWarningPopup?" od-new-warning-popup-position":"")+'"></div>'},show:function(){this.$page.append(this.$dialog),Odigeo.UIElements.dialogs.push(this.$dialog),this.track("show")},removeClass:function(e){this.$template.removeClass(e),_.delay(_.bind(this.remove,this),300)},close:function(e){e.stopPropagation(),e.preventDefault(),this.opts.removeClass?this.removeClass(this.opts.removeClass):this.remove()},remove:function(){this.track("close"),Odigeo.UIElements.dialogs=_.without(Odigeo.UIElements.dialogs,this.$dialog),Odigeo.UIElements.hideDialog(this.$dialog)},back:function(e){e.stopPropagation(),e.preventDefault(),this.track("back"),Odigeo.UIElements.hideAllDialogs(),Odigeo.Utils.goToApplicationHome()},retry:function(e){e.stopPropagation(),e.preventDefault(),this.track("retry"),Odigeo.UIElements.hideAllDialogs(),Odigeo.trigger(this.opts.dialogID+":repeatSearch",Odigeo.History.getPageNameFromFragment())},retryAccommodationPB:function(e){e.stopPropagation(),e.preventDefault(),this.track("retryAccommodationPB"),Odigeo.UIElements.hideAllDialogs(),Odigeo.Utils.repeatAccommodationPBSearch()},phone:function(e){e.stopPropagation(),e.preventDefault(),this.track("phone"),window.location.href=e.target.href},track:function(e){this.tracking(this.opts.dataTracking[e])},tracking:function(e){_.isEmpty(e)||Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{page:_.isEmpty(e.page)?Odigeo.History.getPageNameFromFragment():e.page,action:e.action,label:e.label,optimize:e.optimize}})}},e.exports=a.prototype.constructor=a},885:function(e,t,n){"use strict";Odigeo.UIElements.drawArrow=function(e,t){var n,i;$(e).hasClass("ui-arrow-color")?(n=$(e).css("fill"),i=$(e).css("stroke")):(i="rgba(0, 0, 0, 0)",n="#165218");var a={right:function(e){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(64,0),e.lineTo(64,18),e.lineTo(0,18),e.closePath(),e.clip(),e.strokeStyle=i,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.restore(),e.save(),e.translate(-261.38205,-283.86724),e.save(),e.save(),e.fillStyle=n,e.strokeStyle=i,e.lineWidth=.7995659708976746,e.lineCap="round",e.lineJoin="miter",e.beginPath(),e.moveTo(262.84571,292.64674),e.bezierCurveTo(287.30423,296.16433,308.02096,295.90318,323.77278,292.43510000000003),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=n,e.strokeStyle=i,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.beginPath(),e.moveTo(313.56118,286.16302),e.lineTo(323.64349999999996,292.63155),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=n,e.strokeStyle=i,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.beginPath(),e.moveTo(314.31633,300.22032),e.lineTo(323.51041,292.54153),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.restore()},topLeft:function(e){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(140.6125,0),e.lineTo(140.6125,47.525002),e.lineTo(0,47.525002),e.closePath(),e.clip(),e.strokeStyle=i,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.restore(),e.save(),e.transform(1.25,0,0,-1.25,0,47.525),e.save(),e.scale(.1,.1),e.save(),e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(1124.91,0),e.lineTo(1124.91,380),e.lineTo(0,380),e.lineTo(0,0),e.closePath(),e.clip(),e.save(),e.fillStyle=n,e.strokeStyle=i,e.beginPath(),e.moveTo(760.371,0),e.bezierCurveTo(358.086,0,59.7227,35.4023,50.1523,363.695),e.bezierCurveTo(50.0312,367.836,53.285199999999996,371.293,57.425799999999995,371.40999999999997),e.bezierCurveTo(61.5742,371.68399999999997,65.0234,368.27299999999997,65.14059999999999,364.13699999999994),e.bezierCurveTo(75.5664,6.57031,432.793,10.6523,927.102,16.2891),e.bezierCurveTo(988.723,16.9922,1052.43,17.7148,1117.4099999999999,17.7148),e.bezierCurveTo(1121.55,17.7148,1124.9099999999999,14.3555,1124.9099999999999,10.2148),e.bezierCurveTo(1124.9099999999999,6.07422,1121.55,2.7148400000000006,1117.4099999999999,2.7148400000000006),e.bezierCurveTo(1052.5199999999998,2.7148400000000006,988.8479999999998,1.9921900000000006,927.2729999999999,1.2890600000000005),e.bezierCurveTo(870.09,.636719,814.27,0,760.371,0),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=n,e.strokeStyle=i,e.beginPath(),e.moveTo(0,310.793),e.lineTo(11.5625,301.211),e.lineTo(58.6758,358.223),e.lineTo(112.102,307.07),e.lineTo(122.477,317.92199999999997),e.lineTo(57.3984,380.215),e.lineTo(0,310.793),e.fill(),e.stroke(),e.restore(),e.restore(),e.restore(),e.restore(),e.restore(),e.restore()},myinfoLeft:function(e){e.save(),e.translate(0,0),e.beginPath(),e.moveTo(0,0),e.lineTo(64.104,0),e.lineTo(64.104,14.821),e.lineTo(0,14.821),e.closePath(),e.clip(),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.strokeStyle=i,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.save(),e.fillStyle=n,e.beginPath(),e.moveTo(.922,13.203),e.lineTo(16.155,14.386999999999999),e.lineTo(16.235,13.389999999999999),e.lineTo(3.316,12.357),e.bezierCurveTo(8.315,9.175999999999998,31.852,-4.006,62.826,7.467999999999999),e.lineTo(63.295,7.6419999999999995),e.lineTo(63.643,6.704),e.lineTo(63.174,6.529999999999999),e.bezierCurveTo(32.065,-4.992,8.29,8.046,2.889,11.446),e.lineTo(7.987,.8460000000000001),e.lineTo(7.086,.413),e.lineTo(1.465,12.101),e.lineTo(.922,13.203),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore()}};$(e).each(function(e,n){_.each(["width","height"],function(e){n.setAttribute(e,parseInt($(n).css(e),10))}),a[t](n.getContext("2d"))})}},886:function(e,t,n){"use strict";Odigeo.UIElements.enhanceExpandable=function(e,t,n){var i,a,o,s="open",r=null,d={enabled:!0,selfClose:!0},l=null,c=null,u=!1;if(_.extend(d,t),c=!_.isUndefined(e.length)&&1<e.length?e[0]instanceof $?e[0]:$(e[0]):e instanceof $?e:$(e),_.isUndefined(c.attr("data-skip-enhance"))||c.attr("data-skip-enhance").toUpperCase()!=="true".toUpperCase()){if(_.isEmpty(c)||c.length<1)throw new Error("Youre trying to apply expandable enhancement to a wrong element, just details elements are allowed.");if(c[0].tagName.toUpperCase()!=="details".toUpperCase())throw new Error("You cannot enhance a "+c.context.tagName+" tag, just details tags are allowed.");r=$("<div>"),$.each(c[0].attributes,function(){r.attr(this.name,this.value)}),r.addClass("expandable_area"),r=c.wrap(r).parent(),c.contents().unwrap(),o=a=null,0<(i=r.find("summary")).length?(a=$("<div>"),(o=$("<div>")).addClass("expandable_toggle_area"),o=i.wrap(o).parent(),i.contents().unwrap(),(a=r.wrap(a).parent()).prepend(o),u=!0):a=r,a.addClass("expandable_root_wrapper"),r.attr({"data-skip-enhance":!0}),l={visible:!_.isUndefined(r.attr(s)),enabled:d.enabled};var p=function(){!l.visible&&l.enabled?h():g()},g=function(){l.visible=!1,r.attr(s,l.visible),r.addClass("hidden"),!0===u&&$(r).closest(".scroll_area").trigger("updateDimensions")},h=function(){l.enabled&&(l.visible=!0,r.attr(s,l.visible),r.removeClass("hidden"),!0===u&&$(r).closest(".scroll_area").trigger("updateDimensions"),_.isFunction(n)&&n())},f=function(e){l.enabled=e};return!0===l.visible?h():g(),d.selfClose&&!_.isNull(o)&&o.on(Odigeo.Events.tap,p),r.on("showExpandable",_.bind(h,this)).on("hideExpandable",_.bind(g,this)).on("toggleExpandable",_.bind(p,this)).on("enable",_.bind(f,this,!0)).on("disable",_.bind(f,this,!1)),a}}},887:function(e,t,n){"use strict";Odigeo.UIElements.fade={},Odigeo.UIElements.fade.enhance=function(e,t){var n,i,a,o,s,r,d=e instanceof $?e:$(e),l={fadeInTimes:{duration:2,delay:0},fadeOutTimes:{duration:2,delay:3},events:{}};return 0!==d.length&&("true"===d.attr("data-skip-enhance")||(d.attr({"data-skip-enhance":!0}),l=_.extend(l,t),n=function(){var e=1e3*(l.fadeInTimes.duration+l.fadeInTimes.delay);d.removeClass("hidden od-fade-out").css(s("duration",l.fadeInTimes.duration)).css(s("delay",l.fadeInTimes.delay)).addClass("od-fade-in"),r("show",e)},i=function(){var e=1e3*(l.fadeOutTimes.duration+l.fadeOutTimes.delay);d.removeClass("od-fade-in").css(s("duration",l.fadeOutTimes.duration)).css(s("delay",l.fadeOutTimes.delay)).addClass("od-fade-out"),_.delay(function(){d.addClass("hidden")},e),r("hide",e)},a=function(){var e=1e3*(l.fadeInTimes.duration+l.fadeInTimes.delay);n(),_.delay(i,e)},o=function(){d.hasClass("od-fade-out")?n():i()},r=function(e,t){var n=l.events[e];_.isString(n)&&!_.isEmpty(n)&&_.delay(_.bind(d.trigger,d),t,n)},s=function(e,t){var n={},i=t+"s";return n["-webkit-animation-"+e]=i,n["-moz-animation-"+e]=i,n["animation-"+e]=i,n},d.on("showElement",n).on("hideElement",i).on("fadeElement",a).on("toggle",o)),d)},Odigeo.UIElements.fade.unbind=function(e){return e.off("showElement hideElement fadeElement toggle"),e}},888:function(e,t,n){"use strict";var i;i={},Odigeo.UIElements.hint={},Odigeo.UIElements.hint.bindCloseHintsOnPageClick=function(e){Odigeo.UIElements.hint.unbindAllHints(),$("#flights-root, #dynpack-root").on(Odigeo.Events.tap,function(t){Odigeo.Events.fake.trigger("fake:blur",t),Odigeo.UIElements.hint.hidePageHints(e),t.stopPropagation()}),Odigeo.UIElements.hint.bindPageHints(e)},Odigeo.UIElements.hint.unbindAllHints=function(){_.each(_.keys(i),function(e){_.each(i[e],function(e){e.trigger("hideHint",!1),e.trigger("unBindHint")})})},Odigeo.UIElements.hint.bindPageHints=function(e){_.each(i[e],function(e){e.trigger("bindHint")})},Odigeo.UIElements.hint.hideAllHints=function(){_.each(_.keys(i),function(e){Odigeo.UIElements.hint.hidePageHints(e)})},Odigeo.UIElements.hint.hidePageHints=function(e){_.each(i[e],function(e){e.trigger("hideHint",!1)})},Odigeo.UIElements.hint.enhance=function(e,t,n){var a,o,s,r,d,l,c,u,p,g,h,f,m,v,b,y,w,C,E,x,O,S,T=t instanceof $?t:$(t),D={closeButton:{show:!0,closeButtonText:"q"},events:{tap:!1,hover:!1},hintTriggerButton:{hintTriggerButtonText:"9",hintTriggerButtonClass:""},googleAnalyticsOnOpen:{type:"",data:{page:e,action:"",label:""}},googleAnalyticsOnClose:{type:"",data:{page:e,action:"",label:""}},googleAnalyticsOnCloseButton:{type:"",data:{page:e,action:"",label:""}},trigger:"",generateHtml:!1,wrapperClass:"",arrowClass:"",closeOthers:!0,recalculate:!1,popupHeight:400,popupLinkMaxPosition:500,closeContainer:!0,blockPageScroll:!1,ignorePageScroll:!1};if(0===T.length)return!1;if("true"===T.attr("data-skip-enhance"))return T;D=$.extend(!0,D,n),T.attr({"data-skip-enhance":!0,"data-has-to-close-container":D.closeContainer}),a=a||T.find(".hint_trigger_button"),o=o||T.find(".hint_close"),s=s||T.find(".hint_container");var k=function(e,t){t&&_.isObject(e)&&""!==e.type&&Odigeo.trigger("analytics:tracking",e)};p=function(e,t){h(),s.addClass("opened"),k(D.googleAnalyticsOnOpen,t),D.recalculate&&x(D.popupHeight,D.popupLinkMaxPosition),D.ignorePageScroll||O(D.blockPageScroll),v("Show"),e.stopPropagation(),e.preventDefault()},x=function(e,t){var n=T.offset().top,i=T.position().left,a=$(document).scrollTop()+e<n?"top":"bottom",o=t<i?"right":"left";s.removeClass("odf-popup-bottom-right odf-popup-bottom-left odf-popup-top-left odf-popup-top-right").addClass("odf-popup-"+a+"-"+o)},f=function(e,t,n){h(),S=setTimeout(_.bind(g,this,e,t,n),150)},h=function(){S&&clearTimeout(S)},g=function(e,t,n){s.find(".hint_txt").scrollTop(0).removeClass("extended"),s.find(".hint_more_content").addClass("hidden"),s.removeClass("opened"),D.ignorePageScroll||O(!1),v("Hide"),k(n,t),e.stopPropagation(),e.preventDefault()},m=function(t,n){(_.isUndefined(n)?s.hasClass("opened"):!n)?g(t,!0,D.googleAnalyticsOnClose):(D.closeOthers&&Odigeo.UIElements.hint.hidePageHints(e),p(t,!0)),t.stopPropagation(),t.preventDefault()},v=function(e){b(e),y(e)},b=function(t){Odigeo.trigger("ui-hint:"+t.toLowerCase(),{element:T,page:e,closeContainer:D.closeContainer})},y=function(e){""!==D.trigger&&Odigeo.trigger(D.trigger+e,T)};var A=_.partial(g,_,!0,D.googleAnalyticsOnCloseButton),U=_.partial(p,_,!1),I=_.partial(f,_,!1),F=function(e){e.stopPropagation()};return C=function(){T.off(Odigeo.Events.tap,F),o.off(Odigeo.Events.tap,A),D.events.tap?a.off(Odigeo.Events.tap,m):D.events.hover&&(a.off(Odigeo.Events.mouseEnter,U).off(Odigeo.Events.mouseLeave,I),s.off(Odigeo.Events.mouseEnter,h),T.off(Odigeo.Events.mouseLeave,I))},w=function(){T.off(Odigeo.Events.tap,F).on(Odigeo.Events.tap,F),o.off(Odigeo.Events.tap,A).on(Odigeo.Events.tap,A),D.events.tap?a.off(Odigeo.Events.tap,m).on(Odigeo.Events.tap,m):D.events.hover&&(a.off(Odigeo.Events.mouseEnter,U).on(Odigeo.Events.mouseEnter,U).off(Odigeo.Events.mouseLeave,I).on(Odigeo.Events.mouseLeave,I),s.off(Odigeo.Events.mouseEnter,h).on(Odigeo.Events.mouseEnter,h),T.off(Odigeo.Events.mouseLeave,I).on(Odigeo.Events.mouseLeave,I))},E=function(){u=T.html(),c=T.parent(),T.detach().empty().addClass(D.wrapperClass).addClass("od-hint-popup"),a=$("<div>",{class:"ficon hint_trigger_button",text:D.hintTriggerButton.hintTriggerButtonText}).addClass(D.hintTriggerButton.hintTriggerButtonClass),T.append(a),s=$("<div>",{class:"od-hint-container hint_container"}),r=$("<span>",{class:""===D.arrowClass?"od-hint-arrow":"od-hint-arrow "+D.arrowClass}),d=$("<div>",{class:"od-hint-content"}),l=$("<div>",{class:"od-hint-txt hint_txt",html:u}),D.closeButton.show&&(o=$("<div>",{class:"od-hint-close ficon hint_close",text:D.closeButton.closeButtonText}),d.append(o)),d.append(r),d.append(l),s.append(d),T.append(s),c.append(T)},O=function(e){Odigeo.Device.getViewport().toggleClass("od-viewport-no-vertical-scroll",e)},D.generateHtml&&E(),w(),T.on("showHint",p).on("hideHint",g).on("generateHintHTML",E).on("bind",w).on("unBind",C).on("toggle",m),i[e]||(i[e]=[]),i[e].push(T),T}},889:function(e,t,n){"use strict";!function(e,t){function n(e,n,i){var a,o,s=(a=i,("%"===(o=this.conf).unit?100:o.width)/t.size(a)),r=this.conf.height,d=r*e;this.drawHelper.paintRectangle({class:this.conf.barClass,width:s+this.conf.unit,height:d,x:n*s+this.conf.unit,y:r-d})}function i(e){this.histogramBars=e||this.histogramBars,function(){var e,n;t.extend(this.conf,{width:(e=this.parent,n=this.conf,"%"===n.unit?"100%":e.width()),height:this.parent.height()}),this.drawHelper.refreshCanvas()}.call(this),function(){this.histogramBars.forEach(t.bind(n,this))}.call(this)}e.histogram=function(e,n){var a,o,s,r,d;return a=e,r=function(e){var n="http://www.w3.org/2000/svg",i=t.bind(document.createElementNS,document,n),a=function(e,n){return t.each(n,function(t,n){e.setAttribute(n,t)}),e},o=a(i("svg"),{version:"1.1",xlmns:n,class:e.svgClass,role:"img"}),s=o.childNodes,r=0,d=a;return{getSvgCanvas:t.constant(o),paintRectangle:function(e){var t,n=s[r];return r+=1,n?d(n,e):(t=e,void o.appendChild(a(i("rect"),t)))},refreshCanvas:function(){a(o,t.pick(e,"width","height")),r=0}}}(o=t.extend({svgClass:"chart",barClass:"bar",unit:""},n)),d={refresh:i,parent:a,drawHelper:r,histogramBars:[],conf:o},s=r,a.append(s.getSvgCanvas()),d}}(Odigeo.UIElements,_)},890:function(e,t,n){"use strict";!function(){function e(e){var t=e.getMonth()+1,n=e.getDate();return e.getFullYear()+"-"+(t<10?"0":"")+t+"-"+(n<10?"0":"")+n}Odigeo.UIElements.enhanceInputDate=function(t,n,i){var a,o,s=t instanceof $?t:$(t);if(t&&s instanceof $&&0!==s.length&&"true"!==s.attr("data-skip-enhance")){if(s.attr({"data-skip-enhance":!0}),o=function(e){Odigeo.Utils.loadCSS(Odigeo.Settings.property("appContext")+"/static-content/thirdParty/mobiscroll/css/mobiscroll."+e+".min.css")},a=function(e,t,a){var o=new Date,s={mode:"scroller",display:"bottom",theme:e,preset:"month"===t?"credit":"date",dateOrder:"month"===t?"mmyyyy":"ddmmyyyy",dateFormat:"month"===t?"yyyy-mm":"yyyy-mm-dd",startYear:"EXPIRATION_DATE"===a?o.getFullYear():o.getFullYear()-100,endYear:"EXPIRATION_DATE"===a?o.getFullYear()+20:o.getFullYear(),dayNames:Odigeo.Utils.formatDate.i18n.dayNames,dayNamesShort:Odigeo.Utils.formatDate.i18n.dayShortNames,monthNames:Odigeo.Utils.formatDate.i18n.monthNames,monthNamesShort:Odigeo.Utils.formatDate.i18n.monthShortNames};return n&&(s.minDate=n),i&&(s.maxDate=i),s},!Odigeo.Device.navigator.supportsInput(s.attr("type"))||Odigeo.Device.navigator.isAndroidStockBrowser()){var r=s.attr("type");Odigeo.Device.navigator.isIOS?Odigeo.Device.navigator.isIOS7?(o("scroller.ios7"),Odigeo.require(["mobiscroll.scroller.ios7"],function(){s.mobiscroll().date(a("ios7",r,s.data("validationType")))})):(o("scroller.ios"),Odigeo.require(["mobiscroll.scroller.ios"],function(){s.mobiscroll().date(a("ios",r,s.data("validationType")))})):Odigeo.Device.navigator.isAndroid?(Odigeo.Device.navigator.isAndroidICS?(o("scroller.android-ics"),Odigeo.require(["mobiscroll.scroller.android-ics"],function(){s.mobiscroll().date(a("android-ics",r,s.data("validationType")))})):(o("scroller.android"),Odigeo.require(["mobiscroll.scroller.android"],function(){s.mobiscroll().date(a("android",r,s.data("validationType")))})),Odigeo.Device.navigator.isAndroidStockBrowser()&&(s.attr("type","text"),s.on(Odigeo.Events.change,function(){$(this).trigger("blur")}))):Odigeo.Device.navigator.isWinPhone?(o("scroller.wp"),Odigeo.require(["mobiscroll.scroller.wp"],function(){s.mobiscroll().date(a("wp",r,s.data("validationType")))})):(o("scroller.default"),Odigeo.require(["mobiscroll.scroller.default"],function(){s.mobiscroll().date(a("default",r,s.data("validationType")))}))}else n&&s.attr("min",e(n)),i&&s.attr("max",e(i));s.parent().attr({"data-enhanced":!0})}}}()},891:function(e,t,n){"use strict";var i;i=$("#page"),Odigeo.UIElements.enhanceLoading=function(e){var t=e instanceof $?e:$(e);return{showLoading:function(e,n){n&&0<t.find("#modwaiting").length&&Odigeo.UIElements.enhanceAdvertisementGptNonJS(t.find("#modwaiting")),i.addClass("waiting").attr("data-waiting",!0),_.each(t.find(".waiting_element"),function(e){$(e).addClass("odf-hidden")}),_.each(e,function(e){var n,i,a=t.find("[data-waiting="+e+"]");if(a.removeClass("odf-hidden"),a.data("pageindex")){n=a.data("waiting");var o=_.some(["waiting_searching","waiting_intermediate_page"],function(e){return n===e});i="true"!==Odigeo.Session.get("intermediatePageShown")||o?0:1,Odigeo.trigger("loading:show",parseInt(a.data("pageindex"),10)+i)}}),t.find("[data-counter]:visible").text(0),t.removeClass("odf-hidden").stop().animate({opacity:1},700,"swing",function(){var e=t.find(".progressbar:visible");e.each(function(t){$(this).one(Odigeo.Events.transitionEnd,function(){$(e[t+1]).addClass("animate")})}).first().addClass("animate"),t.find("[data-counter]:visible").trigger("startCount"),t.off().on(Odigeo.Events.touchmove,function(e){e.stopPropagation()})})},hideLoading:function(){t.find("[data-counter]:visible").trigger("stopCount"),t.stop().animate({opacity:0},700,"swing").queue(function(e){t.addClass("odf-hidden").find(".progressbar").removeClass("animate"),_.each(t.find(".waiting_element"),function(e){$(e).addClass("odf-hidden")}),$("#page").removeClass("waiting").removeAttr("data-waiting"),e()}),Odigeo.trigger("loading:hide"),t.off(Odigeo.Events.touchmove)}}}},892:function(e,t,n){"use strict";Odigeo.UIElements.menu={},Odigeo.UIElements.menu.enhanceMenu=function(e){var t,n;return"true"===(e=e instanceof $?e:$(e)).attr("data-skip-enhance")||(n=function(t,n){_.each(e.find(".pa_menu_item"),function(e){$(e).toggleClass("selected",$(e).find("a").data("href")===n)})},t=function(){var e=$(this),t=e.find("a"),n=t.data("href"),i=e.closest(".ui_menu"),a=i.data("track-category"),o=i.data("track-action"),s=t.data("track-label");_.isEmpty(n)||(Odigeo.trigger("analytics:tracking",{type:"trackEvent",data:{action:o,category:a,label:s}}),Odigeo.Router.navigate(n))},e.removeClass("hidden"),e.off().on(Odigeo.Events.tap,".pa_menu_item",t),e.attr("data-skip-enhance",!0),e.on("changeSelectedMenu",n)),e}},893:function(e,t,n){"use strict";Odigeo.UIElements.enhanceCounter=function(e,t,n,i,a){var o,s,r,d,l,c,u=e instanceof $?e:$(e),p=Number(t),g=Number(n),h=Math.max(0,i||0),f=Math.pow(10,h),m=1e3*a||2e3,v=null,b=p,y=null,w=Odigeo.Utils.Easing.randomEquation(),C={useEasing:!1};return e&&u instanceof $&&("true"===u.attr("data-skip-enhance")||(C=_.extend(C,u.data()),u.attr({"data-skip-enhance":!0}).attr({"data-counter":!0}),C.duration&&(m=1e3*C.duration),o=function(e){null===v&&(v=e);var t=e-v;b=C.useEasing?w(t,p,g-p,m):p+t/m*(g-p),b=Math.round(b*f)/f,b=g<b?g:b,u.html(c(b.toFixed(h))),t<m&&(y=requestAnimationFrame(o))},s=function(){return isNaN(g)||isNaN(p)||(d(),y=requestAnimationFrame(o)),!1},r=function(){cancelAnimationFrame(y)},d=function(){cancelAnimationFrame(y),u.html(c(p.toFixed(h))),v=null},l=function(){m=v=null,p=b,requestAnimationFrame(o)},c=function(e){var t,n,i,a;for(n=(t=(e+="").split("."))[0],i=1<t.length?"."+t[1]:"",a=/(\d+)(\d{3})/;a.test(n);)n=n.replace(a,"$1"+Odigeo.Utils.Currency.thousandSeparator+"$2");return n+i},u.on("startCount",s).on("stopCount",r).on("restartCount",d).on("resumeCount",l),u.rAF=y)),u}},894:function(e,t,n){"use strict";Odigeo.UIElements.enhancePagination=function(e,t){if("true"===e.attr("data-skip-enhance"))return e;e.attr({"data-skip-enhance":!0});var n,i={maxnumberOfResultPagesShown:5,nextCallback:null,previousCallback:null,loadPageCallback:null,loadTrackingCallback:null},a=e.attr("data-pagination-type"),o=e.find(".next_button"),s=e.find(".previous_button"),r=e.find(".page_template_button").addClass("page_button"),d=e.find(".pages_separator"),l=$(d[0]?d[0].outerHTML:""),c=$("loadMore"!==a?"<ul>":"<div>",{class:"od-pagination-wrapper pagination_wrapper"}).appendTo(e),u=$("<li>",{class:"od-pagination-item"}),p=0,g=0,h=function(){p!==g&&_.isFunction(t.nextCallback)&&(t.nextCallback(),i.loadTrackingCallback())},f=function(){1!==p&&_.isFunction(t.previousCallback)&&(t.previousCallback(),i.loadTrackingCallback())},m=function(){var e=$(this).find(".page_button");if(e.hasClass("selected"))return!1;_.isFunction(t.loadPageCallback)&&(i.loadPageCallback(e.data("page")),i.loadTrackingCallback())},v=function(){d.addClass("hidden"),l.addClass("hidden")};switch(_.extend(i,t),a){case"loadMore":o.appendTo(c),o.on(Odigeo.Events.tap,h);break;case"nPagesSet":for(u.clone().addClass("previous_button").append(s).appendTo(c).on(Odigeo.Events.tap,f),u.clone().append(r.data("page",1)).appendTo(c).addClass("selected").on(Odigeo.Events.tap,m),u.clone().append(d).appendTo(c),n=0;n<i.maxnumberOfResultPagesShown;n++)u.clone().append(r.clone().data("page",n+2)).appendTo(c).on(Odigeo.Events.tap,m);u.clone().append(l).appendTo(c),u.clone().append(r.clone().data("page",i.maxnumberOfResultPagesShown+1)).appendTo(c).on(Odigeo.Events.tap,m),u.clone().addClass("next_button").append(o).appendTo(c).on(Odigeo.Events.tap,h);break;case"blockPagesSet":for(u.clone().addClass("previous_button").append(s).appendTo(c).on(Odigeo.Events.tap,f),u.clone().append(r.data("page",1)).appendTo(c).on(Odigeo.Events.tap,m),n=1;n<i.maxnumberOfResultPagesShown;n++)u.clone().append(r.clone().data("page",n)).appendTo(c).on(Odigeo.Events.tap,m);u.clone().addClass("next_button").append(o).appendTo(c).on(Odigeo.Events.tap,h);break;default:return}e.bind("repaintPagination",_.bind(function(e,t,n){switch((p=t)===(g=n)?o.addClass("disabled").find("button").prop("disabled",!0):o.removeClass("disabled").find("button").prop("disabled",!1),1===p?s.addClass("disabled").find("button").prop("disabled",!0):s.removeClass("disabled").find("button").prop("disabled",!1),a){case"nPagesSet":s.toggleClass("hidden",1===g),o.toggleClass("hidden",1===g),g<=i.maxnumberOfResultPagesShown?(v(),c.find(".page_button").each(function(e,t){var n=e+1,i=$(t);n<=g?(i.data("page",n).removeClass("hidden").toggleClass("selected",p===n),i.find(".page_number_text").html(n)):i.data("page",n).addClass("hidden")})):p<i.maxnumberOfResultPagesShown?(d.addClass("hidden"),l.toggleClass("hidden",i.maxnumberOfResultPagesShown+1===g),c.find(".page_button").each(function(e,t){var n=e+1,a=$(t);n<=i.maxnumberOfResultPagesShown?(a.data("page",n).removeClass("hidden").toggleClass("selected",p===n),a.find(".page_number_text").html(n)):n===i.maxnumberOfResultPagesShown+1?a.data("page",0).addClass("hidden"):(a.data("page",g).removeClass("hidden selected"),a.find(".page_number_text").html(g))})):g-p+1<i.maxnumberOfResultPagesShown?(d.toggleClass("hidden",i.maxnumberOfResultPagesShown+1===g),l.addClass("hidden"),c.find(".page_button").each(function(e,t){var n=e+1,a=g+(e-i.maxnumberOfResultPagesShown),o=$(t);1<n?n===i.maxnumberOfResultPagesShown+2?o.data("page",0).addClass("hidden"):(o.data("page",a).removeClass("hidden").toggleClass("selected",p===a),o.find(".page_number_text").html(a)):(o.data("page",1).removeClass("hidden selected"),o.find(".page_number_text").html(1))})):(d.removeClass("hidden"),l.removeClass("hidden"),c.find(".page_button").each(function(e,t){var n=e+1,a=p+(n-(Math.ceil(i.maxnumberOfResultPagesShown/2)+1)),o=$(t);1===n||n===i.maxnumberOfResultPagesShown+2?(o.data("page",1===n?1:g).removeClass("hidden selected"),o.find(".page_number_text").html(1===n?1:g)):(o.data("page",a).removeClass("hidden").toggleClass("selected",p===a),o.find(".page_number_text").html(a))}));break;case"blockPagesSet":var r,u=Math.floor(i.maxnumberOfResultPagesShown/2);r=p<=u+1||n<=i.maxnumberOfResultPagesShown?1:n-u<=p?n-(i.maxnumberOfResultPagesShown-1):p-u,v(),c.find(".page_button").each(function(e,t){var i=$(t);r+e<=n?(i.data("page",r+e).removeClass("hidden").toggleClass("selected",p===r+e),i.find(".page_number_text").html(r+e)):i.data("page",0).addClass("hidden")});break;default:return}},this))}},895:function(e,t,n){"use strict";!function(){Odigeo.UIElements.enhanceRange=function(e){var i=e instanceof $?e:$(e);if(e&&i instanceof $&&"true"!==i.attr("data-skip-enhance")){Odigeo.Session.set("UIRangeBlocked","false"),i.attr({"data-skip-enhance":!0}),i.addClass("od-input-text");var a,o="INPUT"===e.nodeName,s=i.attr("data-type"),r=i.data("unitLetter"),d={hour:new t(r),km:new n};if("number"===s||"range"===s){var l=i.attr("min"),c=i.attr("max"),u=_.isNaN(parseFloat(i.attr("min-bound")))?l:parseFloat(i.attr("min-bound")),p=_.isNaN(parseFloat(i.attr("max-bound")))?c:parseFloat(i.attr("max-bound")),g=_.isNaN(parseFloat(i.attr("to")))?p:parseFloat(i.attr("to")),h=_.isNaN(parseFloat(i.attr("from")))?null:parseFloat(i.attr("from")),f=null!==h,m=i.data("style"),v=!!_.isUndefined(i.data("label-visibility"))||i.data("label-visibility"),b=i.attr("id"),y=(a=i.attr("unit"),_.has(d,a)?d[a]:d.hour),w=parseFloat(i.attr("step"))||1,C=$('<input readonly="true" type="text" />'),E={};_.each(e.attributes,function(e){"type"!==e.name&&(E[e.name]=e.value)}),C.attr(E),C.attr({"data-skip-enhance":!0});var x=$("<div>").addClass("od-input-number");!1===i.data("number-field")&&x.addClass("od-hidden"),x.append($("<button>",{type:"button",text:"-"}).addClass("od-input-number-control od-input-number-control-decrease").attr({"data-skip-enhance":!0}).append($("<span>").addClass("od-icon od-icon-big od-icon-minus-circled"))),x.append(C),x.append($("<button>",{type:"button",text:"+"}).addClass("od-input-number-control od-input-number-control-increase").attr({"data-skip-enhance":!0}).append($("<span>").addClass("od-icon od-icon-big od-icon-plus-circled")));var O=null,S=function(e){var t=(e-Math.max(u,l))/(Math.min(p,c)-Math.max(u,l));return _.isNaN(t)?0:t},T=function(e){var t,n,i,a,o=e.closest("section");return(a=o.is(":visible"))||o.addClass("visibleForced"),(i=(n=e.closest(".filter_items")).hasClass("active"))||n.addClass("active"),t=e.parent().find(e).width(),i||n.removeClass("active"),a||o.removeClass("visibleForced"),t},D=function(){var e,t,n,i,a,o,s,r,d,v,_,b;f?(t=O.find(".range_slider"),n=O.find(".range_slider_bound"),i=O.find(".range_slider_track"),o=T(t),s=(p-u)/(c-l)||0,_=(h-u)/(p-u)||0,b=(g-h)/(c-l)||0,d=o*(u-l)/(c-l)||0,e="",l===c&&(d=s=0),O.find(".od-ui-range-slider-thumb-max").toggleClass("hidden",l===c),O.find(".dates").toggleClass("disabled",l===c),n.css({width:o*s+"px",left:d+"px"}),i.css({width:o*b+"px",left:o*s*_+"px"}),O.find(".range_slider_control").width(o*b+"px")):"line"===m?(e=g,t=O.find(".range_slider"),n=O.find(".range_slider_bound"),i=O.find(".range_slider_track"),o=T(t),s=(p-u)/(c-l)||0,b=S(e),d=o*(u-l)/(c-l)||0,l===c&&(s=1,d=0),o*=s,n.css({width:o+"px",left:d+"px"}),i.width(o*b+"px"),O.find(".range_slider_control").width(o*b+"px")):(e=g,t=O.find(".range_slider"),n=O.find(".range_slider_bound"),i=O.find(".range_slider_track"),a=parseFloat(t.css("border-top-width").replace("px","")),o=T(t),s=(p-u)/(c-l)||0,r=S(e),v=a*(d=o*(u-l)/(c-l)||0)/o,l===c&&(r=s=1,v=d=0),o*=s,a*=s,i.css({"border-top-width":a*r+v+"px",width:o*r+"px"}),n.css({"border-top-width":a+v+"px",width:o+"px",left:d+"px"}),O.find(".range_slider_control").width(o*r+"px")),O.find(".range_slider_thumb").attr({title:e}),O.find(".range_slider_num").html(e),O.find(".range_label_min").html(y.getMinLabel(l)),O.find(".range_label_max").html(y.getMaxLabel(l,c))};if($(window).resize(D),"number"===s)i.outerHtml(x),i=x;else if("range"===s&&((O=$("<div>").addClass("od-ui-range")).append(x),(l||0===l)&&(c||0===c))){C.on("change-attr",function(e,t){var n=$(this);$.each(t,function(e,t){switch(e){case"min":l=t;break;case"max":c=t;break;case"min-bound":u=l<=t&&t<=c?t:l;break;case"max-bound":p=l<=t&&t<=c?t:c;break;case"to":g=t;break;case"from":h=t}n.attr(e,t)}),I()}),l=parseFloat(l),c=parseFloat(c);var k=$("<div>").addClass("od-ui-range-slider range_slider").append($("<div>").addClass("od-ui-range-slider-bound range_slider_bound").append($("<div>").addClass("od-ui-range-slider-track range_slider_track").append($("<div>").addClass("od-ui-range-slider-value").append($("<div>").addClass("od-ui-range-slider-control range_slider_control").attr({tabindex:"0"}).append($("<div>").addClass("od-ui-range-slider-thumb-max ").append($("<div>").addClass("od-ui-range-slider-thumb-click-max to range_slider_thumb").attr({title:""+c}))).append($("<div>").addClass("od-ui-range-slider-num range_slider_num").addClass("od-hidden").html(c))))));if(v){var A=$("<div>").addClass("od-ui-range-labels-wrapper").append($("<div>").addClass("od-ui-range-label-min-wrapper").append($("<div>").addClass("od-ui-range-label-min range_label_min").html(l))).append($("<div>").addClass("od-ui-range-label-max-wrapper").append($("<div>").addClass("od-ui-range-label-max range_label_max").html(c)));O.append($("<div>").addClass("od-ui-range-wrapper").append($("<div>").addClass("od-ui-range-slider-wrapper").append(k).append(A)))}else O.append($("<div>").addClass("od-ui-range-wrapper").append($("<div>").addClass("od-ui-range-slider-wrapper").append(k)));f?($(O).removeClass("od-ui-range").addClass("od-ui-range-double"),$(O).append($("<div>").addClass("od-ui-range-left-rounded")),$(O).append($("<div>").addClass("od-ui-range-right-rounded")),$(".range_slider_control",O).append($("<div>").addClass("od-ui-range-slider-thumb-min").append($("<div>").addClass("od-ui-range-slider-thumb-click-min range_slider_thumb from").attr({title:""+c})))):"line"===m?$(O).removeClass("od-ui-range").addClass("od-ui-range-double"):$(".range_slider",O).append($("<div>").addClass("od-ui-range-slider-fix")),!0===i.data("tip")&&$(".range_slider_num",O).removeClass("od-hidden"),i.outerHtml(O),i=O,D()}var U=function(e,t){var n=e%w,i=e-n;return e!==t&&(w/2<n&&(i+=w),e=i,(p||0===p)&&p<e&&(e=p),(u||0===u)&&e<u&&(e=u)),e},I=function(){g=U(C.attr("to"),C.attr("max")),isNaN(g)&&(g=1),f&&(h=U(C.attr("from"),C.attr("min"))),f&&g<h&&(g=h),f&&g<h&&(h=g),C.attr({to:g}),C.attr({from:h}),O&&D()};if(O){var F,P,M,N,B,R=function(e){return e/T(O.find(".range_slider_bound"))*(Math.min(p,c)-Math.max(u,l))},L=function(e){e="pointerdown"===e.type?e.originalEvent:e,"true"!==Odigeo.Session.get("UIRangeBlocked")&&(Odigeo.Session.set("UIRangeBlocked","true"),M=_.isEmpty(e.touches)?e.pageX||e.clientX||e.layerX||e.screenX:e.touches.item(0).clientX,F=$(e.target).hasClass("to")?g:h,F=parseFloat(F),$(e.target).hasClass("to")?C.attr("prev-to",F):C.attr("prev-from",F),O.find(".range_slider_thumb").on(Odigeo.Events.touchend,W),O.find(".range_slider_thumb").on(Odigeo.Events.touchmove,H),"pointerdown"===e.type&&this.setPointerCapture&&this.setPointerCapture(e.pointerId),$.event.special.swipe.settings.sensitivity=-1,$.event.special.swipe.settings.threshold=1/0)},H=function(e){e="pointermove"===e.type?e.originalEvent:e,l!==c&&(N=_.isEmpty(e.touches)?e.pageX||e.clientX||e.layerX||e.screenX:e.touches.item(0).clientX,B=(_.isUndefined(N)?0:N)-M,P=R(B),M=N,F+=P,$(e.target).hasClass("to")?C.attr({to:F}):$(e.target).hasClass("from")&&C.attr({from:F}),I(),Odigeo.trigger("ui-range:doneThumbDrag",{id:b,fromValue:h,toValue:g}))},W=function e(){var t,n=!1,i=!1,a=!1,o=!1,s=!0,r=!0,d=!1,l=C;Odigeo.Session.set("UIRangeBlocked","false"),t=!l.attr("disabled"),l.attr("to")&&(a=l.attr("to")),l.attr("from")&&(o=l.attr("from")),l.attr("prev-to")&&(n=l.attr("prev-to")),l.attr("prev-from")&&(i=l.attr("prev-from")),a&&n&&a===n&&(s=!1),n||(s=!1),o&&i&&o===i&&(r=!1),i||(r=!1),a&&l.attr("prev-to",a),o&&l.attr("prev-from",o),(s||r)&&f&&(d=!0),s&&!f&&(d=!0),t&&d&&l.trigger("change"),O.find(".range_slider_thumb").off(Odigeo.Events.touchend,e),O.find(".range_slider_thumb").off(Odigeo.Events.touchmove,H),_.delay(function(){$.event.special.swipe.settings.sensitivity=6,$.event.special.swipe.settings.threshold=.4},200)},V=function(){O.removeClass("disabled"),O.find(".range_slider_thumb").on(Odigeo.Events.touchstart,L),O.find(".range_slider_thumb").on(Odigeo.Events.swipeLeft,function(e){e.stopPropagation()})};V(),C.on("disable",function(){O.addClass("disabled"),O.find(".range_slider_thumb").off(Odigeo.Events.touchstart),O.find(".range_slider_thumb").off(Odigeo.Events.swipeLeft)}),C.on("enable",V);var Y=function(e){if(e.target!==O.find(".range_slider_thumb")[0]){var t=e.offsetX||e.originalEvent.layerX,n=R(t)+Math.max(u,l);f&&n<l+(c-l)/2?C.attr({from:n}):C.attr({to:n}),I(),Odigeo.trigger("ui-range:doneThumbDrag",{id:b,fromValue:h,toValue:g}),C.trigger("change")}};f?O.find(".range_slider_bound").on("click",Y):"line"===m?O.find(".range_slider_track").on("click",Y):O.find(".od-ui-range-slider-fix").on("click",Y)}}var z=!1;"split"===i.attr("data-appearance")&&o&&_.each(["text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","color"],function(e){s===e&&(z=!0)});var j=i.attr("id"),X=j&&j.length?$("label[for="+j+"]"):[];if(X.length)if(z){i.removeClass("od-input-text").addClass("od-input-split-input"),X.addClass("od-input-split-label");var q=$("<div>").addClass("od-input-split");q.append($("<div>").addClass("od-grid-unit od-input-split-part1").append(X)),q.append($("<div>").addClass("od-grid-unit od-input-split-part2").append(i.clone())),i.outerHtml(q)}else X.addClass("od-label")}};var e=function(){this.getMinLabel=function(e){return e},this.getMaxLabel=function(e,t){return t}},t=function(e){this.symbol=e||"h"};t.prototype=new e,(t.prototype.constructor=t).prototype.getMinLabel=function(e){return(1364e4<e?Odigeo.Utils.formatDate(e,"hourMinutes",!0):e)+this.symbol},t.prototype.getMaxLabel=function(e,t){var n=Odigeo.Utils.formatDate(t,"justDay",!0)-Odigeo.Utils.formatDate(e,"justDay",!0),i=0<n?" (+"+n+")":"";return(1364e4<t?Odigeo.Utils.formatDate(t,"hourMinutes",!0):t)+this.symbol+i};var n=function(){};n.prototype=new e,(n.prototype.constructor=n).prototype.getMinLabel=function(e){return e+"km"},n.prototype.getMaxLabel=function(e,t){return t+"km"}}()},896:function(e,t,n){"use strict";Odigeo.UIElements.enhanceSpinner=function(e,t){var n,i,a,o,s,r,d,l,c,u,p,g,h,f,m,v,b,y,w;if("true"!==e.attr("data-skip-enhance")){if(e.attr({"data-skip-enhance":!0}),(n={enabled:!0,step:Number(e.attr("step"))||1,max:Number(e.attr("max"))||9,min:Number(e.attr("min"))||0,minRange:void 0,maxRange:void 0,button:3,value:0,currVal:0}).minRange=n.min,n.maxRange=n.max,n=_.extend(n,e.data(),t),_.isUndefined(e.val())||(n.defaultValue=parseInt(e.val(),10)),e.hide(),v=$("<div>",{class:"od-ui-spinner-"+n.role+"-container spinner"}),b=$("<div>",{class:"od-ui-spinner-"+n.role+"-display spinner_display"}),n.enabled||v.addClass("disabled"),_.has(n,"tabindex")&&v.attr("tabindex",n.tabindex),e.replaceWith(v),"switcher"===n.role){for(v.append(e).append($("<div>",{class:"od-ui-spinner-switcher-field"}).append($("<div>",{class:"od-ui-spinner-switcher-inputWithDesc"}).append(b).append(e.data("description")?$("<div>",{class:"od-ui-spinner-switcher-desc",text:e.data("description")}):$(""))).append($("<div>",{class:"od-ui-spinner-switcher-buttonContainer"}).append($("<span>",{class:"ficon",text:e.data("button")})))),y=$('<select data-role="switcher">'),a=parseInt(n.min,10);a<=parseInt(n.max,10);a+=parseInt(n.step,10))$("<option>",{value:a,text:a}).appendTo(y);if(v.append($("<div>",{class:"od-ui-spinner-switcher-switcherContainer switcher_container"}).append(y)),w=Odigeo.UIElements.enhanceSwitcher(y),!_.isUndefined(n.info))for(o=n.info,a=0;a<o.length;a++)v.find(".switcher_container .switcher").append($("<div>",{class:"od-ui-spinner-switcher-info",text:o[a]}));y.trigger("change",n.defaultValue),y.on("change",_.bind(function(){c(null,y[0].value),s(!1)},this))}else if("aside"===n.role){var C,E,x,O=$("<div>",{class:"od-aside-button dec",text:"-",tabindex:"-1"}),S=$("<div>",{class:"od-aside-button inc",text:"+",tabindex:"-1"});E="middle"===e.data("display")?(C=O,b):(C=b.addClass("display-left"),O),x=S,v.append(e).append($("<div>",{class:"od-ui-spinner-aside-field odf-text-ellipsis",text:e.data("aside")}).append($("<span>",{class:"od-ui-spinner-aside-description",text:" "+e.data("description")}))).append($("<div>",{class:"od-ui-spinner-aside-buttons"}).append($("<div>",{class:"od-ui-spinner-aside-buttonContainer"}).append($(C)).append($(E)).append($(x))))}else if("odf-aside"===n.role){var T=_.template($(n.template).html(),Odigeo.Utils.getTmplSettings());v.append(e).append(T({info:e.data("info"),description:e.data("description")})),b=v.find(".spinner_display")}else v.append(e).append($("<div>",{class:"od-ui-spinner-incrementer-field"}).append($("<div>",{class:"od-ui-spinner-incrementer-buttonContainerout dec spinner_incrementer_dec"}).append($("<div>",{class:"od-ui-spinner-incrementer-buttonContainer dec"}).append($("<span>",{class:"od-incrementer-button-plus",text:"_"})))).append($("<div>",{class:"od-ui-spinner-incrementer-inputWithDesc"}).append(b)).append($("<div>",{class:"od-ui-spinner-incrementer-buttonContainerout inc spinner_incrementer_inc"}).append($("<div>",{class:"od-ui-spinner-incrementer-buttonContainer inc"}).append($("<span>",{class:"od-incrementer-button-less",text:"+"}))))),_.isUndefined(n.info)||(o=n.info,_.isArray(o)?_.each(o,function(e){v.append($("<div>",{class:"od-ui-spinner-incrementer-info",text:e}))}):_.isString(o)&&v.append($("<div>",{class:"od-ui-spinner-incrementer-info",text:o})));return u=function(t){c.call(this,null,parseInt(e.val(),10)+t)},s=function(e){v.toggleClass("active",e)},r=function(e){v.toggleClass("disabled",!e)},l=function(){c(null,n.defaultValue)},d=function(e,t){_.map(t,function(e){var t=parseInt(e,10);return _.isNaN(t)?e:t}),$.extend(!0,n,t),_.isUndefined(t.minRange)&&_.isUndefined(t.maxRange)||h.apply(this)},h=function(){var e;n.minRange<n.value&&c(null,n.minRange),n.value>n.maxRange&&c(null,n.maxRange),"switcher"===n.role?(e=_.range(n.min,n.minRange).concat(_.range(n.maxRange+1,n.max+1)),w.disableItems(null,e)):(n.currVal===Math.min(n.max,n.maxRange)?v.find(".inc").addClass("disabled"):v.find(".inc").removeClass("disabled"),n.currVal===Math.max(n.min,n.minRange)?v.find(".dec").addClass("disabled"):v.find(".dec").removeClass("disabled"))},f=function(){return v.hasClass("active")},m=function(){return!v.hasClass("disabled")},p=function(t){t&&(t.stopPropagation(),t.preventDefault()),m()&&e.triggerHandler(f()?"blur":"focus")},g=function(t,n){n&&(n.stopPropagation(),n.preventDefault()),m()&&(e.trigger("focus"),u.call(this,t))},(c=function(t,i){var a,o;_.isUndefined(i)&&(i=n.defaultValue),(a=_.isObject(i)?parseInt(i.value,10):parseInt(i,10))<Math.max(n.min,n.minRange)||a>Math.min(n.max,n.maxRange)||(e[0].value=a,"switcher"===n.role?w.setValue(t,a,!0):(a===Math.min(n.max,n.maxRange)?v.find(".inc").addClass("disabled"):v.find(".inc").removeClass("disabled"),a===Math.max(n.min,n.minRange)?v.find(".dec").addClass("disabled"):v.find(".dec").removeClass("disabled"),n.currVal=a),_.includes(["aside","odf-aside"],n.role)?b.text(a):(o=e.data("pluralforms")?Odigeo.Utils.pluralizeAll(e.data("pluralforms"),a):(0===a?o=e.data("zero"):1===a?o=e.data("singular"):1<=a&&(o=e.data("plural")),Odigeo.Utils.processCmsPlaceholder(a,o)),b.text(o)),i.silent||e.trigger("change",a))})(null,n.defaultValue),i={setValue:function(t,n){_.bind(c,this,t,n)(),e.closest(".more_options").removeClass("open")}},e.on("open focus",_.bind(s,this,!0)).on("close blur",_.bind(s,this,!1)).on("enable",_.bind(r,this,!0)).on("disable",_.bind(r,this,!1)).on("setValue",_.bind(c,this)).on("setDefault",_.bind(l,this)).on("config",_.bind(d,this)),"switcher"===n.role?v.on(Odigeo.Events.tap,_.bind(p,this)):v.on(Odigeo.Events.tap,".inc",_.bind(g,this,1)).on(Odigeo.Events.tap,".dec",_.bind(g,this,-1)),i}}},897:function(e,t,n){"use strict";Odigeo.UIElements.enhanceSwitcher=function(e,t){var n,i,a,o,s,r,d,l,c,u,p;if("true"===e.attr("data-skip-enhance"))return e;switch(e.attr({"data-skip-enhance":!0}),n={style:"od-ui-switcher",enabled:!0,hideHintTimeout:5e4,button:!0},n=_.extend(n,e.data(),t),l=$("<div>",{class:"switcher"}),n.enabled&&!e.is("[disabled]")||l.addClass("disabled"),_.has(n,"tabindex")&&l.attr("tabindex",n.tabindex),e.attr("data-role")){case"switcher":l.addClass(n.style),e.replaceWith(l),l.append(e.hide()),c=$("<ul>",{class:"od-ui-switcher-tabs"}).appendTo(l),$.each(e.children("option"),function(e,t){null!==t.getAttribute("data-hint")&&(u=$("<div>",{class:"switcher_hint_tooltip od-ui-switcher-tooltip hidden"}).append($("<div>",{class:"tooltip-arrow-border"})).append($("<div>",{class:"tooltip-arrow"})).append($("<div>",{class:"tooltip-content"}).append($("<div>",{class:"od-ui-switcher-tooltip-primary-text",text:t.getAttribute("data-hint")})).append(_.isNull(t.getAttribute("data-hint-secondary"))?$():$("<div>",{class:"od-ui-switcher-tooltip-secondary-text",text:t.getAttribute("data-hint-secondary")})))),c.append($("<li>",{class:"od-ui-switcher-tab switcher_tab wl-bookingcom-text"+(t.selected?" active":""),"data-value":t.value}).append($("<span>",{class:"switcher_label "+(null!==t.getAttribute("data-icon")?"ficon":"od-ui-switcher-label"),html:t.innerHTML})).append(u))});break;case"odf-switcher":l.addClass("switcher odf-btn-group-flex odf-btn-group"),e.replaceWith(l),l.append(e.hide()),$.each(e.children("option"),function(t,n){var i=$(n).data("id")||e.attr("id")+"_"+t,a={type:"radio",class:"odf-radio-btn",name:e.attr("name")||e.attr("id"),value:n.value,id:i};n.selected&&(a.checked="checked"),null!==n.getAttribute("data-hint")&&(u=$("<div>",{class:"switcher_hint_tooltip od-ui-switcher-tooltip hidden"}).append($("<div>",{class:"tooltip-arrow-border"})).append($("<div>",{class:"tooltip-arrow"})).append($("<div>",{class:"tooltip-content"}).append($("<div>",{class:"od-ui-switcher-tooltip-primary-text",text:n.getAttribute("data-hint")})).append(_.isNull(n.getAttribute("data-hint-secondary"))?$():$("<div>",{class:"od-ui-switcher-tooltip-secondary-text",text:n.getAttribute("data-hint-secondary")})))),l.append($("<label>",{class:"odf-btn odf-btn-light odf-radio-btn-label switcher_tab"+(n.selected?" active":""),"data-value":n.value,for:i}).append($("<input>",a),$("<span>",{html:n.innerHTML})).append(u))}),Odigeo.Device.navigator.isIOS10&&(p=l.find(".switcher_tab")).find("span").height(p.height()-30),l.find(".odf-col").first().addClass("first-of-type").end().last().addClass("last-of-type");break;case"native":l.addClass("od-ui-native-switcher"),e.addClass("od-ui-native-switcher-display").replaceWith(l),n.button&&l.append($("<div>",{class:"od-ui-native-switcher-buttonContainer"}).append($("<span>",{class:"odf-icon odf-icon-arrow-down od-icon-arrow-down"}))),l.append(e),e.show()}switch(s=function(t,n){$(this).hasClass("disabled")||$(this).closest(".switcher").hasClass("disabled")||(e.trigger("hideHint"),$(this).find(".switcher_hint_tooltip").removeClass("hidden"),r($(this)),e.val($(this).data("value")),Odigeo.trigger("switcher:field-action",{value:e[0].value}),n||e.trigger("change",e[0].value).triggerHandler("focus"))},r=function(e){e.siblings().find(".active").removeClass("active"),e.find(".odf-btn").addClass("active"),e.addClass("active").siblings().removeClass("active")},a=function(t){t?(e.removeAttr("disabled"),e.trigger("hideHint"),e.parent().find(".active").find(".switcher_hint_tooltip").removeClass("hidden")):e.attr("disabled","disabled"),n.enabled=t,l.toggleClass("disabled",!t)},o=function(t,n){var i,a=l.find(".switcher_tab"),o=$();t=[].concat(t),$.each(t,function(t,s){var r=a.filter('[data-value="'+s+'"]');o=o.add(r),r.toggleClass("disabled",!n),i=e.children('[value="'+s+'"]'),n?i.removeAttr("disabled"):(e[0].value===i[0].value&&(e[0].value="",e.trigger("change",e[0].value)),i.removeAttr("selected").attr("disabled","disabled"))}),a.not(o).removeClass("disabled")},d=function(e,t){$(this).closest(".switcher").find('[data-value="'+t+'"]').addClass("active").siblings().removeClass("active")},i={enable:function(){_.bind(a,this,!0)()},disable:function(){_.bind(a,this,!1)()},enableItems:function(e,t){_.bind(o,this,t,!0)()},disableItems:function(e,t){_.bind(o,this,t,!1)()},hideHint:function(){l.find(".switcher_hint_tooltip").addClass("hidden")},setValue:function(t,n,i){switch(e.attr("data-role")){case"switcher":case"odf-switcher":l.find('[data-value="'+n+'"]').trigger(Odigeo.Events.tap,i);break;default:e.val(n).trigger("change",n)}},setDefault:function(){return e.trigger("change",e.val())},clearTimeout:function(){throw new Error("switcher.clearTimeout: NOT IMPLEMENTED")}},e.attr("data-role")){case"switcher":case"odf-switcher":l.on(Odigeo.Events.tap,".switcher_tab",s),e.on(Odigeo.Events.change,d)}return e.on("setValue",_.bind(i.setValue,this)).on("setDefault",_.bind(i.setDefault,this)).on("enable",_.bind(i.enable,this)).on("disable",_.bind(i.disable,this)).on("hideHint",_.bind(i.hideHint,this)).on("disableItems",_.bind(i.disableItems,this)).on("enableItems",_.bind(i.enableItems,this)),i}},898:function(e,t,n){"use strict";Odigeo.UIElements.enhanceTabs=function(e,t){var n={defaultTab:"gallery"},i="odf-hidden",a=".tab_panel",o="data-active-tab",s="active",r=e instanceof $?e:$(e),d=_.extend({},n,t),l=$(d.panelSelector);if(!_.isEmpty(r)&&r instanceof $&&"tabs"===r.attr("data-role")&&!_.reduce(r,function(e,t){return e&&"true"===$(t).attr("data-skip-enhance")},!0)){r.attr(o,-1),d.allowEmptySelection=!0===d.allowEmptySelection||"true"===d.allowEmptySelection;var c,u=function(e,t,n,i,a){e.find(t).each(function(t){$(this).attr("data-index",t),$(this).hasClass(n)===a&&e.attr("data-active-"+i,t)})},p=function(e,t){e.toggleClass(i,"hide"===t)},g=function(e,t){_.forEach(l,function(n){p($(n).find(a).eq(e),t)})},h=function(e,t){p(l.find(".panel_"+e),t)},f=function(){g(m(),"hide")},m=function(){return parseInt(l.attr("data-active-panel"),10)},v=function(){return r.find("li")},b=function e(t){var n=v();return 0===n.length?null:n.filter('[data-panel="'+t+'"]').length?t:e(y(t))},y=function(e){var t=v().map(function(e,t){return $(t).attr("data-panel")}),n=_.indexOf(t,e);return++n<t.length?t[n]:t[0]},w=function(){l.attr("data-active-panel",0),l.find(a).addClass(i),r.find("li.active").removeClass(s)},C=function(e){r.find("li.active").removeClass(s);var t=r.find("li").filter(function(t,n){return $(n).attr("data-panel")===e}).toggleClass(s);r.attr("data-active-tab",t.attr("data-index")),l.attr("data-active-panel",t.attr("data-index"))};return _.forEach(r,function(e){u($(e),"li",s,"tab",!0)}),(c=d.defaultTab)!==n.defaultTab&&(g(0,"hide"),C(c),h(c,"show")),_.forEach(l,function(e){u($(e),a,i,"panel",!1)}),r.attr({"data-skip-enhance":!0}),r.on(Odigeo.Events.tap,"li",function(){var e=$(this);if(d.allowEmptySelection||!e.hasClass(s)){r.find("li.active").not(this).removeClass(s),e.toggleClass(s),f();var t=e.attr("data-index");r.attr(o,e.hasClass(s)?t:-1),l.attr("data-active-panel",t),g(m(),"show"),(d.allowEmptySelection?r:r.find("li.active")).trigger("change",parseInt(r.attr(o),10))}}),r.on("setStyleModified",function(e,t){var n=_.isUndefined(t)?"":"[data-index="+t+"]";$(this).find("li"+n).toggleClass("applied",!0)}),r.on("setStyleDefault",function(e,t){var n=_.isUndefined(t)?"":"[data-index="+t+"]";$(this).find("li"+n).toggleClass("applied",!1)}),{getPanel:function(e){return _.bind(b,this,e)()},setActivePanelIndex:function(){return _.bind(w,this)()},togglePanelWithName:function(e,t){return _.bind(h,this,e,t)()},hideActivePanel:function(){return _.bind(f,this)()},setActiveTab:function(e){return _.bind(C,this,e)()}}}}},899:function(e,t,n){"use strict";Odigeo.UIElements.enhanceTooltip=function(e){var t,n,i;return 0!==(t=e instanceof $?e:$(e)).length&&("true"!==t.attr("data-skip-enhance")?(t.attr({"data-skip-enhance":!0}),n=function(){0!==t.find(".tooltips-close").length&&t.find(".tooltips-close").on(Odigeo.Events.tap,i),t.removeClass("hidden")},i=function(){0!==t.find(".tooltips-close").length&&t.find(".tooltips-close").off(Odigeo.Events.tap),t.off(Odigeo.Events.touchend),t.addClass("hidden")},t.addClass("hidden"),t.on("showTooltip",n),t.on("hideTooltip",i),{show:n,hide:i}):void 0)}},900:function(e,t,n){"use strict";var i;i={closeOnOuterClick:!0,closeOnNavigate:!0,closingClass:".lightbox_close",delay:0,focusClass:"",openClass:"open",overFullPage:!0,blockScroll:!0},Odigeo.UIElements.lightboxes=[],Odigeo.UIElements.Lightbox=function(e,t){this.$container=e,this.opts=_.extend({},i,t),this.opts.overFullPage&&this.attachToMainPage(),this.bindEvents()},_.extend(Odigeo.UIElements.Lightbox.prototype,{bindEvents:function(){var e=[{name:"tap",selector:this.opts.closingClass,handler:"onTapClosingClass"}];_.each(e,function(e){_.isUndefined(e.selector)?this.$container.on(e.name,_.bind(this[e.handler],this)):this.$container.on(Odigeo.Events[e.name],e.selector,_.bind(this[e.handler],this))},this),this.opts.closeOnOuterClick&&this.enableCloseOnOuterClick(),this.opts.closeOnNavigate&&this.enableCloseOnNavigate()},toggle:function(e,t){var n=_.isUndefined(t)||_.isNull(t)?this.opts.delay:t;_.delay(_.bind(function(){this.$container.toggleClass(this.opts.openClass,e),this.setFocus(this.opts.focusClass),this.opts.blockScroll&&this.toggleMainPageScroll(e)},this),n),this.toggleList(e),this.notify(e?"open":"close")},toggleList:function(e){e?Odigeo.UIElements.lightboxes.push(this.$container):Odigeo.UIElements.lightboxes=_.without(this.lightboxes,this.$container)},remove:function(e){var t=_.isUndefined(e)||_.isNull(e)?this.opts.delay:e;_.delay(_.bind(function(){this.$container.remove(),this.opts.blockScroll&&this.toggleMainPageScroll(!1)},this),t),this.toggleList(!1),this.notify("remove")},isOpen:function(){return this.$container.hasClass(this.opts.openClass)},onTapClosingClass:function(){this.toggle(!1,0)},setFocus:function(e){e&&_.delay(_.bind(function(){this.$container.find(e).focus()},this),100)},enableCloseOnOuterClick:function(){this.$container.on(Odigeo.Events.tap,_.bind(function(e){$(e.target).is(this.$container)&&this.onTapClosingClass()},this))},enableCloseOnNavigate:function(){this.$container.on("lightbox:closeOnNavigate",_.bind(this.remove,this))},attachToMainPage:function(){this.$container.detach().appendTo(Odigeo.Device.getViewport())},notify:function(e){this.trigger("lightbox:"+e)},toggleMainPageScroll:function(e){Odigeo.Device.getViewport().toggleClass("od-viewport-no-vertical-scroll",e)}},Backbone.Events)}});
